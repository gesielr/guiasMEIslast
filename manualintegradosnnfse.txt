Sistema Nacional 


Nota Fiscal de Serviço Eletrônica 


 


 


 


 


 


 


 


Manual Integrado do 


Sistema Nacional NFS-e 


 


 


 


 


 


 


 


 


 


 


 


 


 


 


 


 


 


 


 


 


 


 


 


 


 


Versão 1.00.02 


 
Setembro 2022 


 






Índice 


 


ÍNDICE 
................................
................................
................................
................................
................................
... 
3 
HISTÓRICO DE VERSÕES DO MANUAL 
................................
................................
................................
... 
9 
PARTE I - MODELO CONCEITUAL DO SISTEMA NACIONAL NFS-E 
................................
.......... 
11 
1. INTRODUÇÃO 
................................
................................
................................
................................
............... 
12 
2. O SISTEMA NACIONAL NFS-E 
................................
................................
................................
.............. 
15 
3. MÓDULOS DO SISTEMA NACIONAL NFS-E 
................................
................................
.................... 
16 
3.1. PORTAL NFS-E 
................................
................................
................................
................................
................... 
17 
3.2. PAINEL ADMINISTRATIVO NACIONAL NFS-E 
................................
................................
................................
... 
17 
3.3. PAINEL ADMINISTRATIVO MUNICIPAL NFS-E 
................................
................................
................................
.. 
17 
3.4. CADASTRO NACIONAL DE CONTRIBUINTES NFS-E (CNC NFS-E) (EM DESENVOLVIMENTO) 
................... 
18 
3.5. CONTROLE DE ACESSO NFS-E 
................................
................................
................................
.......................... 
18 
3.6. EMISSOR PÚBLICO NACIONAL NFS-E – API (SEFIN NACIONAL NFS-E) (EM DESENVOLVIMENTO) 
........ 
19 
3.7. EMISSOR PÚBLICO NACIONAL NFS-E – WEB (EM DESENVOLVIMENTO) 
................................
..................... 
19 
3.8. EMISSOR PÚBLICO NACIONAL NFS-E – MÓVEL (EM DESENVOLVIMENTO) 
................................
.................. 
19 
3.9. PAINEL DE CRÉDITOS NFS-E (EM DESENVOLVIMENTO) 
................................
................................
................ 
19 
3.10. PAINEL DE DÉBITOS NFS-E (EM DESENVOLVIMENTO) 
................................
................................
................ 
19 
3.11. MÓDULO DE APURAÇÃO NACIONAL NFS-E (MAN NFS-E) (EM DESENVOLVIMENTO) 
............................. 
20 
3.12. AMBIENTE DE DADOS NACIONAL NFS-E (ADN NFS-E) 
................................
................................
............ 
20 
3.13. INTEGRAÇÕES DO SISTEMA NACIONAL NFS-E 
................................
................................
............................. 
21 
3.13.1. Consulta aos Registros Cadastrais de Pessoa Jurídica– CNPJ 
................................
........... 
21 
3.13.2. Consulta aos Registros Cadastrais de Pessoa Física – CPF 
................................
................ 
21 
3.13.3. Serviço Verificador de Registros Cadastrais – Simples Nacional 
................................
..... 
21 
3.13.4. Consulta ao PGDAS-D 
................................
................................
................................
....................... 
21 
3.13.5. TOM 
................................
................................
................................
................................
......................... 
21 
4. CONTROLE DE ACESSO AOS SISTEMAS WEB 
................................
................................
............... 
21 
5. REGISTRO DE LOG DOS SISTEMAS WEB 
................................
................................
........................ 
21 
6. DEFINIÇÕES TÉCNICAS DO SISTEMA NACIONAL NFS-E 
................................
........................ 
22 
6.1. PADRÕES TÉCNICOS 
................................
................................
................................
................................
........... 
22 
6.1.1. Padrão de Documento XML 
................................
................................
................................
............... 
22 
a. Padrão de Codificação 
................................
................................
................................
................................
............ 
22 
b. Declaração namespace 
................................
................................
................................
................................
.......... 
22 
c. Documentos da NFS-e 
................................
................................
................................
................................
............ 
23 
d. Otimização na montagem do arquivo 
................................
................................
................................
.................... 
23 
e. Validação de Esquema 
................................
................................
................................
................................
........... 
23 
6.1.2. Padrão de Comunicação 
................................
................................
................................
..................... 
23 
6.1.3. Padrão de Certificado Digital 
................................
................................
................................
............ 
24 
6.1.4. Padrão de Assinatura Digital 
................................
................................
................................
............ 
24 
6.1.5. Validação de Assinatura Digital pelo Sistema Nacional NFS-e 
................................
............ 
27 
6.2. MODELO OPERACIONAL 
................................
................................
................................
................................
...... 
27 
6.2.1. Serviços Síncronos 
................................
................................
................................
............................... 
27 
6.2.2. Serviços Assíncronos 
................................
................................
................................
........................... 
27 
6.2.3. Validação da Estrutura XML dos Documentos 
................................
................................
........... 
27 
6.2.4. Utilização da API 
................................
................................
................................
................................
... 
28 
6.2.5. Esquemas XML dos Documentos 
................................
................................
................................
.... 
28 
6.3. CONTROLE DE VERSIONAMENTO 
................................
................................
................................
....................... 
28 
7. DF-E DO SISTEMA NACIONAL NFS-E 
................................
................................
............................... 
31 
7.1. DECLARAÇÃO DE PRESTAÇÃO DE SERVIÇO – DPS................................
................................
.......................... 
31 
7.2. NOTA FISCAL DE SERVIÇO ELETRÔNICA – NFS-E 
................................
................................
.......................... 
31 
7.3. PEDIDO DE REGISTRO DE EVENTO 
................................
................................
................................
.................... 
31 
7.4. EVENTOS DE NFS-E 
................................
................................
................................
................................
........... 
31 
7.4.1. Evento de Cancelamento de NFS-e 
................................
................................
................................
............... 
31 
7.4.2. Evento de Cancelamento por Substituição de NFS-e 
................................
................................
.................... 
31 
7.4.3. Solicitação de Análise Fiscal para Cancelamento de NFS-e 
................................
................................
.......... 
32 
7.4.4. Cancelamento de NFS-e Deferido por Análise Fiscal 
................................
................................
.................... 
32 
7.4.5. Cancelamento de NFS-e Indeferido por Análise Fiscal 
................................
................................
................. 
32 
7.4.6. Manifestação de NFS-e 
................................
................................
................................
................................ 
32 
a) Confirmação (Prestador/Tomador/Intermediário)................................
................................
................................
. 
32 
b) Confirmação Tácita 
................................
................................
................................
................................
................ 
32 
c) Rejeição (Prestador/Tomador/Intermediário) 
................................
................................
................................
....... 
32 
d) Anulação da Rejeição 
................................
................................
................................
................................
............. 
33 
7.4.7. Cancelamento de NFS-e por Ofício 
................................
................................
................................
............... 
33 
7.4.8. Bloqueio de NFS-e por Ofício 
................................
................................
................................
........................ 
33 
7.4.9. Desbloqueio de NFS-e por Ofício 
................................
................................
................................
.................. 
34 
8. ESQUEMAS XSD 
................................
................................
................................
................................
.......... 
34 
9. DOCUMENTAÇÃO TÉCNICA DAS APIS (SWAGGER) 
................................
................................
... 
34 
10. LEIAUTES, REGRAS DE NEGÓCIO E MENSAGENS DE ERRO 
................................
................ 
34 
PARTE II - MANUAL DE INTEGRAÇÃO DOS MUNICÍPIOS CONVENIADOS AO SISTEMA 
NACIONAL NFS-E 
................................
................................
................................
................................
............ 
36 
11. CONTROLE DE ACESSO AO SISTEMA NACIONAL NFS-E – MUNICÍPIOS 
...................... 
37 
11.1. GERENCIAMENTO DE PERFIS E NÍVEIS DE ACESSO 
................................
................................
...................... 
37 
11.1.1. Gerenciar Níveis e Perfis de Acesso dos Gestores Nacionais 
................................
................................
..... 
37 
11.1.2. Gerenciar Níveis e Perfis de Acesso dos Gestores Municipais 
................................
................................
.... 
37 
12. PAINEL ADMINISTRATIVO NACIONAL NFS-E – WEB 
................................
............................ 
39 
12.1. PAINEL PRINCIPAL 
................................
................................
................................
................................
............ 
39 
12.2. CADASTRO DE GESTORES NACIONAIS 
................................
................................
................................
........... 
39 
12.2.1. Consultar Gestores Nacionais 
................................
................................
................................
........ 
39 
12.2.2. Incluir Gestor Nacional 
................................
................................
................................
..................... 
40 
12.2.3. Alterar Informações do Gestor Nacional 
................................
................................
................... 
41 
12.2.4. Desativar Gestor Nacional 
................................
................................
................................
.............. 
41 
12.2.5. Reativar Gestor Nacional 
................................
................................
................................
................. 
41 
12.3. CADASTRO DE MUNICÍPIOS CONVENIADOS 
................................
................................
................................
... 
41 
12.3.1. Consultar Municípios Conveniados................................
................................
............................... 
42 
12.3.2. Cadastrar Município Conveniado 
................................
................................
................................
.. 
43 
12.3.3. Alterar Informações do Município Conveniado 
................................
................................
........ 
44 
12.3.4. Desativar Convênio do Município 
................................
................................
................................
. 
45 
12.3.5. Reativar Convênio do Município 
................................
................................
................................
.... 
45 
13. PAINEL ADMINISTRATIVO MUNICIPAL NFS-E – WEB................................
.......................... 
47 
13.1. MÓDULO PAINEL ADMINISTRATIVO MUNICIPAL NFS-E................................
................................
................ 
47 
13.2. ARQUITETURA DO PAINEL ADMINISTRATIVO MUNICIPAL NFS-E 
................................
................................
. 
47 
13.2.1. Ativação do Município no Sistema Nacional NFS-e 
................................
................................
................... 
47 
13.2.2. As Duas Etapas do Painel Administrativo Municipal 
................................
................................
................. 
48 
13.2.3. Parametrização por Gestores Municipais 
................................
................................
................................
.. 
48 
13.2.4. Primeira Etapa – Definição das Parametrizações e Ativação do Município................................
............... 
48 
13.2.4.1. Definição dos Gestores Municipais 
................................
................................
................................
........................... 
50 
a. Consultar Gestores Municipais 
................................
................................
................................
.............................. 
50 
b. Incluir Gestor Municipal 
................................
................................
................................
................................
......... 
51 
c. Alterar Informações do Gestor Municipal 
................................
................................
................................
.............. 
51 
d. Desativar/Reativar Gestor Municipal 
................................
................................
................................
..................... 
52 
13.2.4.2. Definição das Informações do Município 
................................
................................
................................
................. 
52 
13.2.4.1. Definição da Legislação ISSQN 
................................
................................
................................
................................
.. 
53 
a. Consultar Legislação 
................................
................................
................................
................................
.............. 
53 
b. Incluir Legislação 
................................
................................
................................
................................
.................... 
53 
c. Alterar Informações da Legislação 
................................
................................
................................
......................... 
54 
d. Encerrar vigência da Legislação 
................................
................................
................................
............................. 
54 
13.2.4.2. Definição da Configuração Convênio do Município 
................................
................................
................................
.. 
55 
13.2.4.3. Definição da Parametrização de Eventos de NFS-e 
................................
................................
................................
... 
56 
a. Cancelamento de NFS-e 
................................
................................
................................
................................
......... 
56 
b. Substituição de NFS-e 
................................
................................
................................
................................
............ 
57 
13.2.4.4. Lista de Serviços – Conceitos e Modelagem 
................................
................................
................................
............. 
58 
a. Conceito dos Subitens “Desdobrados” para o Sistema Nacional NFS-e 
................................
................................
. 
58 
b. Conceito do Código de Tributação Nacional 
................................
................................
................................
.......... 
58 
c. Conceito do Código de Tributação Municipal 
................................
................................
................................
........ 
59 
d. Conceito do Código de Tributação 99.01.01 
................................
................................
................................
.......... 
59 
e. Modelagem da Parametrização dos Subitens da Lista de Serviços 
................................
................................
........ 
59 
13.2.4.5. Definição Código de Tributação Municipal na Lista de Serviços 
................................
................................
............... 
60 
a. Definição de Alíquotas para os Serviços 
................................
................................
................................
................ 
61 
b. Definição de Dedução / Redução 
................................
................................
................................
........................... 
62 
c. Código Original do Município 
................................
................................
................................
................................ 
62 
d. Upload de Serviços 
................................
................................
................................
................................
................ 
62 
e. Download da Lista de Serviços 
................................
................................
................................
............................... 
63 
f. Listagem de Pendências 
................................
................................
................................
................................
......... 
64 
13.2.4.6. Definição do Cadastro Nacional de Contribuintes de NFS-e – Web (CNC NFS-e) 
................................
...................... 
64 
a. Cadastrar Contribuinte Local................................
................................
................................
................................
.. 
64 
b. Editar Informações do Contribuinte 
................................
................................
................................
....................... 
65 
c. Visualizar Histórico de Alterações de Informações do Contribuinte 
................................
................................
...... 
66 
d. Desabilitar Emissão de NFS-e 
................................
................................
................................
................................
. 
66 
e. Upload de Arquivo de Contribuintes do Município 
................................
................................
................................ 
66 
13.2.4.7. Definição de Regimes Especiais de Tributação 
................................
................................
................................
......... 
67 
13.2.4.8. Definição de Retenções de ISSQN 
................................
................................
................................
............................. 
67 
13.2.4.9. Definição de Benefícios Municipais 
................................
................................
................................
.......................... 
69 
13.2.4.10. “Ativação” do Município no Sistema Nacional NFS-e................................
................................
.............................. 
70 
13.2.5. Segunda Etapa – Alteração das Parametrizações Municipais Após Ativação 
................................
........... 
71 
13.2.5.1. Painel Principal 
................................
................................
................................
................................
......................... 
71 
13.2.5.2. Alteração da Legislação ISSQN 
................................
................................
................................
................................
.. 
71 
a. Consultar Legislação 
................................
................................
................................
................................
.............. 
71 
b. Incluir Legislação 
................................
................................
................................
................................
.................... 
72 
c. Alterar Informações da Legislação 
................................
................................
................................
......................... 
72 
d. Encerrar vigência da Legislação 
................................
................................
................................
............................. 
72 
13.2.5.3. Alteração dos Parâmetros da Lista de Serviços 
................................
................................
................................
......... 
73 
a. Alteração Alíquota 
................................
................................
................................
................................
................. 
73 
b. Encerramento de Vigência da Alíquota 
................................
................................
................................
.................. 
74 
c. Alteração Dedução/Redução 
................................
................................
................................
................................
. 
75 
d. Alteração Regime Especial de Tributação 
................................
................................
................................
.............. 
75 
13.2.5.4. Encerrar Vigência da Retenção 
................................
................................
................................
................................
. 
75 
13.2.5.5. Encerrar Vigência de Benefícios Municipais 
................................
................................
................................
............. 
76 
13.2.6. Verificar Pendências 
................................
................................
................................
................................
.. 
76 
13.2.7. Cadastro de Gestores Municipais 
................................
................................
................................
.............. 
76 
13.2.8. Cadastro de Contribuintes Municipais (CNC NFS-e) 
................................
................................
................... 
77 
a. Visão Geral 
................................
................................
................................
................................
............................. 
77 
b. Exibir Informações do Contribuinte 
................................
................................
................................
....................... 
78 
c. Visualizar Histórico de Alterações de Informações do Contribuinte 
................................
................................
...... 
78 
d. Contribuintes Locais 
................................
................................
................................
................................
............... 
79 
e. Cadastrar Contribuinte Local................................
................................
................................
................................
.. 
80 
f. Editar Informações do Contribuinte 
................................
................................
................................
....................... 
81 
g. Desabilitar Emissão de NFS-e 
................................
................................
................................
................................
. 
81 
h. Upload de Arquivo de Contribuintes do Município 
................................
................................
................................ 
82 
i. Leiaute do arquivo CSV para upload 
................................
................................
................................
...................... 
82 
j. Upload de Arquivo Autorização de Emissão 
................................
................................
................................
.......... 
82 
13.2.9. Consulta NFS-e 
................................
................................
................................
................................
........... 
82 
13.2.9.1. Visualizar NFS-e e Eventos Vinculados 
................................
................................
................................
...................... 
83 
13.2.9.1. Cancelamento por Ofício 
................................
................................
................................
................................
.......... 
85 
14. GERENCIAMENTO MUNICIPAL NO SISTEMA NACIONAL NFS-E – API 
.......................... 
86 
14.1. VISÃO GERAL 
................................
................................
................................
................................
................... 
86 
14.2. API PARÂMETROS MUNICIPAIS 
................................
................................
................................
....................... 
86 
14.2.1. Descrição 
................................
................................
................................
................................
............... 
86 
14.2.2. Métodos 
................................
................................
................................
................................
.................. 
86 
a. GET – /parametros_municipais/{codigoMunicipio}/convenio 
................................
................................
............... 
86 
b. GET – /parametros_municipais/{ codigoMunicipio }/aliquotas 
................................
................................
............. 
86 
c. GET – /parametros_municipais/{codigoMunicipio}/regimes_especiais 
................................
................................ 
86 
d. GET – /parametros_municipais/{codigoMunicipio}/retencoes 
................................
................................
.............. 
86 
e. GET – /parametros_municipais/{codigoMunicipio}/beneficiomunicipal/ {nBM}................................
................... 
86 
14.3. API NFS-E 
................................
................................
................................
................................
....................... 
86 
14.3.1. Descrição 
................................
................................
................................
................................
............... 
86 
14.3.2. Métodos 
................................
................................
................................
................................
.................. 
86 
a. GET – /nfse/{chaveAcesso} 
................................
................................
................................
................................
.... 
86 
14.4. API DPS 
................................
................................
................................
................................
.......................... 
87 
14.4.1. Descrição 
................................
................................
................................
................................
............... 
87 
14.4.2. Métodos 
................................
................................
................................
................................
.................. 
87 
a. GET – /dps/{id} 
................................
................................
................................
................................
....................... 
87 
b. HEAD – /dps/{id} 
................................
................................
................................
................................
.................... 
87 
14.5. API EVENTOS 
................................
................................
................................
................................
................... 
87 
14.5.1. Descrição 
................................
................................
................................
................................
............... 
87 
a. Cancelamento de NFS-e Deferido por Análise Fiscal 
................................
................................
.............................. 
88 
b. Cancelamento de NFS-e Indeferido por Análise Fiscal 
................................
................................
........................... 
88 
c. Manifestação de NFS-e – Anulação da Rejeição 
................................
................................
................................
.... 
88 
d. Cancelamento de NFS-e por Ofício 
................................
................................
................................
........................ 
88 
e. Bloqueio de NFS-e por Ofício 
................................
................................
................................
................................
. 
88 
f. Desbloqueio de NFS-e por Ofício 
................................
................................
................................
........................... 
89 
14.5.2. Métodos 
................................
................................
................................
................................
.................. 
90 
a. POST – /nfse/{chaveAcesso}/eventos 
................................
................................
................................
.................... 
90 
b. GET – /nfse/{chaveAcesso}/eventos 
................................
................................
................................
...................... 
91 
c. GET – /nfse/{chaveAcesso}/eventos/{tipoEvento} 
................................
................................
................................
. 
91 
d. GET – /nfse/{chaveAcesso}/eventos/{tipoEvento}/{numSeqEvento} 
................................
................................
..... 
91 
15. AMBIENTE DE DADOS NACIONAL NFS-E – COMPARTILHAMENTO E DISTRIBUIÇÃO 
DE DF-E 
................................
................................
................................
................................
................................ 
92 
15.1.1. Compartilhamento de DF-e para o ADN NFS-e 
................................
................................
...... 
92 
15.1.2. Distribuição de DF-e pelo ADN NFS-e 
................................
................................
........................ 
92 
15.2. API DF-E PARA MUNICÍPIOS 
................................
................................
................................
.......................... 
93 
15.2.1. Descrição 
................................
................................
................................
................................
............... 
93 
a. Recepção de um Lote de DF-e dos sistemas municipais 
................................
................................
........................ 
93 
b. Distribuição de Conjunto de DF-e a Partir do NSU Informado 
................................
................................
............... 
94 
c. Consulta DF-e Vinculado ao NSU Informado................................
................................
................................
.......... 
94 
d. Consulta de NFS-e por Chave de Acesso Informada 
................................
................................
.............................. 
94 
15.2.2. Métodos 
................................
................................
................................
................................
.................. 
94 
a. POST /DFe/................................
................................
................................
................................
............................. 
94 
b. GET /DFe/{UltimoNSU} 
................................
................................
................................
................................
.......... 
95 
c. GET /DFe/{NSU} 
................................
................................
................................
................................
..................... 
95 
15.3. API DANFSE 
................................
................................
................................
................................
................... 
96 
15.3.1. Descrição 
................................
................................
................................
................................
............... 
96 
15.3.2. Métodos 
................................
................................
................................
................................
.................. 
96 
a. GET – /danfse/{chaveAcesso} 
................................
................................
................................
................................ 
96 
PARTE III - MANUAL DE ORIENTAÇÕES AOS CONTRIBUINTES DO ISSQN PARA O 
SISTEMA NACIONAL NFS-E 
................................
................................
................................
........................ 
98 
16. CONTROLE DE ACESSO AO SISTEMA NACIONAL NFS-E – CONTRIBUINTES 
.............. 
99 
16.1. GERENCIAMENTO DE PERFIS E NÍVEIS DE ACESSO 
................................
................................
...................... 
99 
16.1.1. Gerenciar Níveis e Perfis de Acesso do Usuário (Emitentes / Não Emitentes de NFS-e) 
............................ 
99 
16.2. CONTROLE DE PRIMEIRO ACESSO (EMITENTES / NÃO EMITENTES DE NFS-E) 
................................
........ 
99 
16.2.1. Realizar primeiro acesso ao Sistema Nacional NFS-e 
................................
................................
................ 
99 
16.2.2. Recuperar senha do usuário 
................................
................................
................................
.................... 
103 
16.2.3. Confirmação do Cadastramento Presencial ao Usuário 
................................
................................
.......... 
106 
16.3. CONTROLE DE ACESSO AO SISTEMA NACIONAL NFS-E PARA O EMISSOR WEB 
................................
...... 
106 
16.3.1. Controle de Acesso por Usuário/Senha 
................................
................................
................................
... 
106 
16.3.2. Controle de Acesso por Certificado Digital 
................................
................................
.............................. 
107 
16.4. CONTROLE DE ACESSO AO SISTEMA NACIONAL NFS-E PARA API 
................................
........................... 
109 
16.4.1. Verificar Certificado Digital da Assinatura do DF-e 
................................
................................
................. 
109 
16.4.2. Verificar Cadastro do Emitente do DF-e (CNC NFS-e / RFB) 
................................
................................
..... 
109 
16.5. CONTROLE DE ACESSO AO SISTEMA NACIONAL NFS-E PARA O EMISSOR MÓVEL 
................................
.. 
109 
16.5.1. API para Emitir Token para controle de acesso do Emissor Móvel 
................................
.......................... 
109 
16.5.2. Gerenciamento dos Contribuinte Municipais 
................................
................................
.......................... 
109 
16.6. CONTROLE DE ACESSO AO SISTEMA NACIONAL NFS-E VIA OAUTH 2................................
..................... 
110 
17. AMBIENTE DE DADOS NACIONAL NFS-E – DISTRIBUIÇÃO DE DF-E 
............................
111 
17.1. DISTRIBUIÇÃO DE DF-E PELO ADN NFS-E 
................................
................................
................................
................. 
111 
17.2. API DISTRIBUIÇÃO DF-E 
................................
................................
................................
................................
........ 
111 
17.2.1. Descrição 
................................
................................
................................
................................
................. 
111 
a) Distribuição de Conjunto de DF-e a Partir do NSU Informado 
................................
................................
............. 
111 
b) Consulta DF-e Vinculado ao NSU Informado................................
................................
................................
........ 
112 
c) Consulta de NFS-e por Chave de Acesso Informada 
................................
................................
............................ 
112 
17.2.2. Processamento 
................................
................................
................................
................................
........ 
112 
a) GET – /DFe/{UltimoNSU} 
................................
................................
................................
................................
..... 
112 
b) GET – /DFe/{NSU} 
................................
................................
................................
................................
................ 
113 
c) GET – /NFSe/{ChaveAcesso}/Eventos/ 
................................
................................
................................
................. 
113 
17.3. API DANFSE 
................................
................................
................................
................................
................. 
114 
17.3.1. Descrição 
................................
................................
................................
................................
............. 
114 
17.3.2. Processamento 
................................
................................
................................
................................
.. 
114 
a) GET – /danfse/{chaveAcesso} 
................................
................................
................................
.............................. 
114 






Histórico de Versões do Manual 


 


Versão 


Data 


Descrição 


1.00.02 


14/09/2022 


Alterações dos nomes dos 


campos de identificação da DPS e NFSe 


e do Pedido de Registro de Evento e Evento. 


 


Estas alterações foram realizadas nos respectivos campos 
dos leiautes que estão disponíveis no anexo: 


 


AnexoIV-LeiautesRN_ADN-SNNFSe_V1.00.02-Produção 


1.00.00 


23/07/2022 


Versão inicial 




 


 


 


 





 


 





 


 


 


 


 


 


 


 


PARTE I - MODELO CONCEITUAL DO 
SISTEMA NACIONAL NFS-e 


 


 


 



1. Introdução 


Este documento contempla todas as orientações técnicas e de negócios necessárias para 
integração do município conveniado com o Sistema Nacional NFS-e. Todos os módulos que 
compõem o sistema nacional são mencionados neste documento para fornecer ao contribuinte 
a visão geral de como o sistema está concebido e como estão estruturadas a nota fiscal de 
serviço eletrônica e guia única de pagamento, padronizadas nacionalmente. 


O objetivo deste manual é proporcionar à Administração Tributária Municipal (ATM) uma visão 
completa do ciclo de vida da NFS-e, principal documento fiscal eletrônico deste sistema, desde 
o seu nascimento, com o envio da Declaração de Prestação de Serviço, a DPS, que será validada 
de acordo com os parâmetros dos municípios envolvidos, necessário para a correta emissão da 
NFS-e. Deve-se compreender o conceito dos eventos de NFS-e, que alteram a situação da nota 
no sistema, emitidos pelo contribuinte e pelo fisco municipal, os processos do sistema que 
concedem créditos e débitos aos contribuintes para serem indicados no pagamento aos 
municípios, bem como a apuração e geração da Declaração de Apuração Nacional (DAN), seu 
valor calculado para pagamento em Documento Nacional de Arrecadação, o DNA, que é a guia 
única de pagamento. Uma vez recolhido o imposto com o pagamento realizado do DNA, resta 
aos bancos realizarem o depósito dos valores nas contas específicas dos municípios de direito a 
receberem os valores pagos e, finalmente, o retorno da informação de guia paga ao sistema 
nacional para a indicação na NFS-e de que o tributo foi pago e devidamente recolhido ao 
município. 


Assim, a ATM terá uma visão conceitual de todo o Sistema Nacional NFS-e e específica de 
módulos e funcionalidades, a ela, diretamente relacionados, o que proporcionará melhor 
entendimento quando da sua integração e utilização. 


Abaixo seguem as modelagens de Emissão da NFS-e e da Apuração do ISSQN devido, que 
demonstram os processos desde a emissão da NFS-e até seu pagamento e distribuição do tributo 
pago para o município sujeito ativo do ISSQN. 


 





 





 


 


 



2. O Sistema Nacional NFS-e 


Pensando em uma atuação coesa entre as administrações tributárias nos três níveis federativos, 
o legislador constitucional previu a necessidade de trabalho integrado entre esses entes, 
conforme disposto no artigo 37, inciso XXII, da Constituição Federal. 


O Decreto nº 6.022 de 22 de janeiro de 2007 instituiu o Sistema Público de Escrituração Digital 
- SPED, instrumento responsável pela unificação das atividades de recepção, validação, 
armazenamento e autenticação de livros e documentos que integram a escrituração contábil e 
fiscal dos empresários e das pessoas jurídicas, inclusive imunes ou isentas, mediante fluxo único 
e computadorizado de informações econômico-fiscais. 


A fim de atender o disposto no referido decreto, foram implantados e estão em funcionamento 
no âmbito do SPED: a Escrituração Contábil Digital, a Escrituração Fiscal Digital do ICMS e IPI, 
a Escrituração Fiscal Digital de Contribuições, a Nota Fiscal Eletrônica, o Conhecimento de 
Transporte Eletrônico e a Central de Balanços. 


Esse fluxo de informações digitais melhorou sobremaneira o ambiente de negócios do país e 
elevou significativamente a eficiência das administrações tributárias participantes dessa 
iniciativa. Este sistema é embasado na cooperação entre as esferas federal e estadual, ficando 
evidente a necessidade de participação dos entes municipais no fluxo de informações digitais 
existente. 


A proposta de criação de um ambiente único e padronizado (Sistema Nacional Nota Fiscal de 
Serviço Eletrônica) para compartilhamento de informações econômico-fiscais entre as 
administrações tributárias municipais e a administração tributária federal vem suprir a lacuna 
referenciada. 


O objetivo principal do sistema é a adoção de um padrão nacional para as Notas Fiscais de 
Serviço eletrônica – NFS-e. O Sistema Nacional NFS-e traz facilidade ao ambiente de negócios 
nacional relativo à prestação de serviços. Aos contribuintes, facilita o processo de emissão de 
suas NFS-e e o controle de suas obrigações tributárias relativas ao Imposto Sobre Serviço de 
Qualquer Natureza (ISSQN) e outros impostos federais que devem ser pagos em determinadas 
situações de prestações de serviços. Ao Fisco, facilita a troca de informações entre os entes das 
administrações tributárias. 


Além das facilidades mencionadas aos contribuintes, a otimização das informações que devem 
ser prestadas tem como consequência direta a diminuição do tempo e custo para cumprir suas 
obrigações em um ambiente nacional padronizado e integrado. 


Para o Fisco municipal, além de reduzir o custo de se obter e manter toda a infraestrutura e 
construir um sistema para ser oferecido ao contribuinte local, a maior vantagem é ter um sistema 
nacional onde os documentos fiscais eletrônicos se encontram centralizados, possibilitando o 
compartilhamento de informações de forma adequada, padronizada e com baixo custo. 


Com a implantação das iniciativas propostas neste programa espera-se o aumento da eficiência 
da fiscalização (tanto municipal, quanto federal) e simplificação procedimental no cumprimento 
de obrigações tributárias dos contribuintes. 


Uma vez adotado um padrão nacional, é possível garantir que os serviços prestados e declarados 
em quaisquer municípios ou no exterior sejam conhecidos por todas as partes envolvidas na 
relação de prestação de serviço (município de incidência do ISSQN, contribuinte, responsável 
tributário, local da prestação do serviço, e demais envolvidos para os quais forem estabelecidas 
regras de distribuição da informação). 


 



3. Módulos do Sistema Nacional NFS-e 


O Sistema Nacional NFS-e (SN NFS-e) é composto por subsistemas informatizados para auxiliar 
e operacionalizar a gestão do documento fiscal NFS-e. O objetivo do projeto NFS-e é a criação 
e utilização de um padrão nacional para a nota fiscal de serviço, o que gerará melhora no 
ambiente de negócios nacionalmente. Os benefícios da simplificação da obrigação acessória 
serão percebidos por todos os envolvidos: contribuintes, administrações tributárias e a 
sociedade. Os municípios brasileiros que se conveniarem ao SN NFS-e poderão usufruir dos 
subsistemas disponibilizados, mas também há outras formas de uso do sistema que não apenas 
aquelas voltadas para a gestão do ISSQN. 


Uma vez assinado o convênio, o município é cadastrado através do módulo Painel Administrativo 
Nacional pela autoridade gestora. O município está cadastrado, mas seu convênio ainda não está 
ativo. Para ativar seu convênio o município terá um prazo para realizar parametrizações e incluir 
as informações necessárias para que o sistema possa funcionar corretamente. Somente após a 
ativação do convênio o município estará habilitado efetivamente para começar a utilizar o 
SNNFS-e. 


O município cadastrado terá acesso ao módulo Painel Administrativo Municipal, que possui as 
funcionalidades necessárias para ativar seu convênio. A ativação do convênio pode ser realizada 
após o município reproduzir os dispositivos de sua legislação municipal relacionados ao ISSQN, 
bem como optar por manter ou não as informações cadastrais de seus contribuintes. Caso o 
município opte por ele mesmo manter a gestão das informações dos seus contribuintes, a 
responsabilidade sobre o credenciamento, autorização e atualização das informações (para fins 
de emissão de NFS-e no sistema nacional) é de inteira responsabilidade do próprio município 
onde o contribuinte estiver inscrito. Caso contrário, poderão emitir NFS-e pelo município pessoas 
físicas e jurídicas que possuírem endereços estabelecidos no município, conforme os cadastros 
CNPJ da RFB. 


As informações dos contribuintes são compartilhadas entre os municípios no módulo Cadastro 
Nacional de Contribuintes NFS-e (CNC NFS-e) e o gerenciamento das informações de cada 
contribuinte é realizado através de funcionalidades disponíveis no Painel Administrativo 
Municipal. Entretanto, mesmo que o município não gerencie as informações de seus contribuintes 
no CNC e opte por utilizar as informações dos cadastros da RFB, o município poderá visualizar 
as informações compartilhadas no CNC por outros municípios. 


A ativação do convênio é obrigatória para que o município possa utilizar o sistema nacional e o 
próprio sistema condiciona a ação de ativação à realização das parametrizações e inclusão das 
informações necessárias que são exigidas a todos municípios, independentemente da opção do 
convênio assinado. 


Cada administração tributária municipal, ao conveniar-se, poderá escolher quais produtos 
disponíveis no projeto nacional deseja implementar em sua cidade. Não é mandatório que o 
município disponha de infraestrutura tecnológica local, ele poderá utilizar todos os produtos da 
NFS-e nacional. Os municípios que dispuserem de infraestrutura tecnológica local poderão 
escolher, por exemplo, utilizar apenas o Ambiente de Dados Nacional. Assim, o município poderá 
utilizar os serviços que realizarão a comunicação entre os ambientes local e nacional. 


Aqueles municípios que optarem pelo uso de seus próprios sistemas informatizados de NFS-e 
podem estabelecer ou manter seus padrões técnicos internos ao seu sistema para atender seus 
contribuintes. Porém, para que possam realizar o compartilhamento de documentos fiscais 
eletrônicos pelo sistema nacional com outros municípios conveniados, devem adaptar seus 
sistemas próprios para enviar e buscar os documentos fiscais nos padrões técnicos adotados 
para o sistema nacional. Ao buscar documentos fiscais no sistema nacional somente serão 
recebidos pelo município aqueles documentos fiscais de que tenham direito, conforme regras 
pré-estabelecidas no sistema nacional. 


Os municípios que optarem pelo uso dos emissores públicos do sistema nacional serão atendidos 
pelo módulo Sefin Nacional NFS-e, já que a Sefin Nacional atende somente aos emissores 
públicos nacionais e não serve de contingência para os sistemas informatizados próprios dos 
municípios conveniados. 



As seguintes premissas são adotadas: 


• Arquitetura sistêmica padronizada e de alta disponibilidade para recepção, validação, 
armazenamento e consulta dos Documentos Fiscais Eletrônicos – DF-e; 
• Padronização dos modelos de leiautes nacionais para: 
o DPS (Declaração de Prestação de Serviço); 
o NFS-e (Nota Fiscal de Serviço Eletrônica); 
o Eventos de NFS-e; 
o Eventos de Crédito; 
o Eventos de Débito; 
o Eventos de Apuração; 



• Realizar controle de acesso aos serviços (Usuário/Senha, Certificação Digital); 
• Estabelecer um cadastro nacional de contribuintes (CNC NFS-e); 
• Uso de APIs para fornecer serviços do sistema nacional que serão acessados pelos usuários. 
A sigla API deriva da expressão inglesa Application Programming Interface que, traduzida 
para o português, pode ser compreendida como uma interface de programação de aplicação. 
ou seja, API é um conjunto de normas que possibilita a comunicação entre plataformas 
através de uma série de padrões e protocolos. 
3.1. Portal NFS-e 
3.2. Painel Administrativo Nacional NFS-e 
3.3. Painel Administrativo Municipal NFS-e 





Os módulos ADN e Sefin Nacional estão integrados para atender às necessidades dos usuários 
do Sistema Nacional NFS-e (Municípios e Contribuintes) quando o convênio municipal estiver 
vigente. 


 


Abaixo seguem breves descrições dos modelos conceituais dos diversos módulos existentes 
que compõem o Sistema Nacional NFS-e. 


 


Portal na internet pelo qual será feita a divulgação de informações sobre a NFS-e e sobre o 
Sistema Nacional NFS-e. 

As áreas de acesso restrito, disponíveis no Portal Nacional NFS-e, possibilitam o acesso ao 
Emissor Público Nacional NFS-e (Web), ao Painel Administrativo Nacional, Painel Administrativo 
Municipal e Painel da Concessionárias de Exploração de Rodovias. 


 


Disponibiliza funcionalidades de uso do Comitê Gestor Nacional da NFS-e – CG NFS-e. Entre as 
funcionalidades estão o controle e cadastro de gestores nacionais, o cadastro inicial dos 
municípios conveniados, as parametrizações gerais do sistema (para validação de DPS, uso do 
MAN e demais módulos) e o cadastro de concessionárias de exploração de rodovias. 


As informações deste módulo serão usadas para diversas validações que levem em consideração 
a data do convênio realizado pelo município com o Sistema Nacional NFS-e. 

 

Disponibiliza funcionalidades de uso da fiscalização da administração tributária municipal: 
parametrização de atributos para emissão de NFS-e, controle de acesso, habilitação e 
manutenção da situação cadastral dos contribuintes no Cadastro Municipal de Contribuintes 
(CNC), manutenção das tabelas da NFS-e do município e consultas e relatórios gerenciais da 
administração tributária. 

A funcionalidade de parametrização de atributos municipais deve ser criteriosamente 
gerenciada pelos gestores municipais, pois é necessária para a correta emissão de uma NFS-e 
pelo contribuinte que utilize o Sistema Nacional da NFS-e (exemplos: alíquotas que podem 
variar entre 2% e 5% para os diversos tipos de serviços, prazos para cancelamento e 
substituição de NFS-e). 

Não serão criados atributos de parametrização particulares para um município especificamente. 


Os atributos parametrizáveis serão aqueles comuns a todos os municípios, cujos valores variam 
segundo cada legislação municipal. 

As informações de parametrizações da legislação municipal do município serão utilizadas para 
validações em diversas regras quando da emissão da NFS-e. A depender da regra de negócio, 
as informações recuperadas serão do município emissor da NFS-e (município em que o emitente 
possui estabelecimento ou domicílio e que está habilitado a emitir NFS-e) ou podem ser 
recuperadas do município de incidência do ISSQN. 

Fazem parte desta aplicação as funcionalidades: 

1. Cadastros dos gestores municipais 
2. Cadastro de contribuintes municipais 
• Upload de arquivo com contribuintes municipais; 
• Gestão individualizada de contribuintes municipais 
3. Parametrizações municipais 
• Lista de Serviços 
o Código de Tributação Municipal 
o Alíquota 
o Dedução/Redução 



• Retenções 
• Outros Benefícios 
• Regime Especial de Tributação 
• Eventos de NFS-e 
4. Consultas da gestão municipal 
3.4. Cadastro Nacional de Contribuintes NFS-e (CNC NFS-e) (Em 
Desenvolvimento) 





 

O CNC NFS-e abrange: 

• Base de dados cadastrais com informações dos contribuintes dos municípios. Estas 
informações são gerenciadas pelos municípios e dizem respeito à situação tributária do 
contribuinte no âmbito municipal; 
• Integrações com outros sistemas onde serão realizadas consultas para obtenção dos dados 
para composição da DPS do emitente ou validação de dados: 
o TOM (Tabela de Órgãos e Municípios): consulta pelo CEP, retornando o Logradouro; 
Bairro; Município; e Unidade Federativa (UF); 
o CNPJ (Cadastro Nacional de Pessoa Jurídica): consulta número de inscrição no 
CNPJ; 
o CPF (Cadastro de Pessoa Física): consulta pelo número de inscrição no CPF; 
o Simples Nacional: consulta pelo número de inscrição do CNPJ ao Simples Nacional; 
3.5. Controle de Acesso NFS-e 





 


Abrange todo o controle necessário para acesso às funcionalidades disponíveis no Sistema 
Nacional da NFS-e (via API, Web ou Mobile). Estas funcionalidades serão acessíveis conforme 
perfis de acesso. 

O Controle de Acesso é composto por processos de autenticação, autorização e auditoria. A 
autenticação identifica quem acessa o sistema, a autorização determina o que um usuário 
autenticado pode fazer e a auditoria registra ações feitas pelo usuário. 

Visando uma melhor compreensão dos grupos de acesso ao Sistema Nacional NFS-e temos: 
Gerenciamento dos Gestores Nacionais (membros do CG NFS-e), Gerenciamento dos Gestores 
Municipais (gestor principal do município, fiscais e atendentes municipais) e Gerenciamento 
dos Contribuintes. 

 


O controle de acesso do Sistema Nacional NFS-e ocorrerá por: 

1. Gerenciamento de Perfis de Acesso; 
2. Gerenciamento de Níveis de Acesso; 
3. Acesso ao Sistema Nacional NFS-e; 
4. Controle de Acesso via Web; 
5. Controle de Acesso via API; 
6. Controle de Acesso Emissor Móvel (Token); 
7. Controle de Acesso via OAuth 2.0 (exceto para os gestores nacionais e municipais); 
3.6. Emissor Público Nacional NFS-e – API (Sefin Nacional NFS-e) (Em 
Desenvolvimento) 
3.7. Emissor Público Nacional NFS-e – Web (Em Desenvolvimento) 
3.8. Emissor Público Nacional NFS-e – Móvel (Em Desenvolvimento) 
3.9. Painel de Créditos NFS-e (Em Desenvolvimento) 
3.10. Painel de Débitos NFS-e (Em Desenvolvimento) 





 

Ambiente computacional que funciona como uma Secretaria de Finanças Municipal no que 
tange a serviços relacionados às notas fiscais de serviço eletrônicas dos municípios. 

O objetivo da Sefin Nacional é prover serviços para recepcionar e validar as Declarações de 
Prestação de Serviços (DPS) dos contribuintes de municípios conveniados ao SN NFS-e, sejam 
estas DPS enviadas diretamente para API ou emitidas nos emissores públicos nacionais Web e 
APP. 

Os serviços da Sefin Nacional compreendem as APIs descritas neste manual e utilizam as 
informações de uso geral (Município, País, CEP), parametrizações municipais (alíquotas, 
regimes especiais, deduções, reduções, etc), parametrizações nacionais, CNC, CPF, CNPJ e 
Simples Nacional para validar as DPS enviadas pelos emitentes e gerar as notas. 

O município que não possuir um ambiente computacional para validar os DPS de seus 
contribuintes poderá se conveniar ao sistema nacional para utilização da Sefin Nacional NFS-e 
pelos seus contribuintes de ISSQN. 

 

Sistema para gerenciamento de NFS-e do contribuinte. Possui diversas funcionalidades: 
Configuração do emissor, Emissão de NFS-e, Consulta NFS-e emitidas, Consulta NFS-e 
recebidas, Emissão de Eventos de NFS-e. O Emissor Nacional NFS-e – Web realiza diversas 
integrações com outras bases de dados: convênios dos municípios, parametrizações, cadastros 
CNPJ, CPF, Simples Nacional e TOM. 

 

A versão móvel do Emissor Público Nacional NFS-e permite a emissão de NFS-e simplificada via 
dispositivo móvel. Será disponibilizado para as principais plataformas móveis existentes. O 
Emissor Público Nacional NFS-e Móvel atenderá especificamente aos contribuintes dos 
municípios que utilizam a Sefin Nacional, comunicando-se somente com o Sistema Nacional da 
NFS-e. 

 

O Painel de Créditos tem como objetivo gerir o registro de créditos disponíveis para 
aproveitamento pelo contribuinte e oriundos i. do processo de apuração e recolhimento do 
ISSQN por meio do MAN ou ii. incluídos diretamente pelo município sujeito ativo; 

O registro dos créditos será realizado de acordo com o município sujeito ativo, por 
estabelecimento e poderão ser utilizados para compensação de valores devidos referentes a 
competências futuras. 

 

O Painel de Débitos possibilita ao fisco lançar débitos para que os contribuintes possam efetuar 
o pagamento pelo MAN. Diferentemente do Painel de Créditos, no Painel de Débitos somente 
o município sujeito ativo pode lançar débitos aos contribuintes. Os débitos lançados a 
determinado contribuinte podem ser i. um Auto de Infração ou ii. Um valor a ser cobrado pelo 


Fluxo de Distribuição de Documentos Fiscais eletrônicos (DF-e) – Arquitetura API ADN NFS-e 


3.11. Módulo de Apuração Nacional NFS-e (MAN NFS-e) (Em 
Desenvolvimento) 
3.12. Ambiente de Dados Nacional NFS-e (ADN NFS-e) 





município de um contribuinte que possua um regime especial de tributação do município. 

O registro dos débitos será realizado de acordo com o município sujeito ativo, por contribuinte 
e poderão ser incluídos no processo de apuração, opcionalmente pelo contribuinte, para que 
seus valores sejam pagos através do documento de arrecadação nacional. 

 

O Módulo de Apuração Nacional objetiva, primordialmente, i. possibilitar ao usuário a seleção 
das NFS-e que deverão ser pagas; ii. apurar o ISSQN devido; iii. Emitir o documento nacional 
de arrecadação. 

Além disso, outras funcionalidades de consulta e controle dos documentos fiscais, declarações 
e guias de recolhimento estão disponíveis concomitantemente com as integrações realizadas 
com outros sistemas, a fim de realizar a apuração e recolhimento do ISSQN devido pelo 
contribuinte (ou responsável tributário) ao município sujeito ativo. 

 

Módulo do Sistema Nacional NFS-e que funciona como um repositório nacional de documentos 
fiscais eletrônicos – DF-e (NFS-e nacional e Eventos de NFS-e, Créditos, Débitos e Apuração). 

O ADN fornece a API DF-e para recepcionar os documentos fiscais eletrônicos compartilhados 
pelos municípios conveniados ao SN NFS-e, possibilita a distribuição destes DF-e para aqueles 
municípios que ocupem algum papel de interesse pelo DF-e, conforme regras que veremos 
mais adiante. 

O ADN agiliza o compartilhamento de informações e obtenção da confirmação da entrega em 
modo síncrono, com garantia de entrega fim-a-fim entre as aplicações. O uso da Internet, a 
escalabilidade da solução e a centralização dos processos são fatores chaves para este modelo. 


Permite a implementação de um controle de sincronismo eficiente, identificando os documentos 
fiscais faltantes no ADN e possibilitando a recuperação de documentos faltantes do repositório 
local. 


 


 


Distribuição de DF-e 


Pelo ADN NFS-e 


 


Recepção de DF-e 


Pelo ADN NFS-e 


ADN NFS-e 


 


API Municípios 


(POST) 


Município 


Emissor 


Município 


Incidência 


do ISSQN 


Município 


Local da 
Prestação do 
Serviço 


Municípios 


dos Não 


Emitentes da 
NFS-e 


Internet 


Internet 


 



3.13. Integrações do Sistema Nacional NFS-e 
3.13.1. Consulta aos Registros Cadastrais de Pessoa Jurídica– CNPJ 
3.13.2. Consulta aos Registros Cadastrais de Pessoa Física – CPF 
3.13.3. Serviço Verificador de Registros Cadastrais – Simples Nacional 
3.13.4. Consulta ao PGDAS-D 
3.13.5. TOM 





 

Integração realizada para verificação de registros cadastrais CNPJ. É uma consulta ao Cadastro 
Nacional de Pessoas Jurídicas. O serviço basicamente realiza uma consulta a partir de um CNPJ 
e uma data específicos retornando diversas informações acerca deste CNPJ para o módulo 
solicitante do Sistema Nacional NFS-e. Essas informações ou parte delas são utilizadas de acordo 
com o contexto de negócio em que o campo CNPJ estiver sendo utilizado. 

 

Integração realizada com o serviço para verificação de registros cadastrais do CPF. É uma 
consulta ao Cadastro de Pessoas Físicas. O serviço basicamente realiza uma consulta a partir de 
um CPF e uma data específicos retornando diversas informações acerca deste CPF naquela data 
para o módulo solicitante do Sistema Nacional NFS-e. Essas informações ou parte delas são 
utilizadas de acordo com o contexto de negócio em que o CPF estiver sendo utilizado. 

 

Integração realizada para verificação de registros cadastrais do Simples Nacional. É uma 
consulta ao Cadastro Simples Nacional. O serviço basicamente realiza uma consulta a partir de 
um CNPJ e uma data específicos retornando o histórico de opções (Não optante, Optante MEI, 
Optante ME/EPP) deste CNPJ para módulo solicitante do Sistema Nacional NFS-e. Essas 
informações ou parte delas são utilizadas de acordo com o contexto de negócio em que o Simples 
Nacional estiver sendo utilizado. 

 

Integração da NFS-e com PGDAS-D para receber indicador de impedimento de recolher ISSQN 
(ultrapassou sublimite) do Simples Nacional. As informações recuperadas são do do prestador 
de serviço da NFS-e. Esta informação serve para preenchimento automático da DPS acerca da 
arrecadação do prestador optante do simples nacional, que pode ter ultrapassado ou não os 
sublimites de arrecadação. Em decorrência dessa ultrapassagem a NFS-e emitida poderá ter ou 
não destaque de ISSQN a ser recolhido na NFS-e. Se no momento da emissão da NFS-e o 
prestador estiver abaixo do sublimite estipulado pela lei a NFS-e será emitida com a opção do 
prestador para o simples nacional na data de competência de emissão. Caso contrário, se o 
sublimite de arrecadação estipulado pela lei foi ultrapassado, então a NFS-e será emitida 
seguindo as regras e alíquotas estabelecidas pelo município de incidência do ISSQN. É 
justamente a informação do indicador de impedimento de recolher ISS/ICMS pelo Simples 
Nacional, referente ao contribuinte no Período de Apuração (PA) de interesse, que será 
consultada pelo Sistema Nacional NFS-e junto ao PGDAS-D. 

 

Recupera as informações relacionadas ao CEP que é consultado na Tabela de Órgãos e Municípios 
– TOM. Essas informações ou parte delas são utilizadas de acordo com o contexto de negócio 
envolvendo endereços que o CEP estiver sendo utilizado. 

 

4. Controle de Acesso aos Sistemas Web 


Os acessos aos sistemas do Sistema Nacional NFS-e são realizados conforme as definições do 
módulo Controle de Acesso NFS-e. 

 

5. Registro de Log dos Sistemas Web 


Todas as transações realizadas são registradas nas respectivas tabelas de log de cada um dos 
módulos do Sistema Nacional NFS-e. 

 



6. Definições Técnicas do Sistema Nacional NFS-e 
6.1. Padrões Técnicos 
6.1.1. Padrão de Documento XML 








 


 


 


a. Padrão de Codificação 


A especificação do documento XML adotada é a recomendação W3C para XML 1.0, disponível em 
www.w3.org/TR/REC-xml e a codificação dos caracteres será em UTF-8, assim todos os 
documentos XML serão iniciados com a seguinte declaração: 


<?xml version="1.0" encoding="UTF-8"?> 


Cada arquivo XML somente poderá ter uma única declaração <?xml version="1.0" 
encoding="UTF-8"?>. 


 


b. Declaração namespace 


O documento XML da DPS e do Pedido de Registro de Evento deverá ter a declaração de 
namespace no elemento raiz com o seguinte padrão: 


<DPS xmlns=”http://www.sped.fazenda.gov.br/nfse”> 


<pedRegEvento xmlns=”http://www.sped.fazenda.gov.br/nfse”> 


A declaração do namespace da assinatura digital deverá ser realizada na própria tag 
<Signature> com o seguinte padrão: 


<Signature xmlns="http://www.w3.org/2000/09/xmldsig#"> 


Após a recepção da DPS ou Pedido de Registro de Evento assinados e da sua validação pelo 
sistema, a NFS-e e o Evento serão gerados, conforme leiaute nacional, e conterão a declaração 
de namespace no elemento raiz com o seguinte padrão respectivamente: 


<NFSe xmlns="http://www.sped.fazenda.gov.br/nfse"> 


<Evento xmlns="http://www.sped.fazenda.gov.br/nfse"> 


• A declaração do namespace da assinatura digital é válida para todos os documentos do 
Sistema Nacional NFS-e, DPS, NFS-e, Pedido de Registro de Evento e Evento; 
• É vedado o uso de declaração namespace diferente do padrão estabelecido; 
• Não é permitida a utilização de prefixos de namespace. Essa restrição visa otimizar o 
tamanho do arquivo XML. Assim, ao invés da declaração <DPS 
xmlns:DPS=http://www.sped.fazenda.gov.br/nfse> (exemplo para o XML de DPS com 
prefixo DPS), deverá ser adotada a declaração: <DPS xmlns 
=”http://www.sped.fazenda.gov.br/nfse ”>; 


Exemplo: 


<NFSe 
xmlns="http://www.sped.fazenda.gov.br/nfse" versao="1.00"> 


<infNFSe id="ID31062001100005392612628000000000000019010153978386"> 


<DPS xmlns="
http://www.sped.fazenda.gov.br/nfse
"> 


 
<infDPS Id="ID310602438167190001085500000010001234567890" versao="1.00"> 


... 


 
</infDPS> 


 
<Signature xmlns="
http://www.w3.org/2000/09/xmldsig#
"> 


 
… 


 
</Sig
nature> 


</DPS> 


</infNFSe> 


<Signature xmlns="
http://www.w3.org/2000/09/xmldsig#
"> 


 
… 


</Signature> 


</NFSe> 



c. Documentos da NFS-e 


Os documentos da NFS-e serão no formato XML seguindo a especificação recomendada 
pela W3C para XML 1.0 disponível em www.w3.org/TR/REC-xml. A codificação dos 
caracteres será em UTF-8. 


Para minimizar a necessidade de uma maior infraestrutura de rede, os documentos XML 
trafegados nas mensagens de requisição e resposta deverão ser compactados no padrão 
GZip com representação base64binary. 


 


d. Otimização na montagem do arquivo 


Para reduzir o tamanho final do arquivo XML da DPS alguns cuidados de programação 
deverão ser assumidos: 


• não incluir "zeros não significativos" para campos numéricos; 
• não incluir "espaços" no início ou no final de campos numéricos e alfanuméricos; 
• não incluir comentários no arquivo XML; 
• não incluir anotação e documentação no arquivo XML (TAG annotation e TAG 
documentation); 
• não incluir caracteres de formatação no arquivo XML ("line-feed", "carriage return", 
"tab", caractere de "espaço" entre as TAGs); 
• não incluir prefixo no namespace das tags de DPS; 


 


e. Validação de Esquema 
6.1.2. Padrão de Comunicação 
o Uma coleção de pares nome/valor. Em várias linguagens, isto é caracterizado 
como um object, record, struct, dicionário, hash table, keyed list, ou arrays 
associativas; 
o Uma lista ordenada de valores. Na maioria das linguagens, isto é 
caracterizado como uma array, vetor, lista ou sequência; 





Para garantir minimamente a integridade das informações prestadas e a correta 
formação dos arquivos XML, o contribuinte deverá submeter o arquivo da DPS e as 
demais mensagens XML para validação pelo Esquema do XML (XSD – XML Esquema 
Definition). 


 


• O meio de comunicação utilizado é a Internet, com o uso do protocolo TLS 1.0 e 
versões superiores, com autenticação mútua, que além de garantir um duto de 
comunicação seguro na Internet, permite a identificação do servidor e do cliente 
através de certificados digitais. 
• A comunicação é baseada em API REST e disponibilizada pelo Sistema Nacional NFS-
e. Por ser uma formatação leve, de fácil interpretação e geração, utiliza-se o formato 
JSON para as mensagens de requisição e resposta. 
• JSON (JavaScript Object Notation - Notação de Objetos JavaScript) é uma formatação 
leve de troca de dados. Para seres humanos, é fácil de ler e escrever. Para máquinas, 
é fácil de interpretar e gerar. Está baseado em um subconjunto da linguagem de 
programação JavaScript. JSON é em formato texto e completamente independente 
de linguagem, pois usa convenções que são familiares às linguagens C e familiares, 
incluindo C++, C#, Java, JavaScript, Perl, Python e muitas outras. Estas 
propriedades fazem com que JSON seja um formato ideal de troca de dados. 


JSON está constituído em duas estruturas: 


 



Estas são estruturas de dados universais. Virtualmente todas as linguagens de 
programação modernas as suportam, de uma forma ou de outra. É aceitável que um 
formato de troca de dados que seja independente de linguagem de programação se 
baseie nestas estruturas. 


• REST (Representational State Transfer – Transferência de Estado Representacional) 
é um estilo arquitetural que consiste em princípios, regras e restrições que, quando 
seguidas, permitem a criação de um projeto com interfaces bem definidas. 
6.1.3. Padrão de Certificado Digital 
6.1.4. Padrão de Assinatura Digital 








O REST é um estilo arquitetural que utiliza o protocolo HTTP e toda a infraestrutura 
web já estabelecida e reconhecida, o que traz facilidade de integração, facilidade de 
desenvolvimento e esforço de aprendizado pequeno. A utilização de uma arquitetura 
simples que possibilite a padronização dos ambientes municipais facilita a integração 
das aplicações de mercado com as API das prefeituras. 


 


O certificado digital utilizado no Sistema Nacional NFS-e deverá ser emitido por Autoridade 
Certificadora credenciada pela Infraestrutura de Chaves Públicas Brasileira – ICP-Brasil, tipo A1 
ou A3, devendo conter o CNPJ da pessoa jurídica titular do certificado digital no campo 
otherName OID=2.16.76.1.3.3 ou o CPF da pessoa física titular do certificado digital no campo 
otherName OID=2.16.76.1.3.1. 


Os certificados digitais serão exigidos em momentos distintos: 


a) Transmissão: O certificado digital será utilizado para a troca de mensagens entre a máquina 
do usuário e os servidores do Sistema Nacional NFS-e, devendo ter a extensão Extended Key 
Usage com permissão de "Autenticação Cliente". 


b) Assinatura de documentos: O certificado digital deverá conter a raiz do CNPJ ou CPF do 
emitente. Na visão do usuário, os documentos assinados seriam a DPS (Declaração de Prestação 
de Serviço) e os Pedidos de Registro de Eventos. Mas na visão geral a NFS-e e Eventos também 
são documentos assinados. 


 


As DPS enviadas para o Sistema Nacional NFS-e devem ser assinadas digitalmente com um 
certificado digital que contenha o CNPJ ou CPF do emitente da DPS. Uma vez validada a DPS, de 
acordo com as regras de negócio estabelecidas, a NFS-e será gerada conforme leiaute NFS-e e 
assinada digitalmente com um certificado digital que contenha o CNPJ do município emissor. 
Entretanto, ficou definido que o município que for conveniado ao Sistema Nacional NFS-e 
utilizando o módulo Sefin Nacional NFS-e terá as notas fiscais geradas e assinadas com o 
certificado digital do Serpro. 


Alguns elementos estão presentes dentro do certificado do contribuinte tornando desnecessária 
a sua representação individualizada no arquivo XML. Portanto, o arquivo XML não deve conter 
os elementos: 


<X509SubjectName> 


<X509IssuerSerial> 


<X509IssuerName> 


<X509SerialNumber> 


<X509SKI> 


Deve-se evitar o uso das TAG abaixo, pois as informações serão obtidas a partir do Certificado 
do emitente: 


<KeyValue> 


<RSAKeyValue> 


<Modulus> 


<Exponent> 


 



A NFS-e utiliza um subconjunto do padrão de assinatura XML definido pelo 
http://www.w3.org/TR/xmldsig-core/, com o seguinte leiaute: 


Esquema XML: xmldsig-core-schema_v1.01.xsd 


CAMINHO NO XML 

CAMPO 

ELE. 

TIPO 

OCOR. 

TAM. 

DESCRIÇÃO 

NFSe/ 

Signature 

- 

G 

1-1 

- 

Assinatura XML da NFS-e segundo o 
padrão XML digital signature 

NFSe/Signature/ 

SignedInfo 

G 

E 

1-1 

- 


Grupo da Informação da assinatura 

NFSe/Signature/SignedInfo/ 

CanonicalizationMethod 

G 

E 

1-1 

- 


Grupo do Método de Canonicalização 

NFSe/Signature/SignedInfo/ 

Algorithm 

A 

E 

1-1 

- 


Atributo Algorithm de 
CanonicalizationMethod: 
http://www.w3.org/TR/2001/REC-
xml-c14n-20010315 

NFSe/Signature/SignedInfo/ 

SignatureMethod 

G 

E 

1-1 

- 


Grupo do Método de Assinatura 

NFSe/Signature/SignedInfo/ 

Algorithm 

A 

E 

1-1 

- 


Atributo Algorithm de 
ignatureMethod: 
http://www.w3.org/2000/09/xmldsig#rsa-sha1 

NFSe/Signature/SignedInfo/ 

Reference 

G 

E 

1-1 

- 


Grupo Reference 

NFSe/Signature/ 
SignedInfo/Reference/ 

URI 

A 

E 

1-1 

- 


Atributo URI da tag Reference 

NFSe/Signature/ 
SignedInfo/Reference/ 

Transforms 

G 

E 

1-1 

- 


Grupo do algorithm de Transform 

NFSe/Signature/ 
SignedInfo/Reference/ 

Tranforms/ 

unique_Transf_Alg 

RC 

E 

1-1 

- 


Regra para o atributo Algorithm do 
Transform ser único. 

NFSe/Signature/ 
SignedInfo/Reference/ 

Tranforms/ 

Transform 

G 

E 

2-2 

- 


Grupo de Transform 

NFSe/Signature/ 
SignedInfo/Reference/ 

Tranforms/Transform/ 

Algorithm 

A 

E 

1-1 

- 


Atributos válidos Algorithm do 
Transform: 
http://www.w3.org/TR/2001/REC-
xml-c14n-20010315 
http://www.w3.org/2000/09/xmldsig#enveloped- signature 

NFSe/Signature/ 
SignedInfo/Reference/ 

Tranforms/Transform 

XPath 

E 

E 

0-N 

- 


XPath 

NFSe/Signature/ 
SignedInfo/Reference/ 

DigestMethod 

G 

E 

1-1 

- 


Grupo do Método de DigestMethod 

NFSe/Signature/ 
SignedInfo/Reference/ 
DigestMethod/ 

Algorithm 

A 

E 

1-1 

- 


Atributo Algorithm de DigestMethod: 
http://www.w3.org/2000/09/xmldsig#sha1 

NFSe/Signature/ 
SignedInfo/Reference/ 

DigestValue 

E 

E 

1 

- 


Digest Value (Hash SHA-1 – Base64) 

NFSe/Signature/ 

SignatureValue 

G 

E 

1-1 

- 


Grupo do Signature Value 

NFSe/Signature/ 

KeyInfo 

G 

E 

1-1 

- 


Grupo do KeyInfo 

NFSe/Signature/ KeyInfo/ 

X509Data 

G 

E 

1-1 

- 


Grupo X509 

NFSe/Signature/ 
KeyInfo/X509Data/ 

X509Certificate 

E 

E 

1-1 

- 


Certificado Digital X509 em Base64 



 


 



A assinatura do contribuinte na DPS será feita sobre a TAG <infDPS> identificada pelo atributo 
Id, cujo conteúdo deverá ser um identificador único da DPS precedido do literal ‘ID,’ para cada 
DPS conforme leiaute descrito no AnexoI-LeiautesRN_DPS_NFSe-SNNFSe.xlsx. O identificador 
único precedido do literal ‘#ID’ deverá ser informado no atributo URI da TAG <Reference>. Para 
as demais mensagens a serem assinadas, o processo é o mesmo mantendo sempre um 
identificador único para o atributo Id na TAG a ser assinada. 


Segue abaixo um exemplo: 


 


<DPS xmlns="http://www.sped.fazenda.gov.br/nfse" versao="1.00"> 


 
<infDPS Id="ID310620011000053926126280000000000000190101" versao="1.00"> 


 
... ... ... ... 


 
</infDPS> 


 
<Signature xmlns="http://www.w3.org/2000/
09/xmldsig#"> 


 
<SignedInfo> 


 
<CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC
-
xml
-
c14n
-
20010315"/> 


 
<SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa
-
sha1" /> 


 
<Reference UR
I="#ID ID310620011000053926126280000000000000190101"> 


 
<Transforms> 


 
<Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped
-
signature"/> 


 
<Transform Algorithm="http://www.w3.org/
TR/2001/REC
-
xml
-
c14n
-
20010315"/> 


 
</Transforms> 


 
<DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"/> 


 
<DigestValue>vFL68WETQ+mvj1aJAMDx+oVi928=</DigestValue> 


 
</Reference
> 


 
</SignedInfo> 


 
<SignatureValue>IhXNhbdL1F9UGb2ydVc5v/gTB/y6r0KIFaf5evUi1i ...</SignatureValue> 


 
<KeyInfo> 


 
<X509Data> 


 
<X509Certificate>MIIFazCCBFOgAwIBAgIQaHEfNaxSeOEvZGlVDANB ... </X509Certificate> 


 
</X509Data> 


 
</KeyInfo> 


 
</Signature> 


</DPS> 


 


 


 


 


 


 


 


 


 


 


 


 


 


 


 


 


Para o processo de assinatura o contribuinte não deve fornecer a lista de certificados revogados, 
já que a mesma será montada e validada por cada sistema gerador de NFS-e no momento da 
conferência da assinatura digital. 


A assinatura digital do documento eletrônico deverá atender aos seguintes padrões adotados: 


a. Padrão de assinatura: “XML Digital Signature”, utilizando o formato “Enveloped” 
(http://www.w3.org/TR/xmldsig-core/); 
b. Certificado digital: Emitido por AC credenciada no ICP-Brasil 
(http://www.w3.org/2000/09/xmldsig#X509Data); 
c. Cadeia de Certificação: EndCertOnly (Incluir na assinatura apenas o certificado do usuário 
final); 
d. Tipo do certificado: A1 ou A3; 
e. Tamanho da Chave Criptográfica: Compatível com os certificados A1 e A3 (1024 bits); 
f. Função criptográfica assimétrica: RSA (http://www.w3.org/2000/09/xmldsig#rsa-sha1); 
g. Função de “message digest”: SHA-1 (http://www.w3.org/2000/09/xmldsig#sha1); 
h. Codificação: Base64 (http://www.w3.org/2000/09/xmldsig#base64); 
i. Transformações exigidas: Útil para realizar a canonicalização do XML enviado para realizar a 
validação correta da Assinatura Digital. São elas: 
j. Enveloped (http://www.w3.org/2000/09/xmldsig#enveloped-signature) 2) C14N 
(http://www.w3.org/TR/2001/REC-xml-c14n-20010315) 


 


 



6.1.5. Validação de Assinatura Digital pelo Sistema Nacional NFS-e 





O Procedimento para a validação da assinatura digital adotado pelo Sistema Nacional NFS-e é: 


1. Extrair a chave pública do certificado; 
2. Verificar o prazo de validade do certificado utilizado; 
3. Montar e validar a cadeia de confiança dos certificados validando também a LCR (Lista 
de Certificados Revogados) de cada certificado da cadeia; 
4. Validar o uso da chave utilizada (Assinatura Digital) de tal forma a aceitar certificados 
somente do tipo A (não serão aceitos certificados do tipo S); 
5. Garantir que o certificado utilizado é de um usuário final e não de uma Autoridade 
Certificadora; 
6. Adotar as regras definidas pelo RFC 3280 para as LCR e cadeia de confiança; 
7. Validar a integridade de todas as LCR utilizadas pelo sistema; 
8. Prazo de validade de cada LCR utilizada (verificar data inicial e final). 
6.2. Modelo Operacional 
6.2.1. Serviços Síncronos 
6.2.2. Serviços Assíncronos 
6.2.3. Validação da Estrutura XML dos Documentos 








A forma de conferência da LCR fica a critério de cada município que implementar seu próprio 
sistema informatizado de NFS-e no modelo do Sistema Nacional NFS-e, podendo ser feita de 2 
(duas) maneiras: Online ou Download periódico. As assinaturas digitais das mensagens serão 
verificadas considerando a lista de certificados revogados disponível no momento da conferência 
da assinatura. 


 


O processamento síncrono e assíncrono das solicitações de serviços são as formas de 
processamento disponíveis no Sistema Nacional NFS-e. 


 


As solicitações de serviços de implementação síncrona são processadas imediatamente e o 
resultado do processamento é obtido em uma única conexão. 


 


As solicitações de serviços de implementação assíncrona são processadas posteriormente à 
solicitação e o resultado do processamento é obtido em uma nova solicitação/conexão em outra 
API especificada 


 


As informações são enviadas ou recebidas pelas APIs através de mensagens no padrão XML 
definido na documentação de cada API. 


As alterações de leiaute e da estrutura de dados XML realizadas nas mensagens são controladas 
através da atribuição de um número de versão para a mensagem. 


Um esquema XML é uma linguagem que define o conteúdo do documento XML, descrevendo os 
seus elementos e a sua organização, além de estabelecer regras de preenchimento de conteúdo 
e de obrigatoriedade de cada elemento ou grupo de informação. 


A validação da estrutura XML da mensagem é realizada por um analisador sintático (parser) que 
verifica se a mensagem atende as definições e regras de seu esquema XML. 


Qualquer divergência da estrutura XML da mensagem em relação ao seu Sch esquema ema XML 
provoca um erro de validação do esquema XML. 


A primeira condição para que a mensagem seja validada com sucesso é que ela seja submetida 
ao esquema XML correto. 



6.2.4. Utilização da API 








O mecanismo de utilização da API segue as seguintes premissas: 


i. O envio da solicitação e a obtenção do retorno serão realizados na mesma conexão 
através de um único método; 
ii. O processo de utilização da API REST sempre é iniciado pelo interessado com o envio 
uma mensagem no padrão JSON, através de protocolo SSL com autenticação mútua; 
iii. A ocorrência de qualquer erro na validação dos dados recebidos interrompe o processo 
com a disponibilização de uma mensagem contendo o código e a descrição do erro; 
6.2.5. Esquemas XML dos Documentos 
6.3. Controle de Versionamento 





 


Toda mudança de leiaute das mensagens das APIs implica na atualização do seu respectivo 
Esquema XML. 


A identificação da versão dos Esquemas será realizada conforme controle de versionamento 
especificado neste manual. 


A maioria dos Esquemas XML da NFS-e utilizam as definições de tipos básicos ou tipos complexos 
que estão definidos em outros Esquemas XML (ex.: tiposBasico_v1.00.xsd, etc.), nestes casos, 
a modificação de versão do Esquema básico será repercutida no Esquema principal. 


Por exemplo, o tipo numérico de 15 posições com 2 decimais é definido no Esquema 
tiposBasico_v1.00.xsd, caso ocorra alguma modificação na definição deste tipo, todos os 
esquemas que utilizam este tipo básico devem ter a sua versão atualizada e as declarações 
“import” ou “include” devem ser atualizadas com o nome do Esquema básico atualizado. 


As modificações de leiaute das mensagens dos APIs podem ser causadas por necessidades 
técnicas ou em razão da modificação de alguma legislação. As modificações decorrentes de 
alteração da legislação deverão ser implementadas nos prazos previstos no ato normativo que 
introduziu a alteração. As modificações de ordem técnica serão divulgadas pela Coordenação 
Técnica do Sistema e poderão ocorrer sempre que se fizerem necessárias. 


 


O controle de versão existente no Sistema Nacional NFS-e refere-se aos arquivos de: 
Esquemas, Pacote de Liberação e Manuais. 


Estes arquivos fazem parte da documentação do Sistema Nacional NFS-e e referem-se aos 
aspectos técnicos e de negócio de todo o sistema e serão disponibilizados no Portal Nacional 
da NFS-e (www.gov.br/nfse). A liberação para publicação ocorrerá somente após autorização da 
Coordenação Técnica do Sistema. 


Os esquemas são conjuntos de arquivos XSD válidos para o Sistema Nacional NFS-e utilizados 
pelas empresas, municípios e o próprio sistema para a geração e validação dos arquivos XML 
que representam os documentos fiscais eletrônicos que pertencem ao escopo de negócio da 
NFS-e nacional. 


O arquivo compactado denominado “Pacote de Liberação”, ou simplesmente PL, é o arquivo 
que contém todos os esquemas XSD válidos para o Sistema Nacional NFS-e. 


Os Manuais são arquivos que descrevem os aspectos técnicos e de negócio dos diversos 
módulos que compõem o Sistema Nacional NFS-e. 


Para identificar quais esquemas sofreram alteração em um determinado pacote liberado bem 
como as versões dos manuais que existirem, deve-se seguir as seguintes regras que serão 
exemplificadas logo abaixo. 


 



Regras 


• Os esquemas válidos contidos no PL são identificados pelo seu nome, seguido da versão 
do respectivo esquema (ex: Nome – DPS, Versão – 1.00, Esquema – DPS_1.00.xsd); 
• O esquema não será versionado quando houver alteração que tenha efeito ampliativo 
no uso do leiaute proposto em relação ao leiaute anterior (ex: inclusão de mais 
possibilidades de valores em campos multivalorados, aumento do tamanho do campo, 
inclusão de um novo esquema no pacote de liberação, etc); 
• O esquema será versionado somente quando houver alteração que tenha efeito 
restritivo no uso do leiaute proposto em relação ao leiaute anterior (ex: alteração no 
caminho do campo no XML, alteração do nome do campo, inclusão ou exclusão de 
campo do XML, alteração do tipo de dados do campo, diminuição do tamanho do campo, 
alteração do tipo de campo, alteração ou diminuição de possibilidades dos valores dos 
campos multivalorados, etc); 
• Somente o esquema que sofrer alteração restritiva será versionado. Os demais que não 
sofram nenhum tipo de alteração restritiva manterão seu versionamento no novo PL. 
• O versionamento de um esquema contido em outro implica no versionamento idêntico 
do outro e vice-versa (o versionamento do esquema DPS implica no versionamento 
idêntico do esquema NFS-e e vice-versa; o versionamento do esquema do Pedido de 
Registro de Evento implica no versionamento idêntico do esquema do evento e vice-
versa); 
• A cada alteração realizada em qualquer esquema, seja a alteração ampliativa (sem 
versionamento do esquema) ou alteração restritiva (com versionamento do esquema), 
será disponibilizado um PL, que será sempre versionado, contendo todo o conjunto de 
esquemas (ex: alteração ampliativa da DPS: mantém o versionamento da DPS e o PL 
será incrementado na parte literal que acompanha a numeração do versionamento); 
• Os manuais acompanham o versionamento do pacote, mas tendo dois dígitos a mais, 
para os casos em que apenas o manual é modificado (ex: alteração de regra de negócio: 
o Manual incrementa seu versionamento nos dois últimos dígitos mantendo a parte do 
versionamento que acompanha o PL idêntica ao pacote de liberação mais recente); 
• Ficará a critério da coordenação técnica do sistema avaliar quando ocorrerá o 
incremento da versão de um esquema. Deverá ser avaliado a significância para o 
sistema tanto de alterações na estrutura do leiaute quanto de alterações para o negócio; 
• A decisão de alteração da versão será refletida em todos os XSD, no PL e no Manual. 
• Será mantido um arquivo .txt dentro do PL contento todo histórico de alterações dos 
XSD em cada PL; 


Exemplos: 


1. Versão da DPS – 1.00 e NFS-e - 1.00 
• DPS_1.00.xsd 
• NFSe_1.00.xsd 
• Pacote PL_NFSe_00 
• Manual 1.00.00 
2. Cria-se um novo código de tributo nacional – mudança que amplia o uso da nova versão 
do leiaute da DPS em relação à versão anterior (somente os contribuintes afetados 
devem atualizar seus sistemas). 
• DPS_1.00.xsd 
• NFSe_1.00.xsd 
• Pacote PL_NFSe_01 
• Manual 1.01.00 



3. Cria-se um novo documento fiscal eletrônico que passa a ser reconhecido pelo sistema, 
por exemplo o “Evento de Cancelamento” – mudança que amplia o uso do sistema 
(somente os contribuintes que utilizarem o novo evento devem atualizar seus sistemas). 
• DPS_1.00.xsd 
• NFSe_1.00.xsd 
• PedRegEvt_1.00.xsd 
• EvCanc_1.00.xsd 
• Pacote PL_NFSe_1.02 
• Manual 1.02.00 
4. Cria-se nova tabela de regime especial de tributação, com a exclusão de regime e/ou 
de obrigatoriedade de informação de novos campos, com a retirada de alguns códigos, 
mudança que restringe o leiaute da DPS. 
• DPS_1.01.xsd 
• NFSe_1.01.xsd 
• PedRegEvt_1.00.xsd 
• EvCanc_1.00.xsd 
• Pacote PL_NFSe_1.03 
• Manual 1.03.00 
5. Retirou uma opção de valor para o campo de motivo do Pedido de Registro de Evento 
de Cancelamento, uma alteração cujo sentido restringe o uso da versão atual em relação 
à versão anterior do leiaute PedRegEvt. 
• DPS_1.01.xsd 
• NFSe_1.01.xsd 
• PedRegEvt_1.01.xsd 
• EvCanc_1.01.xsd 
• Pacote PL_NFSe_1.04 
• Manual 1.04.00 
6. Inclui-se um valor para um campo multivalorado no leiaute NFS-e. Alteração ampliativa. 
• DPS_1.01.xsd 
• NFSe_1.01.xsd 
• PedRegEvt_1.01.xsd 
• EvCanc_1.01.xsd 
• Pacote PL_NFSe_1.05 
• Manual 1.05.00 
7. Ocorre uma alteração de regra que afeta apenas o manual. 
• DPS_1.01.xsd 
• NFSe_1.01.xsd 
• PedRegEvt_1.01.xsd 
• EvCanc_1.01.xsd 
• Pacote PL_NFSe_1.05 
• Manual 1.05.01 


Esta sequência de exemplos demonstra o controle de versionamento para organização dos 
arquivos que compõem a documentação do Sistema Nacional NFS-e. 



7. DF-e do Sistema Nacional NFS-e 
7.1. Declaração de Prestação de Serviço – DPS 
7.2. Nota Fiscal de Serviço Eletrônica – NFS-e 
7.3. Pedido de Registro de Evento 
7.4. Eventos de NFS-e 
7.4.1. Evento de Cancelamento de NFS
-
e 
7.4.2. Evento de Cancelamento por Substituição de NFS
-
e 








Para melhor entendermos o funcionamento dos demais módulos do sistema nacional é preciso 
conceituar e descrever a visão geral dos documentos fiscais eletrônicos (DF-e) que existem no 
Sistema Nacional NFS-e. Todos estes DF-e são arquivos XML e serão mencionados em diversos 
momentos neste manual e é preciso entender cada um deles para que se possa entender o que 
significa e para que servem cada um destes DF-e do sistema nacional. 

 


A Declaração de Prestação de Serviço – DPS é gerada pelo emitente (prestador, tomador ou 
intermediário a depender da exigência da lei), em geral o prestador de serviço na qual o emitente 
informa os dados do serviço prestado, tomado ou intermediado. Este arquivo, contendo estas 
informações, é validado por um conjunto de regras de negócio e pode ser rejeitado por não estar 
de acordo com alguma regra ou ter suas informações validadas e produzir a Nota Fiscal de 
Serviço Eletrônica – NFS-e, que é o documento com validade fiscal propriamente dito. Toda a 
DPS está contida no arquivo XML da NFS-e. 

 


A Nota Fiscal de Serviços Eletrônica - NFS-e é o documento fiscal de existência apenas digital 
que substituiu as tradicionais notas fiscais de serviços impressas. A NFS-e, já está implantada 
em diversas Administrações Tributárias Municipais (ATM) pelas respectivas Secretarias 
Municipais de Finanças de vários municípios brasileiros. A NFS-e do Sistema Nacional NFS-e foi 
modelada para se tornar o padrão nacional de NFS-e. 


 


A NFS-e é um tipo de documento fiscal, assim como os eventos, as declarações de apuração do 
ISSQN, que são entendidos como documentos fiscais no Sistema Nacional NFS-e. As NFS-e são 
emitidas e armazenadas eletronicamente em um repositório nacional com o objetivo de 
materializar os fatos geradores do ISSQN – Imposto Sobre Serviços de Qualquer Natureza, por 
meio do registro eletrônico das prestações de serviços sujeitas à tributação do ISSQN e para 
serem compartilhadas com os respectivos municípios de interesse destes documentos. 


 


O Pedido de Registro de Evento é gerado pelo contribuinte ou município e enviado ao sistema 
nacional para ser validado e gerar o Evento propriamente dito. O pedido de registro de evento 
está contido no arquivo XML final do evento, assim como a DPS também está contida no arquivo 
XML da NFS-e. 


 


Os eventos de NFS-e têm finalidades específicas para alterar a situação de uma NFS-e ao longo 
do ciclo de vida da nota. Cada evento de NFS-e vincula-se somente a uma única NFS-e exclusiva 
alterando a situação desta NFS-e sem, contudo, alterar qualquer informação do documento, que 
está assinado pelo município emissor da NFS-e. 


 


Altera a situação da nota para o sistema sem alterar o conteúdo do documento fiscal, ou seja, o 
XML da NFS-e se mantém inalterado. Por ser um documento assinado digitalmente pelo 
município emissor, não existe alteração no XML da NFS-e. Uma NFS-e cancelada é uma nota que 
possua um evento de cancelamento vinculado a ela. 


 


Um cancelamento de NFS-e encerra o ciclo de vida da nota para o sistema e não é permitida a 
inclusão ou alteração de informações acerca da NFS-e através da inclusão de qualquer outro 
evento de NFS-e. 


 


Altera a situação da nota para o sistema da mesma forma como foi descrito para o Evento de 
Cancelamento de NFS-e. O cancelamento de NFS-e por substituição de nota ocorre com a ação 
de substituição de NFS-e pelo envio de novo DPS indicando uma chave de acesso de NFS-e já 


7.4.3. Solicitação de Análise Fi
scal para Cancelamento de NFS
-
e 
7.4.4. Cancelamento de NF
S
-
e Deferido por Análise Fiscal 
7.4.5. Cancelamento de NFS
-
e Indeferido por Análise Fiscal 
7.4.6. Manifestação de NFS
-
e 








existente no sistema. Ao receber uma DPS contendo uma chave de acesso a ser substituída, o 
sistema faz a validação da DPS enviada, cancela a NFS-e existente e gera uma nota substituta, 
vinculando os documentos envolvidos (notas substituída e substituta). 


 


É uma solicitação do emitente da NFS-e para que a administração tributária emissora da NFS-e 
realize uma análise fiscal acerca da solicitação para cancelamento da NFS-e. Este evento é um 
procedimento contencioso e somente deve ser realizado nos casos em que o solicitante não 
consiga se utilizar do Evento de Cancelamento de NFS-e, conforme as regras estabelecidas pelo 
município emissor para este evento. 


A solicitação de análise fiscal é um procedimento manual, por etapas, em que o solicitante envia 
um pedido de cancelamento para a administração tributária municipal. A administração tributária 
analisa o pedido, e então responde com rejeição ou deferimento. 


Quando o solicitante enviar o evento de análise fiscal para cancelamento serão feitas validações 
do sistema, incluindo verificação se este cancelamento poderia ser realizado pelo Evento 
Cancelamento de NFS-e. 


Se a resposta for afirmativa, o sistema deve rejeitar a solicitação e retornar uma mensagem ao 
solicitante indicando que é possível realizar o cancelamento da nota através do Evento de 
Cancelamento de NFS-e. Isto é necessário para instruir o procedimento correto ao solicitante e 
prevenir a utilização incorreta do contencioso, o que poderia gerar alta demanda desnecessária 
por atendimento na administração tributária municipal. 


Se a resposta for negativa, a solicitação é encaminhada para a análise manual da administração 
tributária municipal. 


 


Após a análise da solicitação de cancelamento da nota fiscal, a administração municipal poderá 
deferir a solicitação emitindo um Evento de Cancelamento de NFS-e Deferido por Análise Fiscal. 
Este evento tem o mesmo efeito de um cancelamento de NFS-e para o sistema, cancelando a 
NFS-e, conforme a descrição do Evento de Cancelamento de NFS-e. 


 


Após a análise da solicitação de cancelamento da nota fiscal, a administração municipal poderá 
indeferir a solicitação emitindo um Evento de Cancelamento de NFS-e Indeferido por Análise 
Fiscal. Este evento indefere a solicitação de cancelamento de NFS-e para o sistema, não 
cancelando a NFS-e. 


 


a) Confirmação (Prestador/Tomador/Intermediário) 


Evento onde o prestador, tomador ou o intermediário reconhece uma nota emitida contra ele. É 
o ato de aceite de NFS-e. Ao enviar o Evento de Manifestação de NFS-e - Confirmação, o autor 
está confirmando que a nota fiscal de serviço que acoberta a prestação do serviço é idônea. 
Poderá haver mais de um evento de confirmação por nota. 


 

b) Confirmação Tácita 


Evento que atesta tacitamente a idoneidade da NFS-e, quando esta não foi formalmente aceita 
ou rejeitada pelo tomador, prestador ou intermediário. O evento é enviado pela administração 
tributária municipal de forma automatizada. 


 


c) Rejeição (Prestador/Tomador/Intermediário) 


Evento onde o prestador, tomador ou o intermediário poderá rejeitar uma nota emitida contra 
ele. É o ato de desconhecer a NFS-e. Ao enviar o Evento de Manifestação de NFS-e - Rejeição, 
o autor está manifestando que a nota fiscal de serviço que acoberta a prestação do serviço é 
inidônea. Poderá haver mais de um evento de rejeição por nota. 


 


 



d) Anulação da Rejeição 
7.4.7. Cancelamento de NFS
-
e por Ofício 





Evento enviado pela administração tributária emissora da NFS-e que anula os efeitos da 
manifestação de rejeição da NFS-e encaminhada previamente pelo prestador, tomador ou 
intermediário. Quando, por exemplo, um tomador encaminha um evento de rejeição da NFS-e, 
o prestador pode fazer prova de que o serviço realmente foi prestado e que a NFS-e é idônea. 
Caso a administração tributária municipal reconheça o pleito do prestador, ela poderá 
encaminhar o evento de anulação da rejeição. 


 


Cancelamento efetuado pela administração tributária mesmo sem a solicitação do contribuinte. 


• O efeito sistêmico desse evento é o mesmo do “Evento de Cancelamento de NFS-e”; 
• Somente o município emissor da NFS-e pode cancelar de ofício; 
• O cancelamento de ofício poderá ser realizado mesmo que a nota tenha evento de 
manifestação de confirmação da NFS-e. 
7.4.8. Bloq
ueio de NFS
-
e por Ofício 





 


Evento pelo qual a administração tributária do município emissor da NFS-e indica quais outros 
eventos de NFS-e devem ser rejeitados pelo sistema por estar a nota, momentaneamente, 
bloqueada para recepcionar tais eventos. 


Em um evento de bloqueio pode ser bloqueado apenas um evento dentre os da lista abaixo: 


a) Cancelamento de NFS-e; 
b) Cancelamento de NFS-e por Substituição; 
c) Cancelamento de NFS-e Deferido por Análise Fiscal; 
d) Cancelamento de NFS-e Indeferido por Análise Fiscal; 
e) Cancelamento de NFS-e por Ofício; 
f) Inclusão de NFS-e em DAN; 
g) Tributos de NFS-e Recolhidos; 


O Evento de Bloqueio de NFS-e por Ofício não será aceito se a NFS-e já tiver um evento de 
bloqueio com o mesmo tipo de evento já bloqueado, ou seja, pendente de desbloqueio. 


Ex1: A administração tributária envia dois eventos de bloqueio para o “cancelamento de NFS-e” 
para uma NFS-e, ou seja, dois eventos de bloqueio para o mesmo tipo de evento (Evento de 
Cancelamento de NFS-e). O primeiro destes eventos bloqueia a NFS-e para que não seja 
cancelada (pelo Evento de Cancelamento de NFS-e). Se não houver um evento que desbloqueie 
esta nota para o seu cancelamento, o segundo evento de bloqueio enviado será rejeitado pois o 
primeiro está pendente de desbloqueio. A administração tributária deverá enviar o Evento de 
Desbloqueio de NFS-e por Ofício (que será explicado logo a seguir) para o Evento de 
Cancelamento de NFS-e. Assim a nota ficará desbloqueada para seu cancelamento 
(cancelamento este realizado pelo Evento de Cancelamento de NFS-e). Uma vez desbloqueada 
a NFS-e poderá ser bloqueada para cancelamento (para o mesmo Evento de Cancelamento de 
NFS-e). Dessa forma, havendo um desbloqueio para o primeiro evento de bloqueio, o segundo 
evento de bloqueio enviado pela administração tributária não seria rejeitado pelo sistema 
nacional. 


Consequentemente, é permitido o envio de um evento de bloqueio para cada evento da lista 
acima mencionada, que antes não foram bloqueados. 


Ex2: existe um evento de bloqueio para o Evento de Cancelamento de NFS-e. 


Em um momento posterior é enviado um novo evento de bloqueio para o Evento de 
Cancelamento de NFS-e Deferido por Análise Fiscal; em seguida é enviado um outro evento de 
bloqueio para o Evento de Cancelamento de NFS-e Indeferido por Análise Fiscal; posteriormente 
é enviado um outro evento de bloqueio para o Evento de Cancelamento de NFS-e por Ofício; 


Ao final teríamos a NFS-e bloqueada para 4 eventos, bloqueio este realizado em momentos 
distintos, conforme explicitado no Ex2. 


 


 



7.4.9. Des
bloqueio de NFS
-
e por Ofício 





Evento pelo qual a administração tributária do município emissor da NFS-e indica quais eventos 
de NFS-e devem ser desbloqueados pelo sistema, ou seja, para que haja um desbloqueio de 
algum evento é necessário que haja um evento de bloqueio anterior. 


Em um evento de desbloqueio poderão ser desbloqueados os mesmos eventos possíveis de 
bloqueio, conforme lista abaixo: 


a) Cancelamento de NFS-e; 
b) Cancelamento de NFS-e por Substituição; 
c) Cancelamento de NFS-e Deferido por Análise Fiscal; 
d) Cancelamento de NFS-e Indeferido por Análise Fiscal; 
e) Cancelamento de NFS-e por Ofício; 
f) Inclusão de NFS-e em Declaração da Apuração Nacional; 
g) Tributos de NFS-e Recolhidos; 


O Evento de Desbloqueio de NFS-e por Ofício deverá indicar qual o Evento de Bloqueio de NFS-
e se refere para realizar o desbloqueio. 


Aproveitando o Ex2 do item que trata do Bloqueio de NFS-e por Ofício, temos: 


Ex2: A NFS-e está bloqueada para 4 Eventos: Cancelamento de NFS-e, Cancelamento de NFS-e 
Deferido por Análise Fiscal, Cancelamento de NFS-e Indeferido por Análise Fiscal e Evento de 
Cancelamento de NFS-e por Ofício. O Evento de Desbloqueio de Ofício desbloqueia um evento 
por vez. Assim, este evento deve informar o identificador do evento de bloqueio que deseja 
desbloquear. No caso deste exemplo, para que a nota fique totalmente desbloqueada a 
administração tributária deve enviar 4 eventos de desbloqueio, um para cada evento de bloqueio 
existente na NFS-e. 


 


8. Esquemas XSD 


Os esquemas XSD dos arquivos XML especificados neste manual estão disponíveis na última 
versão do Pacote de Liberação (PL). 


 


PL_NFSe_1.00-Produção.zip 


 


9. Documentação Técnica das APIs (Swagger) 


Os detalhes específicos para as APIs no Sistema Nacional NFS-e, que estão descritas neste 
manual estão disponíveis em: 


 


Documentação Técnica das APIs para os Municípios 


 


Documentação Técnica das APIs para os Contribuintes 


 


 


10. Leiautes, Regras de Negócio e Mensagens de Erro 


Os leiautes dos arquivos XML bem coma as regras de negócio, mensagens e códigos de erros 
estão definidos nos seguintes documentos: 


 


AnexoA-Tabelas_ISO2Paises_MunIBGE_Rodovias-SNNFSe_V1.00.02-Produção.xslx 


 


AnexoB-ListasServNac_NBS-SNNFSe_V1.00.02-Produção.xslx 


 


AnexoIV-LeiautesRN_ADN-SNNFSe_V1.00.02-Produção.xslx 


 








 


 


 


 


 


 


 


 


 


 


PARTE II - MANUAL DE INTEGRAÇÃO DOS 
MUNICÍPIOS CONVENIADOS AO SISTEMA 
NACIONAL NFS-e 


 



37 
Manual de Integração 
dos Municípios Conveniados 
ao Sistema Nacional NFS-e 
11. Controle de Acesso ao Sistema Nacional NFS-e – Municípios 
11.1. Gerenciamento de Perfis e Níveis de Acesso 
11.1.1. Gerenciar Níveis e Perfis de Acesso dos Gestores Nacionais 
O gerenciamento de acesso dos perfis dos Gestores Nacionais contempla as funcionalidades de 
cadastramento para o acesso ao Painel Administrativo Nacional NFS-e (painel nacional) e 
controle de níveis de acesso a funcionalidades do sistema. Todas as funcionalidades 
administrativas para o Comitê Gestor da NFS-e estão disponíveis no painel nacional. Segue 
abaixo a descrição deste gerenciamento. 
a. Perfis Gestores Nacionais 
Existe somente um perfil gestor no âmbito nacional definido para o Sistema Nacional NFS-e: 
• Gestor Nacional; 
b. Cadastramento dos Gestores Nacionais 
O primeiro Gestor Nacional é cadastrado inicialmente pela equipe de desenvolvimento do 
Sistema Nacional NFS-e. A partir de então, todos os demais gestores nacionais são cadastrados 
pelos gestores nacionais previamente cadastrados. 
c. Acesso ao Painel Administrativo Nacional 
Ocorre somente via certificado digital pelos Gestores Nacionais. 
d. Níveis de Acesso às Funcionalidades para Gestores Nacionais 
Todos os Gestores Nacionais têm acesso irrestrito a todas as funcionalidades do Painel 
Administrativo Nacional NFS-e. 
11.1.2. Gerenciar Níveis e Perfis de Acesso dos Gestores Municipais 
O gerenciamento dos perfis de acesso dos Gestores Municipais contempla as funcionalidades 
de cadastramento para o acesso ao Painel Administrativo Municipal NFS-e (painel municipal). 
Todas as funcionalidades administrativas para os gestores municipais do município conveniado 
estão disponíveis no painel municipal. Segue abaixo a descrição deste gerenciamento. 
a. Perfis Gestores Municipais 
Existem três perfis de gestores no âmbito municipal definidos para o Sistema Nacional NFS-e: 
• Gestor Principal do Município; 
• Gestor Auditor Municipal; 
• Gestor Parametrizador; 
• Gestor Atendente Municipal; 
b. Cadastramento dos Gestores Municipais 
O Gestor Principal do município conveniado é cadastrado inicialmente pelo gerenciamento 
nacional quando o município se convenia e é cadastrado no Sistema Nacional NFS-e. Este perfil 
é único por município e obtido através de um cadastro já existente no Simples Nacional. 
Corresponde a figura de um agente ou administrador público tido como responsável nacional 
pelo município. 
O Gestor Auditor Municipal e Parametrizador são cadastrados pelo Gestor Principal e por outros 
Gestores Auditores. Este perfil é múltiplo por município, mas uma vez cadastrado em um 
município não pode ter qualquer perfil gestor em outro município. 
Finalmente o Gestor Atendente Municipal é responsável pelo atendimento aos contribuintes do 
município conveniado ao Sistema Nacional NFS-e. Este perfil é cadastrado pelos outros dois 

perfis gestores do município. Este perfil também é múltiplo por município, e também uma vez 
cadastrado em um município não pode ter qualquer perfil gestor em outro município. 

 

c. Acesso à Área Restrita do Painel Administrativo Municipal 


Ocorre somente via certificado digital pelos Gestores Municipais (Principal, Auditor, 
Parametrizador e Atendente). 

 


d. Níveis de Acesso às Funcionalidades para Gestores Municipais 


 

Gestor Principal Municipal – O perfil deste gestor tem acesso e permissão para executar 
todas as funcionalidades disponíveis no painel municipal, inclusive a funcionalidade de 
cadastramento dos demais perfis de gestores municipais além da sua própria substituição por 
outro Gestor Principal do Município. 

 

Gestor Auditor Municipal – O perfil deste gestor tem acesso e permissão para executar todas 
as funcionalidades disponíveis no Painel Administrativo Municipal. 

 

Gestor Parametrizador Municipal – O perfil deste gestor tem acesso e permissão para 
parametrizar as funcionalidades disponíveis no painel municipal. 

 


Gestor Atendente Municipal – O perfil deste gestor tem acesso e permissão para executar 
apenas as funcionalidades de gerenciamento do cadastro de contribuintes do município, 
disponíveis no painel municipal. 

 


 



12. Painel Administrativo Nacional NFS-e – Web 
12.1. Painel Principal 





Este módulo disponibiliza funcionalidades de uso pela gestão nacional do Sistema Nacional NFS-
e. O controle e cadastro de gestores nacionais e o cadastro inicial dos municípios conveniados, 
são exemplos de funcionalidades que estão disponíveis no Painel Administrativo Nacional NFS-e 
(painel nacional). O controle de acesso ao painel nacional é realizado conforme as regras de 
controle de acesso do Sistema Nacional NFS-e definidos no módulo Controle de Acesso NFS-e. 

 

O painel principal consiste em diversas consultas estatísticas, independentes, realizadas na base 
de informações do Sistema Nacional NFS-e. Estas informações estatísticas são apresentadas no 
painel principal do Painel Administrativo Nacional NFS-e através de gráficos e informações 
consolidadas disponibilizados em “dashboards”. 

 

Informações consolidadas: 

• Total de NFS-E Emitidas 
• Quantidade de NFS-e nas Últimas 24H 
• Número de Municípios Conveniados 
• Número Total de Contribuintes 


 

Gráficos estatísticos em dashboards: 

• NFS-e por dia da semana 
• NFS-e por horário 
• NFS-e por Serviço 
• NFS-e nas últimas 24 horas 
• NFS-e por Município 
12.2. Cadastro de Gestores Nacionais 
12.2.1. Consultar Gestores Nacionais 








 


A funcionalidade de cadastro de gestores nacionais permite o gerenciamento das pessoas que 
pertencem ao comitê gestor dentro do Sistema Nacional NFS-e. A funcionalidade permite 
Consultar, Incluir, Alterar as informações, além de Desativar e Reativar cada um dos registros 
do cadastro mantendo seu histórico de atividades no sistema. O registro de um gestor nacional 
pode existir unicamente no cadastro e nunca será excluído fisicamente. Seguem abaixo as 
tabelas com as informações do gerenciamento dos gestores nacionais. 

 

Realizar consulta e exibir a tela com a listagem dos gestores nacionais ativos e inativos 
cadastrados no painel nacional com opção para incluir um novo gestor, pesquisar gestor pelo 
nome ou pelo CPF, conforme tabela abaixo: 

 

Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


Novo Gestor 


Botão para 
inclusão de novo 
Gestor Nacional 


Botão 


Incluir 


Apresenta tela para inclusão de 
um gestor 


Atualizar 


Botão para 
atualizar a tela 


Botão 


Atualizar 


Atualizar a consulta exibida na 
tela ao inicial 


Texto 


Texto para 
pesquisa 


Texto 


Refinar pesquisa 


Receber texto a ser pesquisado 


Pesquisar 


Pesquisa por 
nome ou CPF 


(Se a consulta for 
por CPF informar 
apenas os 
números) 


Botão 


Pesquisar 


Recuperar os dados para o CPF ou 
Nome informado 




 



Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


CPF 


CPF do gestor 
selecionado 


Numérico 


Exibir 


- 


Nome do 
gestor 


Nome do gestor 
recuperado no 
cadastro CPF 


Texto 


Exibir 


- 


Órgão 


Nome do órgão a 
que pertence o 
gestor 


Combo 


Exibir 


- 


Situação 


Situação atual do 
cadastro do 
gestor 
(Ativo/Inativo) 


Texto 


Exibir 


- 


Atualização 


Data da última 
atualização do 
cadastro 


Data 


Exibir 


- 


Ações no 
registro 


Alterar situação 
atual do gestor no 
cadastro 


 


Botão 


Alterar 


Direcionar para efetuar a ação 
selecionada 


• Se Ativo, pode-se: 
o Editar 
o Inativar 



• Se Inativo, pode-se: 
o Editar 
o Ativar 
12.2.2. Incluir Gestor Nacional 










 

Ao acionar o comando “Novo Gestor” na tela de consulta, o sistema direciona para a tela que 
possibilita fornecer informações para o cadastro de um novo gestor nacional. Para cadastrar um 
novo gestor nacional o CPF deve ser informado para consulta no Cadastro de Pessoa Física (CPF). 
O nome da pessoa é recuperado. As demais informações devem ser preenchidas para efetuar o 
cadastro. 


 


Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


CPF 


CPF do gestor a ser 
pesquisado 


Numérico 


Pesquisar 


Pesquisar nome 
relacionado ao CPF 
informado 


Nome do gestor 


Nome do gestor 
recuperado no cadastro 
CPF 


Texto 


Exibir 


- 


Órgão 


Nome do órgão a que 
pertence o gestor 


Combo 


Incluir 


Incluir o nome do órgão 
do gestor no campo de 
preenchimento 


Telefone 


Número de telefone de 
contato do gestor 


Numérico 


Incluir 


Incluir número do telefone 
de contato do gestor no 
campo de preenchimento 


E-mail 


Endereço eletrônico do 
gestor 


Endereço 
de e-mail 


Incluir 


Incluir o endereço 
eletrônico do gestor no 
campo de preenchimento 


Cadastrar 


Cadastrar informações 
do gestor 


Botão 


Incluir 


Efetivar o cadastro do 
gestor nacional no sistema 
nacional 


Cancelar 


Cancelar o processo de 
cadastramento do 
gestor 


Botão 


Cancelar 


Desfazer as inclusões do 
cadastro de gestores 
nacionais 




 



12.2.3. Alterar Informações do Gestor Nacional 
12.2.4. Desativar Gestor Nacional 
12.2.5. Reativar Gestor Nacional 



12.3. Cadastro de Municípios Conveniados 







A partir de um gestor nacional já cadastrado no sistema nacional é possível editar (alterar) 
algumas informações do gestor. O acionamento da funcionalidade de edição apresenta todas as 
informações do cadastro do gestor nacional. Porém, a edição das informações do cadastro de 
um gestor nacional permite o preenchimento para alteração somente das informações, conforme 
tabela abaixo. As informações alteradas são registradas em uma tabela de Histórico. 


 


Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


CPF 


CPF do gestor 
selecionado 


Numérico 


Exibir 


- 


Nome 


Nome do gestor 
recuperado no cadastro 
CPF 


Texto 


Exibir 


- 


Órgão 


Nome do órgão a que 
pertence o gestor 


Combo 


Alterar 


Alterar o nome do órgão 
do gestor 


Telefone 


Número de telefone de 
contato do gestor 


Numérico 


Alterar 


Alterar número do telefone 
de contato do gestor 


E-mail 


Endereço eletrônico do 
gestor 


Endereço 
de e-mail 


Alterar 


Alterar o endereço 
eletrônico do gestor 


Situação Atual 


Situação do cadastro 
do gestor 
(Ativo/Inativo) 


Texto 


Exibir 


- 


Última Atualização 


Data da última 
atualização 


Data 


Exibir 


- 


Salvar 


Salvar as alterações 
das informações do 
gestor 


Botão 


Alterar 


Efetivar as alterações das 
informações do gestor 


Cancelar 


Cancelar o processo de 
alteração das 
informações do gestor 


Botão 


Cancelar 


Desfazer as alterações do 
cadastro de gestores 
nacionais 




 


A partir da situação “Ativo” de um Gestor Nacional pode-se acionar o comando “Inativar” para 
desativá-lo. Um gestor nacional com situação “Inativa” não possui mais acesso ao painel 
nacional, portanto não realiza nenhuma atividade no sistema a partir da sua desativação. A 
reativação de um gestor nacional desativado só poderá ser realizada por outro gestor nacional. 


Será apresentado uma mensagem com a pergunta: Deseja inativar este Gestor Nacional? e as 
opções (Sim) para confirmar e (Não) para não alterar a situação. 


 


A partir da situação “Inativo” de um gestor nacional pode-se acionar o comando “Reativar” para 
ativá-lo novamente. 


Será apresentado uma mensagem com a pergunta: Deseja ativar este Gestor Nacional? e as 
opções (Sim) para confirmar e (Não) para não alterar a situação. 


 


A funcionalidade de cadastro de municípios conveniados permite o cadastramento inicial do 
município e o gerenciamento de informações do município no Sistema Nacional NFS-e. A 
funcionalidade permite Consultar, Incluir, Alterar as informações, além de Suspender, Desativar 
e Reativar cada um dos registros do cadastro mantendo seu histórico de atividades no sistema. 
O registro de um município pode existir unicamente no cadastro e nunca será excluído 
fisicamente. 

 



12.3.1. Consultar Municípios Conveniados 










Realizar a consulta exibe a listagem dos municípios conveniados com situação “Cadastrado”, 
“Ativo”, “Inativo” ou “Suspenso” no painel nacional. 

 

Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


Novo Convênio 


Botão para 
inclusão de novo 
Convênio 


Botão 


Incluir 


Apresenta tela para inclusão de um 
convênio 


Reiniciar 


Botão para 
reiniciar a tela 


Botão 


Reiniciar 


Retorna a tela ao início 


Texto 


Texto para 
pesquisa 


Texto 


Refinar pesquisa 


Receber texto a ser pesquisado 


Pesquisar 


Pesquisa por nome 
do município 


Botão 


Pesquisar 


Recuperar os dados para o Nome do 
município informado 


Município 


Nome do 
município 


Texto 


Exibir 


- 


Publicação 


Data da 
publicação do 
convênio 


Data 


Exibir 


- 


Situação 


Situação atual do 
convênio 
(Cadastrado, 
Ativo, Inativo, 
Suspenso) 


Texto 


Exibir 


- 


Ações 


Permite a 
alteração do 
convênio conforme 
sua situação atual 


 


Botão 


Alterar 


Direcionar para efetuar a ação 
selecionada 


• Se Cadastrado, pode-se: 
o Editar 
o Inativar 



• Se Ativo, pode-se: 
o Editar 
o Inativar 
o Suspender 





 




 


Um município “Cadastrado” se torna “Ativo” somente após a conclusão das parametrizações pelo 
município no Painel Administrativo Municipal NFS-e. A mudança de situação cadastral do 
convênio no painel nacional da situação “Cadastrado” para “Ativo” depende da atuação do 
município sobre as parametrizações no painel municipal. O gestor nacional ainda pode definir 
uma data de expectativa de conclusão da parametrização para a ativação do município no 
Sistema Nacional NFS-e. 


A partir da situação “Cadastrado” de um município, as ações permitidas são, “Editar” e “Inativar”. 
As edições das informações de um município cadastrado apenas atualizam os dados do cadastro 
sem alterar a situação. Já a ação “Inativar” desabilita o acesso de qualquer Gestor Municipal ao 
Painel Administrativo Municipal pois, um município desativado no sistema nacional é um 
município que agora não pode realizar atividades no sistema nacional a partir da data de 
inativação. 


Uma vez que o município esteja com a situação “Inativo”, o sistema permite as ações para 
“Editar” as informações do município e “Reativar” o convênio do município. 


Outra ação permitida a partir do município com situação “Ativa” é “Suspender”. O conceito de 
suspenso é relativo a alguma pendência do município por motivos que ainda serão definidos pelo 
comitê gestor do Sistema Nacional NFS-e. A situação suspensa permite o acesso dos gestores 
municipais ao painel municipal, mas impede que os contribuintes deste município suspenso 
emitam NFS-e pela Sefin Nacional (via API, Emissor Web ou Emissor Móvel) bem como o 
compartilhamento de Documentos Fiscais eletrônicos (DF-e) com o Ambiente de Dados Nacional 
(ADN NFS-e). 



12.3.2. Cadastrar Município Conveniado 










Uma vez assinado o convênio de adesão ao Sistema Nacional NFS-e, um gestor nacional realiza 
a inclusão de um novo cadastro de convênio de município no sistema. Os campos exigidos para 
o cadastramento são conforme tabela abaixo. 


 


Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


Município 


Nome do Município para o 
qual se deseja cadastrar 
um convênio 


Combo 


Selecionar / 
Pesquisar 


Pesquisar / 
Selecionar um 
município na 
relação apresentada 


CNPJ 


CNPJ do Município 
selecionado 


Texto 


Exibir 


- 


Código IBGE 


Código do Município 
conforme tabela do IBGE 


Texto 


Exibir 


- 


Razão Social 


Razão Social conforme 
cadastro CNPJ 


Texto 


Exibir 


- 


Logradouro 


Nome do logradouro 


Texto 


Exibir 


- 


Número 


Número do logradouro 


Texto 


Exibir 


- 


Complemento 


Complemento do 
logradouro 


Texto 


Exibir 


- 


CPF do responsável 


Número do CPF do 
responsável por gerir as 
informações do município 


Texto 


Exibir 


- 


Nome do 
responsável 


Nome do responsável 
conforme cadastro CPF 


Texto 


Exibir 


- 


Número da Lei 
Municipal 


Número da Lei Municipal 
que autorizou a criação do 
convênio 


Numérico 
(Até 8 
posições 
numéricas) 


Incluir 


Incluir o número da 
Lei Municipal que 
criou o convênio 


Data da Lei 
Municipal 


Data da Lei Municipal que 
autorizou a criação do 
convênio 


Data 


Incluir 


Incluir a data da Lei 
Municipal que criou 
o convênio 


Número do convênio 


Número do convênio 
municipal 


Texto 


Incluir 


Edita/Alterar 
número do 
convênio Municipal 


Data da publicação 
do convênio 


Data da publicação do 
convênio municipal no 
Diário do Município 
(Deverá ser maior que a 
data da Lei que o 
autorizou) 


Data 


Incluir 


Incluir a data do 
Convênio Municipal 


Data da entrada em 
vigor 


Data em que o convênio 
passa a vigorar no sistema 
NFS-e 


Data 


Incluir 


Incluir a data em 
que o Convênio 
Municipal passa a 
vigorar 


Observações 


Observações pertinentes 
ao convênio 


Texto 


Incluir 


Incluir as 
observações sobre 
o Convênio 
Municipal 


Cadastrar 


Cadastrar informações do 
convênio 


Botão 


Incluir 


Efetivar a inclusão 
do convênio 


Cancelar 


Cancelar o processo de 
cadastramento do 
convênio 


Botão 


Cancelar 


Desfazer o processo 
de cadastramento 
do convênio 




 

A Data de Entrada em Vigor é a data em o convênio assinado pelo município passa a vigorar no 
sistema. Esta data é uma previsão de entrada em vigor, ou seja, espera-se que o município 
realize e conclua as parametrizações necessárias no painel municipal até esta data. Ocorrendo 
tudo no tempo previsto o município estará ativo no Sistema Nacional NFS-e. Esta data prevista 
de entrada em vigor é necessária para que o sistema informe qual a data de início de vigência 
dos diversos parâmetros que serão parametrizados pelo gestor municipal no painel municipal. 


12.3.3. Alterar Informações do Município Conveniado 










Existem três hipóteses para a realização da conclusão da parametrização pelo município: a 
conclusão da parametrização ocorrerá antes da data de entrada em vigor prevista no painel 
nacional, a conclusão da parametrização ocorrerá na data prevista e a conclusão da 
parametrização ocorrerá após a data prevista. 

 

Na primeira hipótese a conclusão da parametrização ocorre antes da data prevista. 
Independente desse adiantamento o município estará ativo somente a partir da data prevista, 
pois como dito anteriormente, esta data é usada durante a parametrização para informar a data 
de início de vigência dos diversos parâmetros que o gestor municipal parametrizará no painel 
municipal. Caso necessite, o município pode solicitar ao comitê gestor para alterar a data 
prevista de entrada em vigor para adiantar a ativação do município no sistema nacional, já que 
a parametrização foi concluída antes da previsão inicial, de modo que o gestor municipal acione 
o comando de conclusão da parametrização antes da data prevista alterada pela solicitação ao 
comitê gestor. 

 

Na segunda hipótese a conclusão da parametrização ocorre na mesma data prevista para 
entrada em vigor do convênio do município, estipulada no painel nacional. Neste caso a 
parametrização ocorre no tempo previsto inicialmente e o município está ativo no sistema 
nacional a partir desta data. Uma vez ativo o convênio do município no Sistema Nacional NFS-e 
não é permitido ao gestor nacional alterar a data prevista para entrada em vigor 

 

Na terceira hipótese a conclusão da parametrização ocorre em data posterior à data prevista 
para entrada em vigor do convênio do município. Neste caso, o comando para conclusão da 
parametrização não mais estará ativo ao gestor municipal. O município deverá solicitar ao comitê 
gestor para reprogramar a data prevista de entrada em vigor para uma data futura à data de 
solicitação, de modo que o gestor municipal acione o comando de conclusão da parametrização 
antes da data prevista alterada pela solicitação ao comitê gestor. 

 

Caso haja alteração da data prevista inicialmente para entrada em vigor o sistema nacional deve 
atualizar as datas de início de vigência dos parâmetros administrados pelo município solicitante. 

 

As alterações das informações do cadastro de um município conveniado permitem o 
preenchimento conforme tabela abaixo. 


 


Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


Texto 


Nome do município 
selecionado 


Texto 


Exibir 


- 


CNPJ 


CNPJ do Município 
selecionado 


Texto 


Exibir 


- 


Código IBGE 


Código do Município 
conforme tabela do IBGE 


Texto 


Exibir 


- 


Razão Social 


Razão Social conforme 
cadastro CNPJ 


Texto 


Exibir 


- 


Logradouro 


Nome do logradouro 


Texto 


Exibir 


- 


Número 


Número do logradouro 


Texto 


Exibir 


- 


Complemento 


Complemento do 
logradouro 


Texto 


Exibir 


- 


CPF do responsável 


Número do CPF do 
responsável por gerir as 
informações do município 


Texto 


Exibir 


- 


Nome do 
responsável 


Nome do responsável 
conforme cadastro CPF 


Texto 


Exibir 


- 


Situação do 
Convênio 


Situação do Convênio 
(Inativar) 


Texto 


Exibir 


- 


Número da Lei 
Municipal 


Número da Lei Municipal 
que autorizou a criação do 
convênio 


Numérico 
(Até 8 
posições 
numéricas) 


Editar/Alterar 


Editar/Alterar 
número da Lei 
Municipal 





12.3.4. Desativar Convênio do Município 
12.3.5. Reativar Convênio do Município 










Data da Lei 
Municipal 


Data da Lei Municipal que 
autorizou a criação do 
convênio 


Data 


Editar/Alterar 


Editar/Alterar data 
da Lei Municipal 


Número do 
convênio 


Número do convênio 
municipal 


Texto 


Editar/Alterar 


Editar/Alterar 
número do 
convênio Municipal 


Data da publicação 
do convênio 


Data da publicação do 
convênio municipal no 
Diário do Município 
(Deverá ser maior que a 
data da Lei que o 
autorizou) 


Data 


Editar/Alterar 


Editar/Alterar data 
do Convênio 
Municipal 


*Data da entrada 
em vigor 


Data em que o convênio 
passa a vigorar no 
sistema NFS-e 


Data 


Editar/Alterar 


Editar/Alterar data 
em que o Convênio 
Municipal passa a 
vigorar 


Observações 


Observações pertinentes 
ao convênio 


Texto 


Editar/Alterar 


Editar/Alterar as 
observações sobre 
o Convênio 
Municipal 


Salvar 


Salvar as alterações 
efetuadas 


Botão 


Alterar 


Efetivar as 
alterações 


Cancelar 


Cancelar o processo de 
alteração das informações 
do convênio 


Botão 


Cancelar 


Desfazer o processo 
de alteração das 
informações do 
convênio 




 


* A data de entrada em vigor do convênio do município somente poderá ser alterada somente quando o 
município estiver com a situação “Cadastrado” no Sistema Nacional NFS-e, ou seja, antes de se tornar “Ativo” 
no Sistema Nacional NFS-e. 


 


Para desativar o convênio de um município o sistema solicita a descrição do motivo para 
inativação. Uma vez desativado não ocorre exclusão física do sistema apenas exclusão lógica. 


 


Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


Número do convênio 


Número do convênio 
municipal 


Texto 


Exibir 


- 


Situação do 
Convênio 


Situação do Convênio 
(Cadastrado, Suspenso ou 
Ativo) 


Texto 


Exibir 


 


Nome do Município 


Nome do Município 
conforme tabela TOM 


Texto 


Exibir 


- 


Motivo Inativação 


Motivo para inativação do 
convênio do município 


Texto 


Incluir 


Incluir motivo para 
inativação do convênio 
do município 


Confirmar 


Confirmar a inativação do 
convênio do município 


Botão 


Inativar 


Efetivar a inativação do 
convênio do município 
referenciado 


Cancelar 


Cancelar o processo de 
inativação do convênio do 
município 


Botão 


Cancelar 


Desfazer o processo de 
inativação do convênio 
do município 




 

Estando desativado o convênio de um município, este pode ser reativado bastando o 
acionamento da ação “Reativar” no registro do município desativado listado na consulta de 
municípios conveniados. 


 



Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


Número do convênio 


Número do convênio 
municipal 


Texto 


Exibir 


- 


Situação do 
Convênio 


Nenhuma 


Texto 


Exibir 


- 


Nome do Município 


Nome do Município 
conforme tabela TOM 


Texto 


Exibir 


- 


Motivo Reativação 


Motivo para Reativação do 
convênio do município 


Texto 


Incluir 


Incluir motivo para 
reativação do convênio 
do município 


Confirmar 


Confirmar a reativação do 
convênio do convênio do 
município 


Botão 


Reativar 


Efetivar a reativação do 
convênio do município 
referenciado 


Cancelar 


Cancelar o processo de 
reativação do convênio do 
município 


Botão 


Cancelar 


Desfazer o processo de 
reativação do convênio 




 


 



13. Painel Administrativo Municipal NFS-e – Web 
13.1. Módulo Painel Administrativo Municipal NFS-e 
13.2. Arquitetura do Painel Administrativo Municipal NFS-e 
13.2.1. Ativação do Município no Sistema Nacional NFS
-
e 








 


Este módulo do Sistema Nacional NFS-e disponibiliza funcionalidades de uso pela administração 
tributária municipal do município conveniado ao sistema nacional. É neste módulo do sistema 
que o município reflete os aspectos próprios de sua legislação tributária referentes ao ISSQN. O 
objetivo do módulo é uma interface para que o município insira informações, parâmetros, 
alíquotas e especificidades próprias de sua legislação, como benefícios fiscais. 


 


O Painel Administrativo Municipal NFS-e fornece funcionalidades para que o município 
conveniado se “parametrize” no sistema nacional. 

 

Dentre os aspectos principais que o município conveniado deve parametrizar estão: possibilidade 
de criação de códigos tributários municipais (serviços da listagem municipal), indicação de 
atributos dos serviços (formas de dedução/redução, regimes especiais de tributação e alíquotas) 
para validação da DPS e emissão de NFS-e, habilitação e manutenção da situação cadastral do 
contribuinte no Cadastro Nacional de Contribuintes, gerenciamento de regras próprias referentes 
a Retenções do ISSQN e a Benefícios Municipais da legislação municipal e consultas de 
documentos fiscais eletrônicos (DF-e) em que esteja envolvido. 

 

Estas funcionalidades de parametrização, que são de domínio municipal, mas que variam de 
acordo com a legislação de cada município, devem ser criteriosamente gerenciadas pelos 
gestores municipais, pois são necessárias para a correta validação da DPS e emissão de uma 
NFS-e. 

 

Não serão criados atributos de parametrização restritos para um município ou outro 
especificamente. Os atributos possíveis de parametrização são aqueles comuns ao negócio do 
ISSQN para todos os municípios, cuja informação do atributo varia segundo a legislação interna 
de cada município. 

 

O próprio módulo Painel Administrativo Municipal NFS-e gerencia o que deve ser parametrizado, 
para que o usuário (gestor municipal) não deixe de parametrizar informações que são 
necessárias para o correto funcionamento do sistema nacional de forma integrada. 

 

 

 


Ao assinar o convênio de adesão ao Sistema Nacional NFS-e, o município é cadastrado pelo 
Gestor Nacional do sistema através de funcionalidade específica, conforme descrito no Manual 
de Uso do Painel Administrativo Nacional. 


 


Esse cadastro insere o município conveniado ao sistema nacional inicialmente com situação 
“Inativo”. Uma vez inserido, o gestor municipal principal do município inicia o processo de 
parametrização do município no sistema, conforme as regras do manual acima citado. Somente 
após a conclusão do preenchimento de todos os parâmetros é que o município poderá acionar 
um comando para mudar a situação do município para “Ativo”, ou seja, as regras da legislação 
municipal, que são os parâmetros no painel municipal, passam a ser reconhecidas pelo sistema 
nacional. Toda DPS emitida por um contribuinte do município (se for o caso do município se 
conveniar utilizando os emissores públicos) são validadas também conforme estas 
parametrizações. Também outras DPS emitidas por contribuintes de outros municípios, cuja 
incidência do ISSQN se dê no município “Ativo”, utilizam as parametrizações para validar regras 
que forem pertinentes ao município de incidência do imposto. 


 


 



13.2.2. As Duas Etapas do Painel Administrativo Municipal 
13.2.3. Parametrização por Gestores Municipais 
13.2.4. Primeira Etapa 
– 
Definição da
s Parametrizações e Ativação do Município 








Existem duas etapas de uso do Painel Administrativo Municipal: a etapa antes da ativação do 
município no sistema nacional e a etapa após a ativação. Estas duas etapas se distinguem nos 
seguintes aspectos: a) antes da ativação o gestor municipal possui maior flexibilidade para 
mudar os valores dos parâmetros, pois não são registrados históricos de alteração destes valores 
dos parâmetros. b) após a ativação qualquer mudança de valores dos parâmetros é considerada 
uma alteração “controlada” e é registrada no histórico de alterações dos parâmetros com as 
datas inicial e final de vigência, pois a emissão de documentos fiscais é afetada pelo período de 
vigência conforme a data de competência da DPS (da qual irá ser gerada a NFS-e). 

 

No exato primeiro momento do município no Painel Administrativo Municipal somente o Gestor 
Municipal Principal (Responsável pelo CNPJ do Município) tem acesso. Esse gestor poderá realizar 
ele mesmo a tarefa de parametrização e ativação do município ou cadastrar um ou mais Gestores 
Auditores Municipais para realizarem as parametrizações e ativação do município no Sistema 
Nacional NFS-e. 

A terceira figura da gestão municipal, o Gestor Municipal Parametrizador, tem permissão para 
realizar todo e qualquer parâmetro disponível para administração pelo município no Painel 
Administrativo Municipal. 

A quarta figura da gestão municipal, o Gestor Municipal Atendente, não tem permissão para 
realizar nenhum tipo de parametrização do município no painel municipal, apenas lhe é permitido 
realizar a administração via web do Cadastro Nacional de Contribuintes NFS-e, conforme regras 
municipais próprias e caso o município utilize o cadastro próprio de contribuintes no sistema 
nacional (CNC NFS-e – Web). 

 

Caso opte por incluir um ou mais Gestores Municipal Auditor ou Parametrizador para 
parametrizar o município no Painel Administrativo Municipal, o Gestor Municipal Principal pode 
realizar a inclusão conforme descrito no item Cadastro de Gestores Municipais deste manual. 

 

Um município recém conveniado e cadastrado no Sistema Nacional NFS-e pelo Gestor Nacional 
deve acessar o Painel Administrativo Municipal NFS-e, realizar a parametrização do município no 
sistema nacional e acionar o comando de conclusão da parametrização. A ativação somente é 
possível se o Gestor Municipal competente para esta tarefa informar todos os parâmetros 
exigidos pelo painel municipal. O próprio sistema realiza o controle do que é obrigatório 
parametrizar e o que é opcional. A parametrização contém informações que fazem parte da 
legislação tributária municipal referente ao ISSQN instituído no município, conforme dito 
anteriormente, que são minimamente necessárias para a ativação do convênio de um município 
no Sistema Nacional NFS-e. Uma vez ativo, é possível ao Sistema Nacional NFS-e realizar as 
validações necessárias à DPS e gerar a NFS-e adequadamente de forma padronizada e 
consistente com as regras das legislações federais e municipais, de forma a automatizar a 
utilização do sistema para os contribuintes ao mesmo tempo que atribui corretude e integridade 
às informações dos documentos fiscais. 

 

O controle de preenchimento dos parâmetros municipais no sistema nacional é realizado através 
do assistente de parametrização que é exibida enquanto o convênio municipal não estiver ativo 
e auxilia a administração municipal a identificar as pendências para a conclusão da 
parametrização. A exibição dos elementos que devem ser configurados/parametrizados e sua 
respectiva situação atual permite ao gestor municipal identificar itens pendentes de 
parametrização. Ao clicar sobre esses elementos o sistema redireciona para a respectiva tela 
onde se poderá realizar as devidas parametrizações. 

 

A realização dos itens de parametrização obrigatórios no Painel Administrativo Nacional NFS-e é 
exigida para todos os municípios conveniados ao Sistema Nacional NFS-e, independentemente 


do tipo ou opções de uso de módulos do sistema nacional, informados na configuração de seu 
convênio. 

 


O comando para "Concluir Parametrização" será habilitado somente quando não houver 
nenhuma pendência em todos os elementos, exceto os não obrigatórios, que serão 
explicitados mais adiante neste manual. 

 

Abaixo segue uma figura ilustrativa dos passos e suas respectivas ordenações no Fluxo de 
Parametrização Inicial do Painel Administrativo Municipal. 

 

 

 

Quais são as situações que os itens de parametrização podem assumir? 

1. Não há pendências; 
2. Existem pendências; 
3. Informações não obrigatórias; 
4. Elemento bloqueado (depende do preenchimento de algum item); 


 

Como são definidas as situações de cada um dos itens de parametrização? 

 

• Gestores Municipais – Item de parametrização não obrigatório pois o Gestor Municipal 
Principal que já vem cadastrado do painel nacional possui todas as atribuições para 
executar todas as funcionalidades existentes no painel municipal realizando todas as 
parametrizações possíveis para o município. No entanto já neste momento inicial é 
possível cadastrar outros gestores municipais (auditores, parametrizadores e atendentes) 
para delegação de tarefas do município pertinentes à parametrização do município no 
Sistema Nacional NFS-e; 


 

• Informações do Município – Informações do município que são utilizadas quando da 
impressão da DANFSe (Documento Auxiliar de Nota Fiscal de Serviço Eletrônica); 


 

• Legislação para o ISSQN – Itens da legislação referente ao ISSQN que serão utilizados 
como informação obrigatória de todos os demais itens do painel municipal; 


 

• Configuração do Convênio – Verifica se as informações obrigatórias para a configuração 
do convênio foram preenchidas; 


 


• Parametrização de Eventos – Parametrização relativa aos Eventos de NFS-e, Eventos do 
MAN e outros que necessitarem de parametrização de acordo com a legislação municipal. 
o Cancelamento de NFS-e – Verifica se as informações obrigatórias para o evento 
de cancelamento de NFS-e do município foram preenchidas; 
o Substituição de NFS-e – Verifica se as informações obrigatórias para a substituição 
de NFS-e do município foram preenchidas; 





 

• Parametrização dos Serviços – A lista de Serviços Nacional deve ser administrada nos 
subitens que estão definidos ou em códigos de serviços municipais de parametrização 
opcional, somente para casos em que o município possua códigos de serviços próprios 
em sua legislação municipal, pois o município pode estar aderente à lista de serviço 
nacional, que é a lista de serviço mínima e comum para todos os municípios. Para cada 
código de serviço administrado deverá ser atribuído alíquota e as informações de 
Dedução/Redução. 


 

• Cadastro de Contribuintes – Depende da configuração do convênio para ser obrigatório 
informar ao menos um contribuinte do município ou se é um item de parametrização 
municipal opcional; 


 

• Regimes Especiais de Tributação – Verifica se para cada serviço existente no município 
foram definidas as regras para cada um dos regimes especiais de tributação disponíveis 
na legislação do município; 


 

• Retenções do ISSQN – Verifica se os critérios para possibilidade de retenções do valor de 
ISSQN para recolhimento pelo tomador ou intermediário foram preenchidas. Critérios 
específicos do município para ocorrência da retenção do ISSQN podem não vigorar na 
legislação municipal e, portanto, este município segue os critérios para retenção descritos 
nos incisos do Art 6º, § 2o da Lei Complementar 116/2003; 


 

• Benefícios Municipais – Verifica se os critérios para possibilidade de benefícios municipais 
configuram pelo menos uma redução de base de cálculo, isenção ou alíquota 
diferenciadas para serviços baseados nas leis municipais relativos ao cálculo do ISSQN 
devido. Assim como as retenções do imposto, critérios específicos do município para 
ocorrência de benefício municipal podem não vigorar na legislação municipal. Por isso, a 
parametrização de benefícios municipais é opcional. 
13.2.4.1. Definição dos Gestores Municipais 





 


 


A funcionalidade de cadastro de gestores municipais permite o gerenciamento das pessoas que 
pertencem à gestão municipal realizarem funcionalidades disponíveis no painel municipal do 
Sistema Nacional NFS-e. A funcionalidade de gerenciamento dos gestores municipais permite 
Consultar, Incluir, Alterar e Excluir as informações de cada um dos registros do cadastro 
mantendo seu histórico de atividades no sistema. Segue abaixo as telas do gerenciamento do 
cadastro. 

 

a. Consultar Gestores Municipais 


Exibe uma tabela paginada com a relação de todos os gestores já cadastrados com opção para 
incluir um novo gestor, pesquisar gestor pelo nome ou pelo CPF, conforme campos abaixo: 

 

Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


Novo Gestor 


Botão para inclusão 
de novo Gestor 
Nacional 


Botão 


Incluir 


Apresenta tela para inclusão de 
um gestor 


Reiniciar 


Botão para reiniciar a 
tela 


Botão 


Reiniciar 


Retorna a tela ao início 


Texto 


Texto para pesquisa 


Texto 


Refinar pesquisa 


Receber texto a ser pesquisado 




 



Pesquisar 


Pesquisa por nome ou 
CPF (Se a consulta for 
por CPF informar 
apenas os números.) 


Botão 


Pesquisar 


Recuperar os dados para o CPF 
ou Nome informado 


CPF 


Número do CPF do 
Gestor 


Texto 


Exibir 


- 


Nome 


Nome do Gestor 


Texto 


Exibir 


- 


Perfil 


Nome do perfil do 
Gestor na aplicação 


Texto 


Exibir 


- 


Situação 


Situação do Gestor na 
aplicação 


Texto 


Exibir 


- 


Atualização 


Data da última 
atualização das 
informações do 
Gestor 


Data 


Exibir 


- 


Ações no registro 


Alterar situação atual 
do gestor no cadastro 


 


Botão 


Alterar 


Direcionar para efetuar a ação 
selecionada: 


• Ativo 
o Editar 
o Inativar 



• Inativo 
o Editar 





Ativar 




 


b. Incluir Gestor Municipal 


Será apresentado um campo para inserção de um CPF. A ação de pesquisa busca pelo CPF 
informado no cadastro de pessoas físicas da RFB, recuperando o nome da pessoa. As demais 
informações são preenchidas pelo cadastrador. Um mesmo gestor municipal pode ser vinculado 
a mais de um município, desde que seu cadastro esteja ativo em apenas um município por vez 
em um mesmo período de tempo. 

 

Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


CPF 


CPF do gestor a ser 
pesquisado 


Numérico 


Pesquisar 


Pesquisar nome relacionado 
ao CPF informado 


Nome do gestor 


Nome do gestor 
recuperado no cadastro 
CPF 


Texto 


Exibir 


- 


Tipo Gestor 


Permite definir o tipo do 
gestor a ser incluído 


• Principal; 
• Auditor; 
• Parametrizador; 
• Atendente; 


Combo 


Selecionar 


Incluir o tipo do gestor 
selecionado 


Telefone 


Número de telefone de 
contato do gestor 


Numérico 


Incluir 


Incluir número do telefone 
de contato do gestor 


E-mail 


Endereço eletrônico do 
gestor 


Endereço 
de e-mail 


Incluir 


Incluir o endereço eletrônico 
do gestor 


Cadastrar 


Cadastrar informações do 
gestor 


Botão 


Incluir 


Efetivar a inclusão do gestor 


Cancelar 


Cancelar o processo de 
cadastramento do gestor 


Botão 


Desfazer 


Desfazer o processo de 
cadastramento do gestor 




 

c. Alterar Informações do Gestor Municipal 


Altera as informações possíveis relativas ao gestor municipal selecionado. As informações 
alteradas são registradas em uma tabela de Histórico. 


 


Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


CPF 


CPF do gestor selecionado 


Numérico 


Exibir 


- 


Nome do gestor 


Nome do gestor 
recuperado no cadastro 
CPF 


Texto 


Exibir 


- 


Tipo Gestor 


Permite alterar o tipo do 
gestor 


• Principal; 
• Auditor; 
• Parametrizador; 
• Atendente; 


Combo 


Selecionar 


Alterar o tipo do gestor 




 



Telefone 


Número de telefone de 
contato do gestor 


Numérico 


Alterar 


Alterar número do 
telefone de contato do 
gestor 


E-mail 


Endereço eletrônico do 
gestor 


Endereço 
de e-mail 


Alterar 


Alterar o endereço 
eletrônico do gestor 


Situação Atual 


Situação do cadastro do 
gestor (Ativo/Inativo) 


Texto 


Exibir 


- 


Última Atualização 


Data da última atualização 


Data 


Exibir 


- 


Salvar 


Salvar as alterações das 
informações do gestor 


Botão 


Alterar 


Efetivar as alterações das 
informações do gestor 


Cancelar 


Cancelar o processo de 
alteração das informações 
do gestor 


Botão 


Desfazer 


Desfazer o processo de 
cadastramento do gestor 




 


d. Desativar/Reativar Gestor Municipal 
13.2.4.2. Definição das Informações do Município 





Para ativar ou inativar será apresentada tela de confirmação (SIM ou NÃO) para o Gestor 
selecionado. 


 


As informações do município que devem ser definidas no fluxo inicial de parametrização são: 


 


Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


Nome 


Nome do município 


Texto 


Exibir 


- 


Complemento 


Complemento de 
informações relativas ao 
nome que o município 
queira informar 


Texto 


Exibir 


- 


CEP 


Número do CEP 


Número 


Alterar 


Recuperar para alteração 
as informações de 
logradouro recuperadas 
na tabela TOM com o CEP 
informado 


Logradouro 


Nome do logradouro 


Texto 


Exibir 


- 


Número 


Número do logradouro 


Texto 


Alterar 


Alterar o número do 
logradouro 


Complemento 


Complemento do 
logradouro 


Texto 


Alterar 


Alterar o complemento do 
logradouro 


Bairro 


Nome do bairro 


Texto 


Exibir 


- 


E-mail 


Endereço do e-mail 
cadastrado como contato 
no município 


Endereço de 
e-mail 


Alterar 


Alterar o endereço de e-
mail do contato 


Telefone 


Número do telefone 
cadastrado como contato 
no município 


Numérico 


Alterar 


Alterar o número do 
telefone do contato 


Página Web 


Endereço da página web 
do município 


 


 


 


Brasão 


Imagem do brasão que 
será incluído na geração 
do DANFSe das NFS-e do 
município emissor 


img 


Alterar 


Alterar a imagem do 
brasão do município 


Salvar 


Salvar alterações das 
informações do município 
cadastrado 


Botão 


Alterar 


Efetivar a alteração do 
município 




 


Essas informações municipais serão utilizadas para compor a DANFSe (Documento Auxiliar de 
Nota Fiscal de Serviço Eletrônica), junto com as informações das NFS-e em que o município for 
emissor. 


 


 


 



13.2.4.1. Definição da Legislação ISSQN 








Essa funcionalidade permite que o parametrizador registre e catalogue a legislação tributária 
referente ao ISSQN. Por padrão o assistente de parametrização do painel municipal já vem com 
a LC 116/03 cadastrada para todo município conveniado. Nenhum município pode editar ou 
excluir o cadastro da LC 116/03. O gestor municipal pode adicionar cada uma das suas normas 
tributárias locais referentes ao ISSQN em que estão descritos os itens de parâmetros que serão 
registrados na parametrização do painel municipal. O sistema não realiza nenhuma consistência 
das informações acerca da legislação que for incluída no painel municipal bem como a correta 
utilização nos parâmetros que forem realizados pelo gestor municipal. A integridade e exatidão 
dos dados inseridos das legislações e o uso delas no registro dos parâmetros é responsabilidade 
do município. 


Cada norma incluída no cadastro tem um identificador único. O identificador tem a seguinte 
regra de formação: 7 dígitos para o código do município, 2 dígitos para o tipo de parâmetro e 5 
dígitos sequenciais únicos por município/parâmetro; 


 


a. Consultar Legislação 


Exibe uma tabela paginada com a relação de todos os gestores já cadastrados com opção para 
incluir um novo gestor, pesquisar gestor pelo nome ou pelo CPF, conforme campos abaixo: 

 

Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


Nova Legislação para 
o ISSQN 


Botão para inclusão 
de nova Legislação 
para o ISSQN 


Botão 


Incluir 


Apresenta tela para inclusão de 
um gestor 


Reiniciar 


Botão para reiniciar a 
tela 


Botão 


Reiniciar 


Retorna a tela ao início 


Texto 


Texto para pesquisa 


Texto 


Refinar pesquisa 


Receber texto a ser pesquisado 


Pesquisar 


Pesquisa por nome ou 
CPF (Se a consulta for 
por CPF informar 
apenas os números.) 


Botão 


Pesquisar 


Recuperar os dados para o CPF 
ou Nome informado 


CPF 


Número do CPF do 
Gestor 


Texto 


Exibir 


- 


Nome 


Nome do Gestor 


Texto 


Exibir 


- 


Perfil 


Nome do perfil do 
Gestor na aplicação 


Texto 


Exibir 


- 


Situação 


Situação do Gestor na 
aplicação 


Texto 


Exibir 


- 


Atualização 


Data da última 
atualização das 
informações do 
Gestor 


Data 


Exibir 


- 


Ações no registro 


Alterar situação atual 
do gestor no cadastro 


 


Botão 


Alterar 


Direcionar para efetuar a ação 
selecionada: 


• Ativo 
o Editar 
o Inativar 



• Inativo 
o Editar 





Ativar 




 


b. Incluir Legislação 


Será apresentado um campo para inserção de um CPF. A ação de pesquisa busca pelo CPF 
informado no cadastro de pessoas físicas da RFB, recuperando o nome da pessoa. As demais 
informações são preenchidas pelo cadastrador. Um mesmo gestor municipal pode ser vinculado 
a mais de um município, desde que seu cadastro esteja ativo em apenas um município por vez 
em um mesmo período de tempo. 

 

 


Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


CPF 


CPF do gestor a ser 
pesquisado 


Numérico 


Pesquisar 


Pesquisar nome relacionado 
ao CPF informado 


Nome do gestor 


Nome do gestor 
recuperado no cadastro 
CPF 


Texto 


Exibir 


- 


Tipo Gestor 


Permite definir o tipo do 
gestor a ser incluído 


• Principal; 
• Auditor; 
• Parametrizador; 
• Atendente; 


Combo 


Selecionar 


Incluir o tipo do gestor 
selecionado 


Telefone 


Número de telefone de 
contato do gestor 


Numérico 


Incluir 


Incluir número do telefone 
de contato do gestor 


E-mail 


Endereço eletrônico do 
gestor 


Endereço 
de e-mail 


Incluir 


Incluir o endereço eletrônico 
do gestor 


Cadastrar 


Cadastrar informações do 
gestor 


Botão 


Incluir 


Efetivar a inclusão do gestor 


Cancelar 


Cancelar o processo de 
cadastramento do gestor 


Botão 


Desfazer 


Desfazer o processo de 
cadastramento do gestor 




 

c. Alterar Informações da Legislação 


Altera as informações possíveis relativas ao gestor municipal selecionado. As informações 
alteradas são registradas em uma tabela de Histórico. 


 


Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


CPF 


CPF do gestor selecionado 


Numérico 


Exibir 


- 


Nome do gestor 


Nome do gestor 
recuperado no cadastro 
CPF 


Texto 


Exibir 


- 


Tipo Gestor 


Permite alterar o tipo do 
gestor 


• Principal; 
• Auditor; 
• Parametrizador; 
• Atendente; 


Combo 


Selecionar 


Alterar o tipo do gestor 


Telefone 


Número de telefone de 
contato do gestor 


Numérico 


Alterar 


Alterar número do 
telefone de contato do 
gestor 


E-mail 


Endereço eletrônico do 
gestor 


Endereço 
de e-mail 


Alterar 


Alterar o endereço 
eletrônico do gestor 


Situação Atual 


Situação do cadastro do 
gestor (Ativo/Inativo) 


Texto 


Exibir 


- 


Última Atualização 


Data da última atualização 


Data 


Exibir 


- 


Salvar 


Salvar as alterações das 
informações do gestor 


Botão 


Alterar 


Efetivar as alterações das 
informações do gestor 


Cancelar 


Cancelar o processo de 
alteração das informações 
do gestor 


Botão 


Desfazer 


Desfazer o processo de 
cadastramento do gestor 




 


d. Encerrar vigência da Legislação 


Para ativar ou inativar será apresentada tela de confirmação (SIM ou NÃO) para o Gestor 
selecionado. 


 


 


 



13.2.4.2. Definição da Configuração Convênio do Município 





As configurações do convênio municipal são relativas à aderência aos Módulos do Sistema 
Nacional da NFS-e: 

• utilização dos Emissores Públicos Nacional (WEB, Móvel e API); 
• base de contribuintes utilizada (CNC ou Cadastros CPF/CNPJ da RFB); 
• utilização do Módulo de Apuração Nacional (MAN NFS-e); 
• aproveitamento de créditos disponíveis; 


 


Todo município realizará o compartilhamento de documentos fiscais eletrônicos - DF-e realizado 
no ADN NFS-e utilizando DF-e nos leiautes de padrão nacional (Leiaute Nacional para NFS-e e 
Eventos de NFS-e, Documentos do MAN). Lembrando que um DF-e é a forma como nos referimos 
a qualquer tipo de documento fiscal eletrônico, seja NFS-e ou um Evento de NFS-e ou 
Documentos do MAN. Se o município optar pela emissão pública no sistema nacional, então 
utilizará todos módulos emissores de NFS-e (Sefin Nacional, Emissor Público Nacional Web e 
Emissor Público Nacional Móvel). Também será utilizado o Módulo de Apuração Nacional (MAN 
NFS-e), a fim de apurar e emitir a guia para pagamento do ISSQN. O município irá optar por 
conceder aproveitamento de créditos ou não aos seus sujeitos passivos. Esse gerenciamento é 
realizado no painel de crédito. 

 

Caso opte por não utilizar todos os módulos do sistema nacional ofertados, o município pode 
escolher alguns deles para uso, conforme possibilidades definidas no painel administrativo. 

 

Se a opção for pelos cadastros RFB, somente os contribuintes cujos endereços estejam 
registrados no próprio município, nos cadastros CPF ou CNPJ, poderão emitir NFS-e pelo 
município. 

 

Campo 


Descrição 


Tipo 


Ocorrência 


Funcionalidade 


Ação 


Aderência a 
Módulos do 
Sistema 
Nacional NFS-e 


Ambientes de Dado 
Nacional – ADN NFS-E 


Checkbox 


Obrig. 


Pré-definido 


- 


Aderência a 
Módulos do 
Sistema 
Nacional NFS-e 


Emissores Públicos 
Nacionais 


(WEB, Móvel e API) 


Indicar se o município vai 
utilizar os Emissores 
Púbicos disponíveis 


 


Checkbox 


Obrig. 


Selecionar 


Definir se o 
município vai 
utilizar os 
emissores 
públicos-
nacionais (WEB, 
Móvel e API) 


Aderência a 
Módulos do 
Sistema 
Nacional NFS-e 


Indicar qual será a fonte 
das informações cadastrais 
dos contribuintes 


(CNC de responsabilidade 
de gestão dos municípios 
ou 


CNPJ e CPF da RFB 


Checkbox 


Obrig. 


Selecionar 


Definir a fonte de 
informações 
cadastrais dos 
contribuintes 


Aderência a 
Módulos do 
Sistema 
Nacional NFS-e 


Indicar a utilização do 
Módulo de Apuração 
Nacional – MAN 


Checkbox 


Obrig. 


Selecionar 


Definir se o 
município irá 
utilizar o Módulo 
de Apuração 
Nacional – MAN 


Permite 
aproveitamento 
de Créditos 
disponíveis no 
Painel de 
Créditos 


Indicar se haverá 
aproveitamento de créditos 
disponíveis 


Checkbox 


Obrig. 


Selecionar 


Definir se o 
município irá 
permitir o 
aproveitamento 
de créditos 
disponíveis no 
Painel de 
Créditos 




 


 



13.2.4.3. Definição da 
Parametrização de Eventos de NFS
-
e 





A definição da parametrização de Eventos de NFS-e no painel municipal insere as regras da 
legislação municipal no que se refere ao “ciclo de vida” da NFS-e. Uma NFS-e pode ser cancelada 
ou substituída, por exemplo, de acordo com a legislação municipal. 


Todos os municípios conveniados deverão parametrizar os Eventos de Cancelamento de NFS-e 
no Sistema Nacional NFS-e. 


 


Uma NFS-e que seja cancelada ou substituída no sistema próprio do município, para ser refletido 
este cancelamento no sistema nacional, deverá ter o cancelamento ou substituição transcritos 
para o leiaute de eventos padrão nacional e depois compartilhado com o ambiente de dados 
nacional. Este evento compartilhado pelo município reflete um aspecto do ciclo de vida da nota 
fiscal de serviço que ocorreu no município e foi, de alguma forma, aceito por ele. Cabe ao sistema 
nacional aceitar este documento realizando validações estruturais e de negócio conforme as 
parametrizações do município para o documento compartilhado. Uma vez validado o sistema irá 
consistir e refletir o cancelamento da NFS-e no sistema nacional para que a informação esteja 
de acordo com a realidade da legislação municipal parametrizada no sistema nacional. Caso a 
parametrização não esteja de acordo com os fatos ocorridos acerca do cancelamento da NFS-e 
ou o sistema próprio do município está permitindo o cancelamento em desacordo com sua 
própria legislação ou o município parametrizou equivocamente em relação à sua legislação. Será 
preciso analisar e realizar os ajustes necessários para que o documento seja novamente 
compartilhado e validado para ser consistido no ADN NFS-e, ou seja, o Evento de Cancelamento 
de NFS-e que for compartilhado por um município será rejeito pelo sistema nacional se estiver 
em desacordo com a parametrização vigente deste evento no momento do compartilhamento. 


 


a. Cancelamento de NFS-e 


 


As parametrizações que variam, conforme opção do município, devem ser definidas conforme 
abaixo: 


 


• Existe um prazo para o cancelamento de uma NFS-e? 


Opções: 


 
Sim (Se sim, informar o prazo de máximo (em dias) para o cancelamento da NFS-e); 


 
Não; 


 


• Existe restrição de valor para o cancelamento de uma NFS-? 


Opções: 


 
Sim (Se sim, informar o valor (monetário) máximo para o cancelamento de uma NFS-e); 


 
Não; 


 


• É permitido cancelar uma NFS-e onde o Tomador não foi identificado? 


Opções: 


Sim; 


 
Não; 


 


• É permitido cancelar uma NFS-e com tributos recolhidos? 


Opções: 


Sim; 


 
Não; 


 


Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


Salvar 


Salvar as informações de 
cancelamento de NFS-e 
definidas 


Botão 


Incluir 


Efetivar a inclusão das 
informações de 
cancelamento de NFS-e 
definidas 


Cancelar 


Cancelar as informações de 
cancelamento de NFS-e 
definidas 


Botão 


Desfazer 


Desfazer as informações de 
cancelamento de NFS-e 
definidas 




 



Existem regras comuns e obrigatórias para todos os municípios relativas ao evento cancelamento 
de NFS-e. 


 


1. Não é possível cancelar uma NFS-e que esteja marcada com bloqueio de cancelamento; 
2. Não há restrição para cancelamento de ofício de NFS-e; 


 

b. Substituição de NFS-e 


A substituição de nota ocorre com a ação de substituição de NFS-e pelo envio de nova DPS 
indicando uma chave de acesso de NFS-e já existente no sistema. Ao receber uma DPS contendo 
uma chave de acesso a ser substituída, o sistema cancela a NFS-e existente e gera uma nota 
substituta, vinculando os documentos envolvidos (notas substituída e substituta). 


 


A modelagem de substituição de NFS-e no sistema nacional ocorre em dois processos, a primeira 
é a substituição da NFS-e existente por uma substituta e a segunda o cancelamento da NFS-e 
substituída. Um processo não existe sem o outro e as regras para substituição de NFS-e são a 
causa da realização ou não de um evento de cancelamento de NFS-e por substituição. Dessa 
forma, as regras do município existentes para a substituição de NFS-e devem ser definidas para 
a substituição de NFS-e, que somente é concluída com o cancelamento por substituição de NFS-
e, tratado como um evento no sistema nacional. Assim, amplia-se o conceito de substituição de 
NFS-e como um evento dentro do sistema nacional e o município deve definir suas regras na 
parametrização de eventos do painel municipal, conforme abaixo. 


 


São apresentadas as perguntas abaixo: 


 


• Existe um prazo máximo para a substituição de uma NFS-e? 


Opções: 


Sim (Se sim, informar o prazo de máximo (em dias) para a substituição da NFS-e); 


Não; 


 


• É permitido substituir uma NFS-e onde os não emitentes não foram identificados? 


Opções: 


Sim; 


 
Não; 


 


• É permitido alterar as informações dos não emitentes na NFS-e substituta? 


Opções: 


Sim; 


 
Não; 


 


• É permitido substituir uma NFS-e com tributos recolhidos? 


Opções: 


Sim; 


 
Não; 


 


Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


Salvar 


Salvar as informações de 
substituição de NFS-e definidas 


Botão 


Incluir 


Efetivar a inclusão das 
informações de substituição 
de NFS-e definidas 


Cancelar 


Cancelar as informações de 
substituição de NFS-e definidas 


Botão 


Desfazer 


Desfazer as informações de 
substituição de NFS-e 
definidas 




 


Existem regras comuns e obrigatórias para todos os municípios relativas substituição de NFS-e. 


 


1. É permitida a substituição nos casos de enquadramento/desenquadramento do Simples 
Nacional, sem limite de prazo; 
2. Não é permitida a substituição das NFS-e que estejam canceladas (por qualquer motivo); 
3. Não é permitida a substituição das NFS-e que estejam bloqueadas pela administração 
municipal. 



13.2.4.4. Lista de Serviços 
– 
Conceitos e Modelagem 





O Sistema Nacional NFS-e utiliza uma lista de serviços com subitens “desdobrados” dos subitens 
da lista de serviços anexa à LC 116/03, ou seja, o “desdobro” é um subitem que corresponde 
exatamente ou se deriva de um subitem da lista de serviços anexa à LC 116/03. 

 

a. Conceito dos Subitens “Desdobrados” para o Sistema Nacional NFS-e 


O Sistema Nacional NFS-e utiliza uma lista de serviços com subitens “desdobrados” dos subitens 
da lista de serviços anexa à LC 116/03, ou seja, o “desdobro” é um subitem que corresponde 
exatamente ou se deriva de um subitem da lista de serviços anexa à LC 116/03. Deve-se dizer 
que a lista de serviços do sistema nacional é exatamente a lista de serviços anexa à LC 116/03 
em todo seu conteúdo adicionada a lista nacional o código “990101 - Serviços sem a incidência 
de ISSQN e ICMS”. Apenas usou-se um artifício de desdobramento, desmembramento de alguns 
subitens que são mais extensos ou conjugam uma ou mais atividades com intuito de haver uma 
maior flexibilização para os municípios conveniados. 

 

Como exemplos, a lista de serviços anexa à LC 116/03 possui o subitem 1.06 – Assessoria e 
consultoria em informática. Na lista de serviços utilizada no Sistema Nacional NFS-e, que consta 
no AnexoB-ListasServNac_NBS-SNNFSe_v0.2.xlsx (anexo que tem a lista de serviços 
“desdobrada” utilizada pelo Sistema Nacional NFS-e), este subitem que também é considerado 
um desdobro, foi derivado da lista anexa à LC 116 e corresponde exatamente ao mesmo subitem 
1.06 existente nesta listagem. 

 

Já o subitem 7.02 – Execução, por administração, empreitada ou subempreitada, de obras 
de construção civil, hidráulica ou elétrica e de outras obras semelhantes, inclusive sondagem, 
perfuração de poços, escavação, drenagem e irrigação, terraplanagem, pavimentação, 
concretagem e a instalação e montagem de produtos, peças e equipamentos (exceto o 
fornecimento de mercadorias produzidas pelo prestador de serviços fora do local da prestação 
dos serviços, que fica sujeito ao ICMS) da LC 116, foi “desdobrada” em dois subitens de serviços 
que constam no AnexoB-ListasServNac_NBS-SNNFSe_v0.2.xlsx, ou seja, o subitem 7.02 da LC 
116/03 foi subdividido para contemplar separadamente em um subitem a atividade de Execução 
por Administração e no outro subitem a atividade de Execução por Empreitada ou 
Subempreitada, ambas as atividade sendo realizadas para os mesmos tipos de serviços descritos 
no subitem original. Abaixo segue a descrição dos dois subitens “desdobrados” derivados do 
subitem 7.02 da lista de serviços anexa à LC 116/03 para exemplificar a explicação dada. 

 

7.02.01 – Execução, por administração, de obras de construção civil, hidráulica ou elétrica e 
de outras obras semelhantes, inclusive sondagem, perfuração de poços, escavação, drenagem 
e irrigação, terraplanagem, pavimentação, concretagem e a instalação e montagem de produtos, 
peças e equipamentos (exceto o fornecimento de mercadorias produzidas pelo prestador de 
serviços fora do local da prestação dos serviços, que fica sujeito ao ICMS). 

 

7.02.02 – Execução, por empreitada ou subempreitada, de obras de construção civil, 
hidráulica ou elétrica e de outras obras semelhantes, inclusive sondagem, perfuração de poços, 
escavação, drenagem e irrigação, terraplanagem, pavimentação, concretagem e a instalação e 
montagem de produtos, peças e equipamentos (exceto o fornecimento de mercadorias 
produzidas pelo prestador de serviços fora do local da prestação dos serviços, que fica sujeito 
ao ICMS). 

 

Dessa forma, a lista de serviços da LC 116/03 não é modificada semanticamente, contudo a lista 
de serviços “desdobrados” se torna a lista de serviços de abrangência nacional utilizada 
minimamente por todos os municípios conveniados ao Sistema Nacional NFS-e. 

 


b. Conceito do Código de Tributação Nacional 


Dito isto, entende-se que não houve nenhuma modificação no conteúdo da lista de serviços 
anexa à LC 116/03 e sim apenas um desmembramento de alguns subitens da lista para melhor 
acomodar as atividades dos subitens e flexibilizar seu uso pelos municípios conveniados ao 
sistema nacional em seu dia a dia. 


Para não descaracterizarmos a lista anexa à LC 116/03, acrescentou-se mais dois dígitos após 
os dígitos do subitem original para que o sistema nacional contemplasse a LC 116/03 original 
com alguns subitens “desdobrados”, mantendo dessa forma uma única lista de serviços que 
pudesse contemplar todos os municípios brasileiros, desde os menores aos maiores que possuem 
atividades de serviço com aspectos legislativos mais diferenciados para atividades diferentes 
que estão contempladas originalmente no mesmo subitem da LC 116/03. 

 

O subitem 07.02 original da LC 116/03 passa a corresponder aos subitens 07.02.01 e 07.02.02 
da lista de serviços “desdobrados”, ou seja, no nível nacional, válido para todos os municípios 
conveniados ao sistema nacional, os subitens da lista nacional possuem 6 dígitos em seus 
códigos. Até mesmo subitens que não foram efetivamente desdobrados como o 2.01 da LC 
116/03 passam a ter a codificação com 6 dígitos: 02.01.01. Assim padronizamos toda a lista e 
não há diferença de entendimento do formato dos subitens para os usuários. 

 

c. Conceito do Código de Tributação Municipal 


Entendendo ainda que as variadas atividades de serviço podem ter diferentes aspectos que, por 
diversos motivos, tem algum tipo de tratamento diferenciado pelo município, o sistema nacional 
permite ainda uma possibilidade de flexibilização para o município criar atividades de serviços 
de forma vertical, ou seja, definição do código de tributação municipal criada abaixo de algum 
“desdobro” da lista de serviço nacional, disposta no anexo AnexoB-ListasServNac_NBS-
SNNFSe.xlsx. 

 

Assim temos, possibilidades de atividades de serviços especializadas que possuem cada qual um 
código de tributação municipal. Estas atividades são específicas para cada município que as criou 
e seguem, obrigatoriamente, as mesmas “regras gerais” do código de tributação nacional da 
qual é “filho”, pois os códigos de tributação nacionais (desdobrado) são os serviços listados na 
LC 116/03 e, portanto, seguem as “regras gerais”, que mencionamos acima, como por exemplo, 
as regras de incidência do ISSQN definidas pela lei complementar. 

 

Então vejamos, o subitem 07.02 original da LC 116/03 passou a corresponder aos subitens 
07.02.01 e 07.02.02 da lista de serviços “desdobrados”, ou seja, temos 6 dígitos em seus códigos 
no nível nacional. Caso o município necessite criar uma atividade específica somente poderá 
fazê-lo abaixo de um código nacional e, portanto, devemos ter uma numeração específica para 
possibilitar esta flexibilização. Dessa maneira, aos códigos nacionais serão acrescentados 3 
dígitos diferentes de 000 para indicar o código de tributação municipal que representa uma 
atividade específica criada pelo município 

 

d. Conceito do Código de Tributação 99.01.01 


A lista de serviços nacional utilizada no Sistema Nacional NFS-e é a lista de serviços anexa a LC 
116/03 com alguns subitens desdobrados, como explicado anteriormente. Foi incluído um 
subitem ao final da lista com o código 99.01.01 - Serviços sem a incidência de ISSQN e ICMS. 
Este código, conforme sua própria descrição informa, serve para as prestações de serviços com 
não incidência de ISS e ICMS, que tenham a necessidade de emissão de uma NFS-e. 

 

Como exemplo, empresas fazem a emissão da NFS-e utilizando subitem de serviço Vetado e 
nesses casos o município teria que utilizar o código da lista nacional, 99.01.01 - Serviços sem a 
incidência de ISSQN e ICMS. 

 

Este código não recebe nenhum tipo de parâmetro, ou seja, não é possível vincular nenhum tipo 
de parâmetro a este código como deve ser realizado nos demais códigos da lista de serviços. 

 

e. Modelagem da Parametrização dos Subitens da Lista de Serviços 


Realizado o entendimento da estrutura da lista de serviços do Sistema Nacional NFS-e, passamos 
agora a compreender como devemos parametrizar os subitens da lista de serviços. 

 

É importante compreender que os parâmetros informados na lista de serviços são vinculados a 
cada subitem da lista, ou seja, é o subitem que agrega as informações de parametrização, pois 
quando um contribuinte emite uma DPS ele indica o subitem da lista de serviço que prestou e, 


portanto, é este subitem que deve conter os parâmetros que automatizarão a prestação de 
informações pelo contribuinte, além de permitir que as informações inseridas no documento 
fiscal estejam corretas e precisas, de acordo com a informação do próprio município. Isso deve 
ser dito para tornar claro que, quando o gestor municipal estiver realizando as parametrizações, 
ele encontrará algumas facilidades para realizá-las, como por exemplo incluir uma mesma 
alíquota para todos os subitens, ou para todos os subitens de um item da lista de serviços em 
apenas um passo da funcionalidade do painel municipal, ou seja, não seria obrigatório ao gestor 
municipal incluir uma alíquota subitem a subitem da lista de serviço. Basta ao gestor municipal 
escolher a raiz dos subitens que deseja incluir uma alíquota por exemplo que o sistema 
automaticamente inclui a alíquota que for informada para todos os subitens “filhos” daquele 
ponto. Por exemplo, se um município A tem somente uma alíquota de 2% para todos os subitens 
de seu ISSQN, então basta ele selecionar o topo da lista apresentada “Todos os Serviços” e 
informar 2% para o parâmetro alíquota. O sistema automaticamente incluirá 2% como alíquota 
em todos os subitens da lista deste município A. Ainda neste exemplo, se apenas os subitens do 
item 17 tem uma alíquota de 5% e todos os demais são 2%, então ele pode realizar o primeiro 
passo informando 2% para todos os subitens e depois selecionar apenas o item 17 e redefinir 
de 2% (que foi definido no 1º passo) para 5%. O sistema irá redefinir a alíquota de 5% somente 
para os subitens do item 17. Este processo pode ser realizado conforme convier ao gestor 
municipal de forma a ser mais otimizado seu processo de parametrização da lista de serviço. Até 
mesmo, se lhe convier, pode realizar subitem a subitem, não importando a ordem de subitens 
que se faça. O importante é entender que é no subitem que estão administrados os parâmetros 
da lista de serviços e que todos os subitens devem ser completamente parametrizados. 

 

A lista de serviços possui quatro tipos de parâmetros a saber: 

1. Código de Tributação Municipal; 
2. Alíquota; 
3. Dedução/Redução; 
4. Código original do município; 
13.2.4.5. Definição Código de Tributação Municipal 
na Lista de Serviços 





 

Esta definição de um código de tributação municipal será apresentada da mesma forma em 
qualquer parametrização que permita definição de uma alíquota. 

 

Para facilitar o gerenciamento e navegação entre os serviços do município, a lista de serviços é 
exibida de forma hierárquica. Ao clicar sobre qualquer elemento da lista com o ícone é 
possível ver todos os elementos vinculados a ele. Os elementos com o ícone indicam o último 
nível da hierarquia. É neste ponto que é permitido a criação de um “Código de Tributação 
Municipal”. Ao clicar no elemento com o ícone será apresentada tela com opção para definir 
a alíquota e a opção para criar Código de Tributação Municipal. 

https://preprod.nfse.fazenda.gov.br/Municipio/img/icone-servicos-expandir.png
https://preprod.nfse.fazenda.gov.br/Municipio/img/icone-servicos-raiz.png
https://preprod.nfse.fazenda.gov.br/Municipio/img/icone-servicos-raiz.png 


Ao acionar a opção de Criar Código de Tributação Municipal serão apresentados os campos a 
seguir: 

 

Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


Seleção Atual 


Serviço(s) para o qual(is) 
está(ão) sendo definida(s) a(s) 
alíquota(s) 


Texto 


Exibir 


- 


Alíquota 


Percentual da alíquota para o 
serviço selecionado 


Numérico 


Incluir 


Incluir o percentual para 
o serviço selecionado 


Código de 
desdobramento 
nacional vinculado 


Identificação do código de 
serviço 


Texto 


Exibir 


- 




 



Identificação no 
Sistema Nacional 


Código numérico de 3 dígitos 
utilizado para identificar este 
serviço municipal dentro do 
Sistema Nacional. Não é 
permitido utilizar o código 000. 
(Informação obrigatória) 


Numérico 


Incluir 


Incluir um desdobro 
municipal na lista de 
serviços do Sistema 
Nacional 


Código original do 
município 


Identificador original deste 
Código Municipal de Tributação 
no município. 


Texto 


Incluir 


Incluir o identificador 
original 


Descrição 


Descrição do código de 
desdobramento municipal. 
(Informação obrigatória) 


Texto 


Incluir 


Incluir a descrição do 
Código de Tributação 
Municipal 


Cancelar 


Cancelar o processo de 
cadastramento do código de 
desdobramento 


Botão 


Desfazer 


Desfazer o processo de 
cadastramento do novo 
código de desdobramento 


Avançar 


Redirecionar para tela de 
definição de alíquota 


Botão 


Direcionar 


Direcionar para tela de 
definição de alíquota da 
parametrização em curso 




 


a. Definição de Alíquotas para os Serviços 


As alíquotas dos serviços existentes em um município conveniado ao sistema nacional devem 
ser definidas, assim como todas as demais parametrizações obrigatórias exigidas para a 
“Ativação” do município e o correto funcionamento do sistema. A alíquota pertence ao 
“desdobro” do subitem da lista de serviço nacional. O conceito de desdobro do subitem foi 
explicado anteriormente neste manual. 

 

Através desta lista a administração municipal poderá gerenciar/parametrizar no Sistema 
Nacional da NFS-e todos os serviços existentes em sua legislação. 

 

A lista básica de serviços (comum a todos os municípios) contém todos os Itens e Subitens da 
lista anexa à LC 116/03, sendo que alguns destes subitens foram especializados gerando o que 
no Sistema Nacional da NFS-e é denominado "desdobramento nacional" ou “desdobro” do 
subitem. A junção dos itens e subitens originais da LC 116/03 com os desdobramentos nacionais 
formam o "Código de Tributação Nacional" (como pode ser observado no leiaute DPS). 

 

A administração municipal pode optar por criar mais especializações para cada um dos 
desdobramentos nacionais existentes. Estas especializações são denominadas "Código de 
Tributação Municipal" e são particulares de cada município (também pode ser observado no 
leiaute DPS). 

 

Para facilitar o gerenciamento e navegação entre os serviços do município, a lista é exibida de 
forma hierárquica. Ao clicar sobre qualquer elemento da lista com o ícone é possível ver 
todos os elementos vinculados a ele. Os elementos com o ícone indicam o último nível da 
hierarquia. 

https://preprod.nfse.fazenda.gov.br/Municipio/img/icone-servicos-expandir.png
https://preprod.nfse.fazenda.gov.br/Municipio/img/icone-servicos-raiz.png
Todos os elementos da lista de serviços possuem um botão de seleção () que quando acionado 
exibirá automaticamente no painel de detalhamento (existente no lado direito da página) as 
informações e possíveis ações referentes ao elemento selecionado. O Sistema Nacional NFS-e 
permite que as parametrizações dos serviços sejam feitas individualmente ou em grupo, ou seja, 
ao selecionar um elemento que contenha outros elementos vinculados, as ações realizadas serão 
aplicadas em todos estes elementos vinculados. 

https://preprod.nfse.fazenda.gov.br/Municipio/img/icone-servicos-selecionar.png 


A partir da seleção do “Serviço” a definição de alíquota será definida para todos os “desdobros” 
do “Serviço” selecionado. 

 

Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


Seleção Atual 


Serviço(s) para o qual(is) 
está(ão) sendo definida(s) a(s) 
alíquota(s) 


Texto 


Exibir 


- 


Alíquota 


Percentual da alíquota para o 
serviço selecionado 


Numérico 


Incluir 


Incluir o percentual para 
o serviço selecionado 




 



Início da vigência 


Início da vigência da alíquota 
definida. Durante a ativação do 
convênio não é possível alterar 
a data de início da vigência. 
Será considerada a data de 
início da vigência do convênio. 


Data 


Exibir 


- 


Salvar 


Salvar informações de alíquota 


Botão 


Incluir 


Efetivar a inclusão de 
alíquota 


Cancelar 


Cancelar o processo de 
inclusão de alíquota 


Botão 


Desfazer 


Desfazer o processo de 
inclusão de alíquota 




 


b. Definição de Dedução / Redução 


A Dedução / Redução somente pode ser definido após a definição da alíquota para um “desdobro” 
da lista. O conceito de Dedução e Redução referem-se a uma possibilidade de diminuição da 
base de cálculo para aferição do ISSQN. Os conceitos são idênticos, mas a terminologia é 
diferente para os subitens da lista de serviços. Apenas os desdobros pertencentes aos subitens 
07.02 e 07.05 utilizam a terminologia “Dedução”. Para os demais desdobros todos os outros 
subitens a terminologia utilizada é “Redução”. Assim como os outros parâmetros tratados até 
agora, exceto código de tributação municipal, a administração destes parâmetros é realizada 
nos desdobros dos subitens da lista de serviços nacional. 


 


Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


Serviço(s) 
Selecionado(s) 


Serviço(s) para o qual(is) 
está(ão) sendo definida(s) a(s) 
redução(ões) 


Texto 


Exibir 


- 


O(s) serviço(s) 
selecionado(s) 
permitem redução 
da base de cálculo 
do ISSQN? 


Pergunta para definir se haverá 
possibilidade de redução da 
base de cálculo do ISSQN. 


Texto 


Exibir 


- 


Sim / Não 


Resposta Sim e Não disponíveis 
para marcação 


Combo 


Definir 


Resposta Sim – abre 
opções de tipos de 
redução de BC 


Selecionar Tipos de 
Redução 


Combo com tipos de redução 
de base de cálculos permitidas 


Valor Percentual; 


Valor Monetário; 


Por Documentos; 


Combo 


Incluir 


Incluir o(s) tipo(s) de 
redução marcada(s) 


Salvar 


Salvar informações de redução 
de base de cálculo 


Botão 


Incluir 


Efetivar a inclusão de 
tipos de redução de BC 


Cancelar 


Cancelar o processo de 
inclusão de redução 


Botão 


Desfazer 


Desfazer o processo de 
inclusão de tipos de 
redução de BC 




 


c. Código Original do Município 


Este código é um identificador para cada subitem administrado pelo município na lista de serviços 
nacional, seja um código de desdobro da lista de serviço nacional, seja um código de tributação 
municipal, criado pelo gestor municipal abaixo de algum desdobro nacional. Neste caso o 
subitem administrado é o código municipal criado e não o desdobro nacional. Então é o código 
de tributação municipal que receberá o código original do município. Este código serve apenas 
para o município fazer uma correlação entre seu código de tributação e o correspondente código 
da lista de serviços nacional. Não possui nenhum efeito no sistema nacional. 


 


d. Upload de Serviços 


Esta funcionalidade permite atualizar e parametrizar a lista de serviços do município. O gestor 
municipal poderá inserir um ou mais códigos de tributação municipal na lista de serviços 
nacional. É possível criar novos Códigos de Tributação Municipal e administrar os parâmetros de 
todos os serviços (alíquotas e dedução/redução). Cada registro do arquivo é processado 
individualmente na ordem em que eles forem posicionados. O processamento do arquivo não 
sobrescreve as informações já existentes na lista de serviços. Caso seja necessário, deve-se 
utilizar as funcionalidades de exclusão individual disponíveis na lista de serviços. 


 


 



Informações sobre o arquivo: 


 


1. A extensão do arquivo obrigatoriamente deve ser .CSV; 
2. O arquivo deve estar com a codificação UTF-8; 
3. O tamanho do arquivo deve ser de até 300 Kb; 
4. O arquivo deve conter um Serviço por linha; 
5. Os campos que compõem cada linha devem ser separados por pipe ( | ); 


 


O arquivo deve conter os campos da tabela a seguir para cada linha do arquivo. 


 


Segue abaixo a descrição dos campos. 


 


Campo 


Descrição 


Tipo 


Tamanho 


Ocorrência 


Código completo 
do serviço 


Código completo do Código de 
Tributação Municipal 


Texto 


12 


Obrigatório 


Descrição do 
serviço 

Descrição completa do Código 
de Tributação Municipal 


Texto 


500 


Obrigatório 


Código Original do 
Município 


Código utilizado no município 
para identificar este mesmo 
serviço 


Texto 


50 


Obrigatório 


Identificador da 
Legislação 


Identificador único da 
legislação vinculada à criação 
do serviço 


Numérico 


18 


Obrigatório 


Alíquota 


Valor da alíquota definida para 
o serviço 


Numérico 


3 


Obrigatório 


Dedução/Redução 
- Valor monetário 


Determina se o serviço admite 
ou não a dedução/redução da 
Base de Cálculo do ISS 
utilizando valor monetário 


Numérico 


1 


Obrigatório 


Dedução/Redução 
- Valor percentual 


Determina se o serviço admite 
ou não a dedução/redução da 
Base de Cálculo do ISS 
utilizando valor percentual 


Numérico 


1 


Obrigatório 


Dedução/Redução 
- Documentos 


Determina se o serviço admite 
ou não a dedução/redução da 
Base de Cálculo do ISS 
utilizando documentos 


Numérico 


1 


Obrigatório 




 


Segue abaixo exemplos da formação da linha em um arquivo para upload de serviços. 


 


Cada linha do arquivo .csv deve conter exatamente 7 pipes ( | ), que é o caracter reservado da 
funcionalidade para separar os 8 campos existentes para cada serviço (linha do arquivo). 


 


Ex 1: Serviço com todas as informações descritas 


07.02.01.001|Serviço qualquer de obra existente no meu Município|1046|20094|4,00|2|1|1 


 


Ex 2: Serviço sem o código original do Município 


07.02.01.002|Outro serviço qualquer de obra existente no meu Município||457|2,54|1|2|1 


 


e. Download da Lista de Serviços 


O download da lista de serviços permite ao gestor municipal realizar o download da estrutura da 
lista atual do município. O sistema permite o download de dois tipos possíveis de formatos, um 
dos códigos de serviços atuais da lista de serviços do município. Essa opção permite ao gestor 
municpal ter uma visão simplificada da estrutura da lista de serviços do município e facilita, por 
exemplo, a montagem dos códigos de tributação municipal de forma mais ágil. O outro download 
disponibiliza a lista de serviços atual completa, ou seja, a lista com a estrutura dos códigos de 
tributação atuais com suas respectivas parametrizações. 


 


Na lista simples o arquivo conterá apenas 3 informações: Código completo (12 posições), 
Descrição do serviço e Código original no município (se houver). 


 


Na lista completa o arquivo conterá todas as parametrizações já realizadas (alíquota e 
informações de dedução/redução) para cada um dos serviços. 



f. Listagem de Pendências 
13.2.4.6. Definição do Cadastro Nacional de Contribuintes de NFS
-
e 
– 
Web 
(CNC NFS
-
e) 





O sistema permite ao gestor municipal verificar a ocorrência de “buracos” na parametrização da 
lista de serviços, ou seja, se algum item de parametrização da lista (alíquota, dedução/redução) 
faltou em algum serviço. O código de tributação municipal é um item da lista a ser administrado, 
ou seja, ele deve possuir os parâmetros de alíquota e dedução/redução caso seja criado abaixo 
de algum subitem da lista de serviços nacional padrão do sistema. Ao acionar o comando para 
listar as pendências o sistema exibe uma lista de itens que faltam alguma parametrização. 


 


O cadastro nacional de contribuintes NFS-e é uma base de dados nacional de contribuintes do 
ISSQN, composta pela reunião das bases de dados de contribuintes de cada município, que seja 
conveniado ao Sistema Nacional NFS-e e opte por utilizar seu próprio cadastro no SN NFS-e. O 
município pode optar ainda por utilizar as informações de seus contribuintes que estiverem nos 
cadastros da RFB (CNPJ/CPF). Cada município que se convenia ao sistema nacional deve optar 
pela utilização do CNC NFS-e ou os cadastros RFB (CNP/CPF). Caso opte pelo uso do CNC NFS-
e, o município deve registrar seus contribuintes e realizar o gerenciamento dos mesmos no CNC 
NFS-e. Se optar pela utilização das informações dos cadastros RFB (CNPJ / CPF), os contribuintes 
que estiverem com endereço do estabelecimento ou domicílio registrado no seu município serão 
considerados seus contribuintes pelo SN NFS-e. Os efeitos dessa escolha indicam ao sistema 
que, aqueles CNPJ e CPF que possuírem endereços de estabelecimento e domicílio, 
respectivamente, no município em questão, poderão enviar DPS para emitir NFS-e tendo este 
município como município emissor da NFS-e. 

 

O sistema nacional permite que a administração tributária municipal gerencie seus contribuintes 
no CNC por duas funcionalidades: 

• Gerenciar CNC NFS-do Município por Contribuinte e 
• Gerenciamento Upload de Arquivo com Um ou Mais Contribuintes Municipais. 


 

Através destas duas funcionalidades os municípios definem, via web, seu CNC NFS-e no painel 
municipal. 

 

a. Cadastrar Contribuinte Local 


A inclusão é realizada pela inserção de um CPF ou CNPJ no campo indicado que realiza a busca 
pelo registro no cadastro CPF ou CNPJ, recuperando o nome da pessoa física ou a razão social, 
respectivamente. O CEP recupera na tabela TOM as informações de logradouro, município e 
bairro. As demais informações são preenchidas pelo cadastrador. 

Com relação aos Regimes Especiais de Tributação, estarão disponíveis para inclusão ao 
contribuinte, apenas aqueles já parametrizados no momento da adesão. 

 


Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


CPF/CNPJ 


CPF/CNPJ do contribuinte 
para inclusão 


Numérico 


Incluir 


Recuperar no Cadastro CPF 
ou CNPJ o Nome ou Razão 
Social do NI informado 


Nome/Razão Social 


Nome/Razão Social 
conforme cadastro 
CPF/CNPJ 


Texto 


Exibir 


- 


Inscrição Municipal 


Número da inscrição 
municipal do contribuinte 


Numérico 


Incluir 


Incluir a Inscrição Municipal 
informada 


Data Inscrição 
Municipal 


Data de inscrição como 
contribuinte no município 


Data 


Incluir 


Incluir a Data da inscrição 
Municipal informada 


CEP 


Número do CEP 


Número 


Incluir 


Recuperar as informações 
de logradouro recuperadas 
na tabela TOM com o CEP 
informado 


Município 


Nome do município ao 
qual pertence o 
contribuinte 


Texto 


Exibir 


- 


Logradouro 


Nome do logradouro 


Texto 


Exibir 


- 


Bairro 


Nome do bairro 


Texto 


Exibir 


- 




 



Número 


Número do logradouro 


Texto 


Incluir 


Incluir o número do 
logradouro informado 


Complemento 


Complemento do 
logradouro 


Texto 


Incluir 


Incluir o complemento do 
logradouro informado 


Telefone 


Número do telefone 
cadastrado como contato 
no município 


Numérico 


Incluir 


Incluir o número do telefone 
do contato 


E-mail 


Endereço do e-mail 
cadastrado como contato 
no município 


Endereço de 
e-mail 


Incluir 


Incluir o endereço de e-mail 
do contato 


Status para emissão 
de NFS-e 


Indica se o contribuinte 
está habilitado ou não a 
emitir NFS-e 


Combo 


Incluir 


Incluir o status para 
emissão de NFS-e 


Situação 


Situação cadastral do 
contribuinte. 


Texto 


Incluir 


Incluir a situação cadastral 
do contribuinte 


Motivo da situação 


Motivo da situação 
cadastral do contribuinte 


Texto 


Incluir 


Incluir o motivo da situação 
cadastral do contribuinte 


Salvar 


Salvar as informações do 
contribuinte cadastrado 


Botão 


Incluir 


Efetivar a inclusão do 
contribuinte 


Cancelar 


Cancelar o processo de 
cadastramento do 
contribuinte 


Botão 


Desfazer 


Desfazer o processo de 
cadastramento do 
contribuinte 




 

b. Editar Informações do Contribuinte 


Altera as informações possíveis conforme tela abaixo. As informações alteradas são registradas 
em uma tabela de Histórico. 

 

Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


CPF/CNPJ 


CPF/CNPJ do contribuinte 
para inclusão 


Numérico 


Exibir 


- 


Nome/Razão Social 


Nome/Razão Social 
conforme cadastro 
CPF/CNPJ 


Texto 


Exibir 


- 


Inscrição Municipal 


Número da inscrição 
municipal do contribuinte 


Numérico 


Alterar 


Alterar a Inscrição 
Municipal 


Data Inscrição 
Municipal 


Data de inscrição como 
contribuinte no município 


Data 


Alterar 


Alterar a Data da inscrição 
Municipal 


CEP 


Número do CEP 


Número 


Alterar 


Recuperar para alteração 
as informações de 
logradouro recuperadas 
na tabela TOM com o CEP 
informado 


Município 


Nome do município ao 
qual pertence o 
contribuinte 


Texto 


Exibir 


- 


Logradouro 


Nome do logradouro 


Texto 


Exibir 


- 


Bairro 


Nome do bairro 


Texto 


Exibir 


- 


Número 


Número do logradouro 


Texto 


Alterar 


Alterar o número do 
logradouro 


Complemento 


Complemento do 
logradouro 


Texto 


Alterar 


Alterar o complemento do 
logradouro 


Telefone 


Número do telefone 
cadastrado como contato 
no município 


Numérico 


Alterar 


Alterar o número do 
telefone do contato 


E-mail 


Endereço do e-mail 
cadastrado como contato 
no município 


Endereço de 
e-mail 


Alterar 


Alterar o endereço de e-
mail do contato 


Situação 


Situação cadastral do 
contribuinte. 


Texto 


Alterar 


Alterar a situação 
cadastral do contribuinte 


Motivo da situação 


Motivo da situação 
cadastral do contribuinte 


Texto 


Alterar 


Alterar o motivo da 
situação cadastral do 
contribuinte 


Status para emissão 
de NFS-e 


Indica se o contribuinte 
está habilitado ou não a 
emitir NFS-e 


Combo 


Alterar 


Alterar o status para 
emissão de NFS-e 


Salvar 


Salvar alterações das 
informações do 
contribuinte cadastrado 


Botão 


Alterar 


Efetivar a alteração do 
contribuinte 




 



Ver Histórico 


Visualizar alterações no 
cadastro do contribuinte 


Botão 


Exibir 


Exibe o histórico de 
alterações do cadastro do 
contribuinte 


Cancelar 


Cancelar o processo de 
alteração do cadastro do 
contribuinte 


Botão 


Desfazer 


Desfazer o processo de 
alteração do cadastro do 
contribuinte 




 


c. Visualizar Histórico de Alterações de Informações do Contribuinte 


Para o contribuinte selecionado será apresentado seu CPF/CNPJ e respectivo Nome/Razão Social 
e uma linha do tempo com as alterações efetuadas evidenciando: 

• O campo alterado 
• A informação anterior e a informação alterada (De “xxx” Para “YYY”) 
• Data da alteração 
• Usuário responsável pela alteração (CPF) 


 


d. Desabilitar Emissão de NFS-e 


Será apresentado texto informando que caso seja confirmada a solicitação, o contribuinte não 
poderá emitir mais NFS-e até que seja habilitado novamente pelo Gestor do município. 


 


e. Upload de Arquivo de Contribuintes do Município 


A funcionalidade permite em um único procedimento incluir as informações de um ou mais 
contribuintes. As regras gerais estão descritas na página da funcionalidade. 

 

1. O upload de arquivos é destinado para cadastramento de novos contribuintes no CNC. 
Caso o contribuinte informado no arquivo já exista na base do CNC ele será atualizado 
obedecendo a regra de limite de atualizações diárias que é de três atualizações. 
2. A extensão do arquivo obrigatoriamente deve ser .CSV. 
3. O arquivo deve conter um contribuinte por linha. 
4. Os campos que compõem cada linha devem ser separados por Pipe ( | ). 
5. O tamanho do arquivo deve ser de até 300 Kb (cerca de 2000 contribuintes). 
6. O resultado do processamento de um arquivo de upload fica disponível para consulta até 
sete dias após sua realização ou até que um novo upload seja realizado. 
7. Para informações detalhadas, consulte o leiaute nas opções abaixo. 


 

Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


Incluir Arquivo 


Inicia processo de 
validação e inclusão das 
informações dos 
contribuintes no CNC 


Botão 


Incluir 


Validar e incluir as 
informações dos 
contribuintes no CNC 


Selecionar arquivo 


Permite selecionar o 
endereço do arquivo para 
upload no computador do 
usuário 


Texto 


Selecionar 


Selecionar o arquivo para 
upload 


Leiaute 


Descreve todas as 
informações que deverão 
constar do arquivo 


Botão 


Exibir 


- 


Baixar arquivo 
exemplo 


Faz download de planilha 
com exemplo do arquivo 
de upload 


Botão 


Exibir 


- 




 

Formação da linha 

 

Cada linha do arquivo .csv deve conter exatamente 13 pipes ( | ), que é o caracter reservado 
da funcionalidade para separar os 13 campos possíveis para cada contribuinte (linha do arquivo). 
O primeiro campo possui apenas o pipe de separação com o segundo campo, conforme leiaute; 
O último campo possui apenas o pipe de separação com o décimo terceiro campo, conforme 
leiaute. 

 

Ex: 

CPF/CNPJ|InscriçãoMunicipal|DatadaInscriçãoMunicipal|CEP|Logradouro|Bairro|Número|Complemento|Telefone|E-mail|Situação|Motivo da Situação|Situação Emissão NFS-e| 

 


13.2.4.7. Definição de Regimes Especiais de Tributação 
13.2.4.8. Definição de Retenções de ISSQN 








Os campos não obrigatórios não precisam ser informados, mas o campo deve estar representado 
na linha com o conteúdo vazio; 

 


 Os Regimes Especiais de Tributação somente podem ser definidos após a definição da alíquota 
para um “desdobro” da lista. Assim como os outros parâmetros tratados até agora, exceto código 
de tributação municipal, a administração destes parâmetros é realizada nos desdobros dos 
subitens da lista de serviços nacional. 


Importante explicitar que, para os municípios com opção de utilização de informações cadastrais 
através da RFB, os regimes especiais de tributação serão definidos por subitens da lista de 
serviços no momento da parametrização da lista de serviços. 


Para os municípios com opção de cadastrar seus contribuintes pela funcionalidade CNC, os 
regimes especiais de tributação deverão ser parametrizados no momento da inclusão desse 
contribuinte. 


Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


Serviço(s) 
Selecionado(s) 


Serviço(s) para o qual(is) 
está sendo definido os 
Regimes Especiais de 
Tributação 


Texto 


Exibir 


- 


Nome 


Nome do Regime Especial de 
Tributação 


Ato Cooperado (Cooperativa); 
Estimativa; 


Microempresa Municipal; 


Notário ou Registrador; 


Profissional Autônomo; 


Sociedade de Profissionais; 


Texto 


Exibir 


- 


Opção de 
Admissão 


Combo para marcação da 
admissão ou não admissão do 
Regime Especial de 
Tributação 


Combo 


Incluir 


Efetivar a admissão ou não 
admissão do Regime 
especial de tributação 


Salvar 


Salvar informações de 
Regimes Especiais admitidos 
e não admitidos 


Botão 


Incluir 


Efetivar as informações de 
Regimes Especiais 
admitidos e não admitidos 


Cancelar 


Cancelar o processo de incluir 
informações de Regimes 
Especiais admitidos e não 
admitidos 


Botão 


Desfazer 


Desfazer o processo de 
inclusão de informações de 
Regimes Especiais 
admitidos e não admitidos 




 

Cada regra de parametrização de regimes especiais de tributação incluídas tem um identificador 
único. O identificador tem a seguinte regra de formação: 7 dígitos para o código do município, 
2 dígitos para o tipo de parâmetro e 5 dígitos sequenciais únicos por município/parâmetro; 


 

 

Os parâmetros para retenções definem critérios de quem e/ou para quais serviços o município 
de incidência do ISSQN define a ocorrência da retenção do tributo para recolhimento pelo 
tomador e/ou intermediário de serviços. 


O sistema nacional permite opcionalmente para o município duas possibilidades de 
parametrização de retenção do ISSQN: 


 


a) A primeira opção define as regras de retenção do município conforme os casos de 
retenção do Artigo 6º, §2º, II da LC 116/03; 


 


b) A segunda opção permite ao município definir suas próprias regras de retenção, 
realizando as parametrizações conforme os casos de retenção que estiverem descritos 
em sua própria legislação municipal, observando que, o sistema não abrange todos os 
possíveis itens que foram adotados especificamente por alguns municípios para definir os 



casos de retenção, que estão descritos nas diversas legislações municipais dos municípios 
do país (como área de terreno e valor por exemplo). O sistema nacional abrange aqueles 
itens que são utilizados mais comumente nas legislações municipais para configurar os 
casos de retenção (subitens da lista de serviço, tomador/intermediário, localidade do 
prestador de serviço). 


 


É obrigatório fazer a parametrização da retenção, sendo que o município pode realizar a 
parametrização dos dois modos de retenção combinados. Enquanto a retenção definida no Artigo 
6º, §2º, II da LC 116/03 estiver vigente, a retenção combinada proveniente de uma legislação 
municipal pode também estar vigente, desde que não seja conflitante com as situações de 
retenção da LC 116/03. 


O inverso também é válido. Um município pode realizar primeiramente a parametrização de 
retenções previstas na sua legislação municipal. Caso queira realizar os casos de retenção 
previstos da LC 116/03, não poderá conflitar com os casos já parametrizados e vigentes de sua 
legislação local. 


Para realizar a alteração entre uma e outra ou as duas combinadas, deve encerrar a vigência 
dos casos que sejam conflitantes daquela parametrização que estiver vigente primeiro, para em 
seguida iniciar a vigência da outra. 


Lembrando que, a opção de parametrização do Artigo 6º, §2º, II da LC 116/03 só pode ser 
realizado integralmente. Caso o município tenha somente algumas situações idênticas ao Artigo 
6º, §2º, II da LC 116/03, previstas em sua legislação local, deve optar pela parametrização caso 
a caso refletindo a sua legislação local. 


 


Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


Descrição 


Descrição da retenção 
municipal. (Informação 
obrigatória) 


Texto 


Incluir 


Incluir a descrição da 
retenção municipal 


Legislação 


Legislação municipal 
relacionada a retenção. 
(Informação obrigatória) 


Combo 


Selecionar 


Incluir a legislação 
relacionada a retenção 


Início da vigência 


Data de início da vigência da 
legislação referenciada. 


Data 


Exibir 


- 


Final da vigência 


Data do final da vigência da 
legislação referenciada 


Data 


Exibir 


- 


Vigência da 
retenção municipal 


Data de início da vigência da 
retenção. (Informação 
obrigatória) 


Data 


Incluir 


Incluir a data de vigência 
da retenção definida 


Responsável (eis) 
pela retenção do 
ISSQN 


Determinar o responsável pela 
retenção do ISSQN. (Tomador 
ou Intermediário). (Informação 
obrigatória) 


Checkbox 


Incluir 


Incluir o responsável pela 
retenção do ISSQN 




 


Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


Incluir 


Botão para inclusão de serviço-
vinculado a retenção definida 


Botão 


Incluir 


Apresenta tela para 
inclusão de serviços a ser 
vinculado a retenção 
definida 


Reiniciar 


Botão para reiniciar a tela 


Botão 


Reiniciar 


Retorna a tela ao início 


Texto 


Texto para pesquisa 


Texto 


Refinar pesquisa 


Receber texto a ser 
pesquisado 


Pesquisar 


Pesquisa por código do serviço 
ou nome do serviço 


Botão 


Pesquisar 


Recuperar as informações 
para a pesquisa solicitada 




 


Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


Incluir 


Botão para inclusão de 
responsável pela retenção 
definida 


Botão 


Incluir 


Apresenta tela para 
inclusão de responsável 
pela retenção definida 


Reiniciar 


Botão para reiniciar a tela 


Botão 


Reiniciar 


Retorna a tela ao início 


Texto 


Texto para pesquisa 


Texto 


Refinar pesquisa 


Receber texto a ser 
pesquisado 


Pesquisar 


Pesquisa por CPF ou CNPJ 


Botão 


Pesquisar 


Recuperar as informações 
para a pesquisa solicitada 





13.2.4.9. Definição de Benefícios Municipais 
1.1. 





Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


Salvar 


Salvar informações de retenção 
de ISSQN 


Botão 


Incluir 


Efetivar a inclusão das 
informações para 
retenção do ISSQN 


Cancelar 


Cancelar o processo de 
inclusão de retenção do ISSQN 


Botão 


Desfazer 


Desfazer o processo de 
inclusão das informações 
para retenção do ISSQN 




 


Cada regra de parametrização de retenções incluídas tem um identificador único. O identificador 
tem a seguinte regra de formação: 7 dígitos para o código do município, 2 dígitos para o tipo de 
parâmetro e 5 dígitos sequenciais únicos por município/parâmetro; 


 


 


Não existem parametrizações obrigatórias para Outros Benefícios. Este item de parametrização 
é opcional para os municípios. 


 


Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


Novo Benefício 


Botão para inclusão de novo 
benefício 


Botão 


Incluir 


Apresenta tela para 
inclusão de um novo 
benefício 


Reiniciar 


Botão para reiniciar a tela 


Botão 


Reiniciar 


Retorna a tela ao início 


Texto 


Texto para pesquisa 


Texto 


Refinar pesquisa 


Receber texto a ser 
pesquisado 


Pesquisar 


Pesquisa pela descrição do 
benefício 


Botão 


Pesquisar 


Recuperar as informações 
para a pesquisa solicitada 




 


Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


Descrição 


Descrição do benefício da 
retenção municipal. 
(Informação obrigatória) 


Texto 


Incluir 


Incluir a descrição do 
benefício da retenção 
municipal 


Legislação 


Legislação municipal 
relacionada ao benefício da 
retenção. (Informação 
obrigatória) 


Combo 


Selecionar 


Incluir a legislação 
relacionada ao benefício da 
retenção 


Início da vigência 


Data de início da vigência da 
legislação referenciada. 


Data 


Exibir 


- 


Final da vigência 


Data do final da vigência da 
legislação referenciada 


Data 


Exibir 


- 


Vigência da 
retenção 
municipal 


Data de início da vigência do 
benefício da retenção. 
(Informação obrigatória) 


Data 


Incluir 


Incluir a data de vigência 
do benefício da retenção 
definida 


Tipo do Benefício 


Definir qual benefício será 
permitido 


 


 


Checkbox 


Incluir 


Incluir o tipo de benefício 
da retenção 


2. ISSQN; 
3. Redução da base de 
cálculo 
3.1. Redução por valor 
percentual 
3.2. Redução por valor 
monetário 



4. Alíquota diferenciada 
4.1. Informar alíquota 
entre 2% e 5% 



5. Redução da base de 
cálculo MAN 
5.1. Redução por valor 
percentual 





Redução por valor 
monetário 




 


 



13.2.4.10. “Ativação” do Município no Sistema Nacional NFS
-
e 










Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


Incluir 


Botão para inclusão de serviço-
vinculado ao benefício definido 


Botão 


Incluir 


Apresenta tela para 
inclusão de serviço a ser 
vinculado ao benefício 
definido 


Reiniciar 


Botão para reiniciar a tela 


Botão 


Reiniciar 


Retorna a tela ao início 


Texto 


Texto para pesquisa 


Texto 


Refinar pesquisa 


Receber texto a ser 
pesquisado 


Pesquisar 


Pesquisa por código do serviço 
ou nome do serviço 


Botão 


Pesquisar 


Recuperar as informações 
para a pesquisa solicitada 


Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


Incluir 


Botão para inclusão de 
beneficiário 


Botão 


Incluir 


Apresenta tela para 
inclusão do beneficiário-
específico 


Reiniciar 


Botão para reiniciar a tela 


Botão 


Reiniciar 


Retorna a tela ao início 


Texto 


Texto para pesquisa 


Texto 


Refinar pesquisa 


Receber texto a ser 
pesquisado 


Pesquisar 


Pesquisa CNPJ ou CPF. 


 


Botão 


Pesquisar 


Recuperar as informações 
para a pesquisa solicitada 


A pesquisa será feita no 
CNC do município ou nos 
cadastros CPF/CNPJ da RFB 
de acordo com opção 
informada no cadastro do 
município. 




 


Cada regra de parametrização de benefícios incluídas tem um identificador único. O identificador 
tem a seguinte regra de formação: 7 dígitos para o código do município, 2 dígitos para o tipo de 
parâmetro e 5 dígitos sequenciais únicos por município/parâmetro; 


 


 


Concluída todas as parametrizações obrigatórias que o município deve realizar antes que possa 
estar plenamente ativo no Sistema Nacional NFS-e, o sistema disponibiliza o comando para que 
o gestor municipal possa acionar e ativar o município no sistema nacional, ou seja, a partir desta 
ativação, a emissão de qualquer NFS-e, emitida através dos emissores públicos nacionais, que 
necessite de alguma informação que seja parametrizável pelo município, poderá ser validada 
com esta informação parametrizada no município ativado. Os contribuintes do município ativado 
no sistema nacional, se emitirem NFS-e utilizando os emissores públicos nacionais terão 
otimizados os preenchimentos e cálculos dos valores, além de maior controle nas informações 
prestadas pois o sistema está automatizado para otimizar o preenchimento da declaração de 
prestação de serviço e emissão da NFS-e com maior precisão, já que as informações preenchidas 
são validadas com as parametrizações. 


 


 


 



13.2.5. Segunda Etapa 
– 
Alteração das Parametrizações Municipais Após Ativação 
13.2.5.1. Painel Principal 













 


Após a ativação do município no sistema nacional, o painel principal começa a destacar a tela 
inicial para todo acesso da gestão municipal. O painel principal do Painel Administrativo Municipal 
consiste em diversas consultas estatísticas, independentes, realizadas na base de informações 
do módulo Explorador de Dados NFS-e. Estas informações estatísticas são apresentadas no 
painel principal do Painel Administrativo Municipal através de gráficos em pequenos 
“dashboards” e por informações totalizadas. 

 

Dados do Município 

• Nome 
• Situação do Convênio 
• Início da Vigência 
• Botão para editar os dados 


Informações totalizadas: 

• Total de NFS-E Emitidas 
• Quantidade de NFS-e nas Últimas 24H 
• Número Total de Contribuintes 


Pendências; 

Gráficos estatísticos em dashboards: 

• NFS-e por dia da semana 
• NFS-e por horário 
• NFS-e nas últimas 24 horas 
13.2.5.2. Alteração da Legislação ISSQN 





 

 

a. Consultar Legislação 


Exibe uma tabela paginada com a relação de todos os gestores já cadastrados com opção para 
incluir um novo gestor, pesquisar gestor pelo nome ou pelo CPF, conforme campos abaixo: 

 

Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


Novo Gestor 


Botão para inclusão 
de novo Gestor 
Nacional 


Botão 


Incluir 


Apresenta tela para inclusão de 
um gestor 


Reiniciar 


Botão para reiniciar a 
tela 


Botão 


Reiniciar 


Retorna a tela ao início 


Texto 


Texto para pesquisa 


Texto 


Refinar pesquisa 


Receber texto a ser pesquisado 


Pesquisar 


Pesquisa por nome ou 
CPF (Se a consulta for 
por CPF informar 
apenas os números.) 


Botão 


Pesquisar 


Recuperar os dados para o CPF 
ou Nome informado 


CPF 


Número do CPF do 
Gestor 


Texto 


Exibir 


- 


Nome 


Nome do Gestor 


Texto 


Exibir 


- 


Perfil 


Nome do perfil do 
Gestor na aplicação 


Texto 


Exibir 


- 


Situação 


Situação do Gestor na 
aplicação 


Texto 


Exibir 


- 


Atualização 


Data da última 
atualização das 
informações do 
Gestor 


Data 


Exibir 


- 


Ações no registro 


Alterar situação atual 
do gestor no cadastro 


 


Botão 


Alterar 


Direcionar para efetuar a ação 
selecionada: 


• Ativo 
o Editar 
o Inativar 



• Inativo 
o Editar 





Ativar 




 



b. Incluir Legislação 


Será apresentado um campo para inserção de um CPF. A ação de pesquisa busca pelo CPF 
informado no cadastro de pessoas físicas da RFB, recuperando o nome da pessoa. As demais 
informações são preenchidas pelo cadastrador. Um mesmo gestor municipal pode ser vinculado 
a mais de um município, desde que seu cadastro esteja ativo em apenas um município por vez 
em um mesmo período de tempo. 

 

Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


CPF 


CPF do gestor a ser 
pesquisado 


Numérico 


Pesquisar 


Pesquisar nome relacionado 
ao CPF informado 


Nome do gestor 


Nome do gestor 
recuperado no cadastro 
CPF 


Texto 


Exibir 


- 


Tipo Gestor 


Permite definir o tipo do 
gestor a ser incluído 


• Principal; 
• Auditor; 
• Parametrizador; 
• Atendente; 


Combo 


Selecionar 


Incluir o tipo do gestor 
selecionado 


Telefone 


Número de telefone de 
contato do gestor 


Numérico 


Incluir 


Incluir número do telefone 
de contato do gestor 


E-mail 


Endereço eletrônico do 
gestor 


Endereço 
de e-mail 


Incluir 


Incluir o endereço eletrônico 
do gestor 


Cadastrar 


Cadastrar informações do 
gestor 


Botão 


Incluir 


Efetivar a inclusão do gestor 


Cancelar 


Cancelar o processo de 
cadastramento do gestor 


Botão 


Desfazer 


Desfazer o processo de 
cadastramento do gestor 




 

c. Alterar Informações da Legislação 


Altera as informações possíveis relativas ao gestor municipal selecionado. As informações 
alteradas são registradas em uma tabela de Histórico. 


 


Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


CPF 


CPF do gestor selecionado 


Numérico 


Exibir 


- 


Nome do gestor 


Nome do gestor 
recuperado no cadastro 
CPF 


Texto 


Exibir 


- 


Tipo Gestor 


Permite alterar o tipo do 
gestor 


• Principal; 
• Auditor; 
• Parametrizador; 
• Atendente; 


Combo 


Selecionar 


Alterar o tipo do gestor 


Telefone 


Número de telefone de 
contato do gestor 


Numérico 


Alterar 


Alterar número do 
telefone de contato do 
gestor 


E-mail 


Endereço eletrônico do 
gestor 


Endereço 
de e-mail 


Alterar 


Alterar o endereço 
eletrônico do gestor 


Situação Atual 


Situação do cadastro do 
gestor (Ativo/Inativo) 


Texto 


Exibir 


- 


Última Atualização 


Data da última atualização 


Data 


Exibir 


- 


Salvar 


Salvar as alterações das 
informações do gestor 


Botão 


Alterar 


Efetivar as alterações das 
informações do gestor 


Cancelar 


Cancelar o processo de 
alteração das informações 
do gestor 


Botão 


Desfazer 


Desfazer o processo de 
cadastramento do gestor 




 


d. Encerrar vigência da Legislação 


Para ativar ou inativar será apresentada tela de confirmação (SIM ou NÃO) para o Gestor 
selecionado. 


 

 

 

 



13.2.5.3. Alteração dos Parâmetros da Lista de Serviços 





Uma vez ativado o convênio do município o sistema passa a controlar as parametrizações 
obrigatórias para que não haja inconsistências, ou seja, não deve haver nos itens de 
parametrização obrigatória do município inconsistências e inexistência de parâmetros. Para 
qualquer alteração de parâmetros deve haver uma “data fim de vigência” daquele parâmetro. O 
sistema mantém o histórico de todas as parametrizações realizadas por todos os municípios 
desde o momento da ativação do convênio. 


 


O gerenciamento das parametrizações após a ativação do convênio é realizado da mesma forma 
que foram explicadas até agora. O que muda no comportamento do sistema é que, uma vez 
ativado o convênio, para alterarmos qualquer parâmetro, o sistema exige o novo valor do 
parâmetro, a informação de uma data início de vigência para o novo valor do parâmetro, o 
motivo da alteração e a legislação que embasa a alteração realizada. O motivo e a legislação são 
itens obrigatórios de preenchimento como forma de registro para auditoria futura que venha a 
ser necessária. Para facilitar o preenchimento das informações acerca da legislação que é 
solicitada em cada alteração, foi criado um cadastro de legislações onde o município pode 
cadastrar seu conjunto de ordenamentos legislativos. No momento da alteração do parâmetro e 
preenchimento da informação acerca da legislação, ele pode simplesmente escolher dentre as 
legislações previamente cadastradas aquela que está relacionada à alteração realizada. Caso 
não tenha a legislação correta no momento da alteração, o sistema permite que seja cadastrada 
a legislação antes que se conclua a alteração do parâmetro, sem que para isso o gestor saia da 
tela ou perca informações que já foram preenchidas para a alteração do parâmetro. 


 


Para parâmetros obrigatórios a alteração do parâmetro representa o fim da vigência do valor 
para aquele parâmetro na data imediatamente anterior à data de início do novo valor do 
parâmetro que se está alterando. Sempre a data de início de vigência do novo valor do parâmetro 
que se está alterando é futura, do dia seguinte à data atual em diante. Assim o sistema sempre 
inicia uma nova vigência de valores de parâmetros à 00:00 hr da data programada e encerra a 
vigência do valor do parâmetro que se está alterando às 23:59:59 hr do dia anterior à data 
programada o início de vigência do novo valor do parâmetro. 


Dessa forma o sistema garante que, para os parâmetros obrigatórios sempre haverá valores de 
parâmetros que garantam as validações realizadas sobre a DPS enviada pelos emitentes à Sefin 
Nacional pelos Emissores Públicos Nacionais Web e Móvel e pelas aplicações próprias dos 
contribuintes para as APIs da Sefin Nacional. 


 


Para todos os desdobros da lista de serviço nacional ou código de tributação municipal que forem 
administrados pelos municípios, são obrigatórias informações sobre alíquota do serviço, regimes 
especiais de tributação admitidos, verificados ou não verificados e tipos de dedução/redução 
aceitos, valor informado, percentual informado e documentos. 


 


Os outros parâmetros obrigatórios são relativos a: Configurações Municipais, Evento 
Cancelamento de NFS-e e Evento Cancelamento por Substituição de NFS-e e Retenções. 


 


Os parâmetros relativos a Benefícios Municipais não são obrigatórios pois um município pode 
não ter nenhum tipo de benefício municipal, portanto são opcionais. 


 


a. Alteração Alíquota 


Os campos envolvidos na alteração da alíquota são: 

 

Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


Item da Lei 116 
selecionado 


Nome do serviço selecionado 
para alteração da alíquota 


Texto 


Exibir 


- 


Alíquota 


Alíquota que passará a vigorar 


Percentual 


Alterar 


Alterar a alíquota vigente 


Início da vigência 


Data de início da vigência para 
a nova alíquota informada. 


Data 


Alterar 


Alterar a data da vigência 


Salvar 


Salvar as informações de 
alíquota e vigência alteradas 


Botão 


Alterar 


Efetivar as alterações de 
alíquotas e vigência 


Cancelar 


Cancelar as informações de 
alterações de alíquota 


Botão 


Desfazer 


Desfazer as informações de 
alterações de alíquota e 
vigência 





b. Encerramento de Vigência da Alíquota 


Vamos fazer a convenção abaixo para melhor entendimento: 


 


AA – item Pai 


AA.BB – subitem 


AA.BB.CC – desdobro nacional 


AA.BB.CC.DDD – Código Tributário Municipal 


 


Devemos atentar que para todo item Pai, subitem, desdobro nacional existente na lista de 
serviços, é obrigatório a existência de uma alíquota vigente. Portanto ao alterar uma alíquota a 
mesma estará em vigor a partir da nova data informada. A alíquota anterior terá como data de 
encerramento da vigência a nova data informada decrescida de um dia. 


 


A exceção se dá para os Códigos Tributários Nacionais que porventura tenham sido criados pelo 
Gerente Municipal e podem ter sua vigência encerrada a critério do Município. Os Códigos 
Tributários Municipais com vigência encerrada não poderão mais ser objeto de geração de uma 
nota fiscal. 


 


O encerramento de vigência de alíquota poderá se dar pelo processo de Generalização ou 
Especialização. 


 


Na Generalização a alteração da alíquota/vigência é feita através do item Pai ou subitem 
nacional: 


 


• A alteração irá expandir para todos os subitens, desdobros nacionais e códigos tributários 
municipais criados. Essa alteração só será possível se a nova data de vigência for maior 
que a data de vigência de todos os subitens/desdobros nacionais/códigos tributários 
municipais. 


Na Especialização a alteração/encerramento é feita através do Código Tributário Municipal e o 
efeito será apenas nesse código. 


 


Seja qual for o processo de alteração/encerramento, o gestor municipal deve excluir do serviço 
administrado qualquer parametrização de benefícios e/ou retenções. Para admitir um 
encerramento, o sistema realiza a rastreabilidade de cada serviço administrado pelo município, 
benefícios municipais ou retenções, para garantir que a alteração/encerramento não gere 
inconsistências. 


 


Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


Serviço 


Nome do serviço selecionado 
para encerramento da alíquota 


Texto 


Exibir 


- 


Alíquota 


Alíquota que passará a vigorar 


Percentual 


Exibir 


- 


Fim da vigência 


Data de final da vigência para 
a alíquota. 


Data 


Incluir 


Incluir a data final da 
vigência da alíquota 


Motivo do 
encerramento 


Motivo para o encerramento 
da alíquota 


Texto 


Incluir 


Incluir o motivo para o 
encerramento da vigência 
da alíquota 


Salvar 


Salvar as informações de 
encerramento da alíquota 


Botão 


Incluir 


Efetivar o encerramento da 
vigência da alíquota 


Cancelar 


Cancelar as informações de 
encerramento da alíquota 


Botão 


Desfazer 


Desfazer as informações de 
encerramento da alíquota 




 

 



c. Alteração Dedução/Redução 


Os campos envolvidos na alteração da Dedução/Redução são: 

 

Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


Serviço(s) 
Selecionado(s) 


Serviço(s) para o qual(is) 
está(ão) sendo definida(s) a(s) 
redução(ões) 


Texto 


Exibir 


- 


O(s) serviço(s) 
selecionado(s) 
permitem 
redução da base 
de cálculo do 
ISSQN? 


Pergunta para definir se haverá 
possibilidade de redução da 
base de cálculo do ISSQN. 


Texto 


Exibir 


- 


Sim / Não 


Resposta Sim e Não disponíveis 
para marcação 


Combo 


Definir 


Resposta Sim – abre 
opções de tipos de redução 
de base de cálculo 


Selecionar Tipos 
de Redução 


Combo com tipos de redução 
de base de cálculos permitidas 


Combo 


Incluir 


Incluir o(s) tipo(s) de 
redução marcada(s) 


Salvar 


Salvar informações de redução 
de base de cálculo 


Botão 


Incluir 


Efetivar a inclusão de tipos 
de redução de base de 
cálculo 


Cancelar 


Cancelar o processo de 
inclusão de redução 


Botão 


Desfazer 


Desfazer o processo de 
inclusão de tipos de 
redução de base de cálculo 




 

d. Alteração Regime Especial de Tributação 
13.2.5.4. Encerrar Vigência da Retenção 





Os campos envolvidos na alteração do Regime Especial de Tributação são: 

 

Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


Serviço(s) 
Selecionado(s) 


Serviço(s) para o qual(is) 
está(ão) sendo alterado(s) os 
parâmetros de Regime 
Especial de Tributação 


Texto 


Exibir 


- 


Regime Especial 


Combo com os tipos de 
Regime Especial de 
Tributação existentes 


Combo 


Alterar 


Selecionar o tipo de Regime 
Especial de Tributação que 
será alterado 


Nova Situação 


Combo com os tipos de 
situação existentes 


Combo 


Alterar 


Selecionar a nova situação 


Início da Vigência 


Início da vigência para as 
alterações efetuadas 


Data 


Alterar 


Alterar a data de início da 
vigência para as alterações 
efetuadas 


Motivo da 
alteração 


Motivo que pelo qual a 
alteração está ocorrendo 


Texto 


Alterar 


Alterar o texto do motivo 
da alteração 


Salvar 


Salvar as alterações de 
parâmetros de Regime 
Especial de Tributação 


Botão 


Alterar 


Efetivar as alterações de 
parâmetros de Regime 
Especial de Tributação 


Cancelar 


Cancelar o processo de 
alterar parâmetros de Regime 
Especial de Tributação 


Botão 


Desfazer 


Desfazer o processo de 
alterações de parâmetros 
de Regime Especial de 
Tributação 




 


Os campos envolvidos no encerramento da vigência da retenção são: 

 


Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


Início da vigência 


Início da vigência da retenção 


Data 


Exibir 


- 


Fim da vigência 


Data de final da vigência da 
retenção. 


Data 


Incluir 


Incluir a data final da 
vigência da retenção 


Motivo da 
alteração 


Motivo para o encerramento da 
retenção 


Texto 


Incluir 


Incluir o motivo para o 
encerramento da retenção 


Confirmar 


Confirmar as informações de 
encerramento da retenção 


Botão 


Incluir 


Efetivar o encerramento da 
retenção 


Cancelar 


Cancelar as informações de 
encerramento da retenção 


Botão 


Desfazer 


Desfazer as informações de 
encerramento da retenção 




 


 



13.2.5.5. Encerrar Vigência de Benefícios Munic
i
pais 
13.2.6. Verificar Pendências 
13.2.7. Cadastro de Gestores Municipais 








Os campos envolvidos no encerramento da vigência do benefício municipal são: 

 


Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


Início da vigência 


Início da vigência do benefício 


Data 


Exibir 


- 


Fim da vigência 


Data de final da vigência do 
benefício 


Data 


Incluir 


Incluir a data final da 
vigência do benefício 


Motivo da 
alteração 


Motivo para o encerramento do 
benefício 


Texto 


Incluir 


Incluir o motivo para o 
encerramento do benefício 


Confirmar 


Confirmar as informações de 
encerramento da retenção 


Botão 


Incluir 


Efetivar o encerramento do 
benefício 


Cancelar 


Cancelar as informações de 
encerramento do benefício 


Botão 


Desfazer 


Desfazer as informações de 
encerramento do benefício 




 


Esta funcionalidade exibe para o gestor municipal uma lista de Eventos de Solicitação de 
Cancelamento de NFS-e por Análise Fiscal emitidos por seus contribuintes que precisam de 
serem analisados para que o fisco possa deferir ou indeferir o cancelamento de NFS-e solicitado. 

Não há possibilidade do fisco realizar os dois eventos para a mesma solicitação de cancelamento 
de uma NFS-e. 

A ação de deferir ou indeferir as solicitações gera, respectivamente, os eventos de Cancelamento 
de NFS-e Deferido por Análise Fiscal e o Cancelamento de NFS-e Indeferido por Análise Fiscal. 
Estas ações de deferimento ou indeferimento geram os respectivos arquivos XML, conforme 
leiaute definido no anexoII e, que serão processados, armazenados e vinculas à NFS-e 
correspondente. 

O gerenciamento dos perfis de acesso dos Gestores Municipais contempla as funcionalidades 
para cadastramento para o acesso ao Painel Administrativo Municipal. Todas as funcionalidades 
administrativas para os gestores municipais do município conveniado estão disponíveis no painel 
municipal. Segue abaixo a descrição deste gerenciamento. 

 

a. Perfis Gestores Municipais 


 


Existem três perfis de gestores no âmbito municipal definidos para o Sistema Nacional NFS-e: 


• Gestor Principal do Município; 
• Gestor Auditor Municipal; 
• Gestor Atendente Municipal; 


 


b. Cadastramento dos Gestores Municipais 


 


O Gestor Principal do município conveniado é cadastrado inicialmente pelo gerenciamento 
nacional quando o município se convenia e é cadastrado no Sistema Nacional NFS-e. Este perfil 
é único por município e obtido através de um cadastro já existente no Simples Nacional. 
Corresponde a figura de um agente ou administrador público tido como responsável nacional 
pelo município. 

 

O Gestor Auditor Municipal é cadastrado pelo Gestor Principal e por outros Gestores Auditores. 
Este perfil é múltiplo por município, mas uma vez cadastrado em um município não pode ter 
qualquer perfil gestor em outro município. 

Finalmente o Gestor Atendente Municipal é responsável pelo atendimento aos contribuintes do 
município conveniado ao Sistema Nacional NFS-e. Este perfil é cadastrado pelos outros dois 
perfis gestores do município. Este perfil também é múltiplo por município, e também uma vez 
cadastrado em um município não pode ter qualquer perfil gestor em outro município. 

 

 



c. Acesso à Área Restrita do Painel Administrativo Municipal (PAMunc) 


 


O acesso ao PAMunc ocorre somente via certificado digital pelos Gestores Principais e Auditores. 
Os Gestores Atendentes Municipais podem ter acesso via Usuário/Senha. 

 


d. Níveis de Acesso às Funcionalidades para Gestores Municipais 
13.2.8. Ca
dastro de Contribuintes Municipais (CNC NFS
-
e) 





 

Gestor Principal Municipal – O perfil deste gestor tem acesso e permissão para executar 
todas as funcionalidades disponíveis no Painel Administrativo Municipal, inclusive a 
funcionalidade de cadastramento dos demais perfis de gestores municipais além da sua própria 
substituição por outro Gestor Principal do Município. 

 

Gestor Auditor Municipal – O perfil deste gestor tem acesso e permissão para executar todas 
as funcionalidades disponíveis no Painel Administrativo Municipal, exceto substituir o Gestor 
Principal. 

 

Gestor Parametrizador Municipal – O perfil deste gestor tem acesso e permissão para 
executar todas as funcionalidades disponíveis no Painel Administrativo Municipal, exceto 
substituir o Gestor Principal. 

 


Gestor Atendente Municipal – O perfil deste gestor tem acesso e permissão para executar 
apenas as funcionalidades de gerenciamento do cadastro de contribuintes do município, 
disponíveis no Painel Administrativo Municipal, exceto substituir o Gestor Principal. 


 


 

a. Visão Geral 


A visão geral do CNC NFS-e traz informações consolidadas de todo cadastro. 

 

Informações totalizadas: 

• Número total de Contribuintes cadastrados 
• Número total de Contribuintes aptos para emitir NFS-e 
• Número total de Contribuintes bloqueados para emitir NFS-e 
• Número total de Contribuintes Pessoa Física 
• Número total de Contribuintes Pessoa Jurídica 


 

Gráficos estatísticos em dashboards: 

• Regimes Especiais de Tributação 
• Status para emissão de NFS-e 
• Últimos cadastramentos 
• Últimas atualizações 
• Consultar CNC NFS-e 


 

A consulta nacional do CNC NFS-e possui informações de todo cadastro e a pesquisa poderá ser 
feita pelo CNPJ/CPF, pelo Nome/Razão social ou parte dele, pelo número da Inscrição Municipal 
ou selecionando um município de interesse. Um município conveniado pode, portanto, visualizar 
as informações de contribuintes de outros municípios. 

 

Para cada registro encontrado é possível visualizar os detalhes das informações do contribuinte 
selecionado, bem como o histórico de alterações. 

 

Caso não sejam informados nenhum dos filtros de pesquisa o resultado será um grid com a 
relação de todos os contribuintes cadastrados no CNC ordenados primeiramente em ordem 
decrescente pela data da última atualização de seus dados. O grid permite também a ordenação 
pelo CPF/CNPJ, Nome/Razão Social, Emissão de NFS-e(habilitado/inabilitado). 

 


 

Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


CPF/CNPJ 


CPF ou CNPJ do 
contribuinte 


Numérico 


Pesquisar 


Identificar no CNC o CPF/CNPJ 
informado 


Nome/Razão 
Social 


Nome ou Razão Social 
do contribuinte 


Texto 


Pesquisar 


Identificar no CNC o 
Nome/Razão Social informado 


Inscrição 
Municipal 


Número da Inscrição 
Municipal 


Numérico 


Pesquisar 


Identificar no CNC o número da 
Inscrição Municipal informado 


Município/UF 


Nome do Município e 
Sigla da UF 


Combo 


Pesquisar 


Identificar no CNC o 
Município/UF informado 


Pesquisar 


Pesquisa por 
parâmetro(s) 
informado(s) 


Botão 


Pesquisar 


Recuperar as informações para 
parâmetro(s) informado(s) 


CPF/CNPJ 


CPF ou CNPJ do 
contribuinte 


Numérico 


Exibir 


- 


Nome/Razão 
Social 


Nome ou Razão Social 
do contribuinte 


Texto 


Exibir 


- 


Município/UF 


Nome do Município e 
Sigla da UF 


Texto 


Exibir 


- 


Emissão NFS-e 


Indica se o município 
está habilitado ou não 
a emitir uma NFS-e 


Ícone 


Exibir 


- 


Atualização 


Data da última 
atualização das 
informações do 
contribuinte 


Data 


Exibir 


- 


Ações no registro 


Consultar informações 
detalhe ou histórico de 
alterações de 
informações 


Botão 


Consultar 


Direcionar para efetuar a 
consulta selecionada 


• Detalhes 
• Histórico 




 

b. Exibir Informações do Contribuinte 


Ao solicitar detalhes sobre o contribuinte no grid será apresentada tela com as informações 
como segue abaixo: 

 

Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


CNPJ 


CNPJ do contribuinte 
selecionado 


Texto 


Exibir 


- 


Razão Social 


Razão Social conforme 
cadastro CNPJ 


Texto 


Exibir 


- 


Inscrição Municipal 


Número da inscrição 
municipal do contribuinte 


Numérico 


Exibir 


- 


Data Inscrição Municipal 


Data de inscrição como 
contribuinte no município 


Data 


Exibir 


- 


CEP 


Número do CEP 


Número 


Exibir 


- 


Município 


Nome do município ao 
qual pertence o 
contribuinte 


Texto 


Exibir 


- 


Logradouro 


Nome do logradouro 


Texto 


Exibir 


- 


Bairro 


Nome do bairro 


Texto 


Exibir 


- 


Número 


Número do logradouro 


Texto 


Exibir 


- 




 

c. Visualizar Histórico de Alterações de Informações do Contribuinte 


Para o contribuinte selecionado será apresentado seu CPF/CNPJ e respectivo Nome/Razão Social 
e uma linha do tempo com as alterações efetuadas evidenciando: 

• O campo alterado 
• A informação anterior e a informação alterada (De “xxx” Para “YYY”) 
• Data da alteração 
• Usuário responsável pela alteração (CPF) 


 

 



d. Contribuintes Locais 


Permite o gerenciamento das pessoas (físicas e jurídicas) que são contribuintes do ISSQN pelo 
município conveniado com o Sistema Nacional NFS-e. 

 

A funcionalidade tem opção para Incluir Novo Contribuinte, Pesquisar, Alterar e Excluir as 
informações de cada um dos registros do cadastro mantendo seu histórico de atividades no 
sistema. 

 

Para cada registro encontrado é possível visualizar os detalhes das informações do contribuinte 
cadastrado no município em questão, bem como o histórico de alterações destas informações. 

Segue abaixo as telas do gerenciamento do cadastro. 

 

Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


Novo 


Botão para inclusão de novo 
contribuinte 


Botão 


Incluir 


Apresenta tela para inclusão 
de um novo contribuinte 


Reiniciar 


Botão para reiniciar a tela 


Botão 


Reiniciar 


Retorna a tela ao início 


Texto 


Texto para pesquisa 


Texto 


Refinar pesquisa 


Receber texto a ser 
pesquisado 


Pesquisar 


Pesquisa pelo CPF/CNPJ, 
Nome/Razão Social, ou 
Inscrição Municipal 


Botão 


Pesquisar 


Recuperar as informações 
para a pesquisa solicitada 


Atualização 


Data da última atualização 
das informações do 
contribuinte 


Data 


Exibir 


- 


CPF/CNPJ 


CPF ou CNPJ do contribuinte 


Numérico 


Exibir 


- 


Inscrição Municipal 


Número da Inscrição 
Municipal 


Numérico 


Exibir 


- 


Nome/Razão 
Social 


Nome ou Razão Social do 
contribuinte 


Texto 


Exibir 


- 


Complemento 


Complemento do 
logradouro 


Texto 


Exibir 


- 


Telefone 


Número do telefone 
cadastrado como contato no 
município 


Numérico 


Exibir 


- 


E-mail 


Endereço do e-mail 
cadastrado como contato no 
município 


Endereço 
de e-mail 


Exibir 


- 


Situação 


 


 


Exibir 


- 


Motivo da Situação 


 


Texto 


Exibir 


- 


Status para 
emissão de NFS-e 


Indica se o contribuinte 
está habilitado ou não a 
emitir NFS-e 


Texto 


Exibir 


- 


Limpar Pesquisa 


Botão limpar pesquisa de 
Regimes Especiais de 
Tributação 


Botão 


Limpar 


Limpar o resultado da 
pesquisa 


Texto 


Texto para pesquisa 


Texto 


Refinar pesquisa 


Receber texto a ser 
pesquisado 


Pesquisar 


Pesquisa por 
código/descrição do Regime 
Especial de Tributação 


Botão 


Pesquisar 


Recuperar os dados para o 
código/descrição de Regime 
Especial Tributário informado 


Voltar 


Permite voltar a tela inicial 
de consulta ao CNC 


Botão 


Voltar 


Voltar a tela início de consulta 
ao CNC 


Nova Pesquisa 


PErmi 


 


 


 


Emissão NFS-e 


Informa se o contribuinte 
está habilitado ou não a 
emitir NFS-e 


Ícone 


Exibir 


- 


Ações no registro 


Editar/Consultar 
informações detalhe ou 
histórico de alterações de 
informações e desabilitar 
emissão de NFS-e 


Botão 


Gerenciar 


Direcionar para efetuar a 
opção selecionada 


• Edição/Detalhes 
• Histórico 


Desabilitar emissão de NFS-e 




 

 



e. Cadastrar Contribuinte Local 


A inclusão é realizada pela inserção de um CPF ou CNPJ no campo indicado que realiza a busca 
pelo registro no cadastro CPF ou CNPJ, recuperando o nome da pessoa física ou a razão social, 
respectivamente. O CEP recupera na tabela TOM as informações de logradouro, município e 
bairro. As demais informações são preenchidas pelo cadastrador. 

Com relação aos Regimes Especiais de Tributação, estarão disponíveis para inclusão ao 
contribuinte, apenas aqueles já parametrizados no momento da adesão. 

 


Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


CPF/CNPJ 


CPF/CNPJ do contribuinte 
para inclusão 


Numérico 


Incluir 


Recuperar no Cadastro CPF 
ou CNPJ o Nome ou Razão 
Social do NI informado 


Nome/Razão Social 


Nome/Razão Social 
conforme cadastro 
CPF/CNPJ 


Texto 


Exibir 


- 


Inscrição Municipal 


Número da inscrição 
municipal do contribuinte 


Numérico 


Incluir 


Incluir a Inscrição Municipal 
informada 


Data Inscrição 
Municipal 


Data de inscrição como 
contribuinte no município 


Data 


Incluir 


Incluir a Data da inscrição 
Municipal informada 


CEP 


Número do CEP 


Número 


Incluir 


Recuperar as informações 
de logradouro recuperadas 
na tabela TOM com o CEP 
informado 


Município 


Nome do município ao 
qual pertence o 
contribuinte 


Texto 


Exibir 


- 


Logradouro 


Nome do logradouro 


Texto 


Exibir 


- 


Bairro 


Nome do bairro 


Texto 


Exibir 


- 


Número 


Número do logradouro 


Texto 


Incluir 


Incluir o número do 
logradouro informado 


Complemento 


Complemento do 
logradouro 


Texto 


Incluir 


Incluir o complemento do 
logradouro informado 


Telefone 


Número do telefone 
cadastrado como contato 
no município 


Numérico 


Incluir 


Incluir o número do telefone 
do contato 


E-mail 


Endereço do e-mail 
cadastrado como contato 
no município 


Endereço de 
e-mail 


Incluir 


Incluir o endereço de e-mail 
do contato 


Status para emissão 
de NFS-e 


Indica se o contribuinte 
está habilitado ou não a 
emitir NFS-e 


Combo 


Incluir 


Incluir o status para 
emissão de NFS-e 


Situação Cadastral 


Situação cadastral do 
contribuinte. 


Texto 


Incluir 


Incluir a situação cadastral 
do contribuinte 


Motivo da situação 
cadastral 


Motivo da situação 
cadastral do contribuinte 


Texto 


Incluir 


Incluir o motivo da situação 
cadastral do contribuinte 


Incluir 


Botão para incluir Regime 
Especiais de Tributação 


Botão 


Incluir 


Apresenta tela para inclusão 
de Regimes Especiais de 
Tributação 


Reiniciar 


Botão para reiniciar a tela 


Botão 


Reiniciar 


Retorna a tela ao início 


Texto 


Texto para pesquisa 


Texto 


Refinar pesquisa 


Receber texto a ser 
pesquisado 


Pesquisar 


Pesquisa por código do 
serviço ou nome do 
serviço 


Botão 


Pesquisar 


Recuperar as informações 
para a pesquisa solicitada 


Salvar 


Salvar as informações do 
contribuinte cadastrado 


Botão 


Incluir 


Efetivar a inclusão do 
contribuinte 


Cancelar 


Cancelar o processo de 
cadastramento do 
contribuinte 


Botão 


Desfazer 


Desfazer o processo de 
cadastramento do 
contribuinte 




 

 



f. Editar Informações do Contribuinte 


Altera as informações possíveis conforme tela abaixo. As informações alteradas são registradas 
em uma tabela de Histórico. 

 

Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


CPF/CNPJ 


CPF/CNPJ do contribuinte 
para inclusão 


Numérico 


Exibir 


- 


Nome/Razão Social 


Nome/Razão Social 
conforme cadastro 
CPF/CNPJ 


Texto 


Exibir 


- 


Opção atual no 
Simples Nacional 


Informa se o contribuinte 
é optante pelo Simples 
Nacional 


Texto 


Exibir 


- 


Inscrição Municipal 


Número da inscrição 
municipal do contribuinte 


Numérico 


Alterar 


Alterar a Inscrição 
Municipal 


Data Inscrição 
Municipal 


Data de inscrição como 
contribuinte no município 


Data 


Alterar 


Alterar a Data da inscrição 
Municipal 


CEP 


Número do CEP 


Número 


Alterar 


Recuperar para alteração 
as informações de 
logradouro recuperadas 
na tabela TOM com o CEP 
informado 


Município 


Nome do município ao 
qual pertence o 
contribuinte 


Texto 


Exibir 


- 


Logradouro 


Nome do logradouro 


Texto 


Exibir 


- 


Bairro 


Nome do bairro 


Texto 


Exibir 


- 


Número 


Número do logradouro 


Texto 


Alterar 


Alterar o número do 
logradouro 


Complemento 


Complemento do 
logradouro 


Texto 


Alterar 


Alterar o complemento do 
logradouro 


Telefone 


Número do telefone 
cadastrado como contato 
no município 


Numérico 


Alterar 


Alterar o número do 
telefone do contato 


E-mail 


Endereço do e-mail 
cadastrado como contato 
no município 


Endereço de 
e-mail 


Alterar 


Alterar o endereço de e-
mail do contato 


Situação Cadastral 


Situação cadastral do 
contribuinte. 


Texto 


Alterar 


Alterar a situação 
cadastral do contribuinte 


Motivo da situação 
cadastral 


Motivo da situação 
cadastral do contribuinte 


Texto 


Alterar 


Alterar o motivo da 
situação cadastral do 
contribuinte 


Status para emissão 
de NFS-e 


Indica se o contribuinte 
está habilitado ou não a 
emitir NFS-e 


Combo 


Alterar 


Alterar o status para 
emissão de NFS-e 


Incluir 


Botão para incluir Regime 
Especiais de Tributação 


Botão 


Alterar 


Apresenta tela para 
alterar/incluir Regimes 
Especiais de Tributação 


Reiniciar 


Botão para reiniciar a tela 


Botão 


Reiniciar 


Retorna a tela ao início 


Texto 


Texto para pesquisa 


Texto 


Refinar pesquisa 


Receber texto a ser 
pesquisado 


Pesquisar 


Pesquisa por código do 
serviço ou nome do 
serviço 


Botão 


Pesquisar 


Recuperar as informações 
para a pesquisa solicitada 


Salvar 


Salvar alterações das 
informações do 
contribuinte cadastrado 


Botão 


Alterar 


Efetivar a alteração do 
contribuinte 


Cancelar 


Cancelar o processo de 
alteração do cadastro do 
contribuinte 


Botão 


Desfazer 


Desfazer o processo de 
alteração do cadastro do 
contribuinte 




 

g. Desabilitar Emissão de NFS-e 


Será apresentado texto informando que caso seja confirmada a solicitação, o contribuinte não 
poderá emitir mais NFS-e até que seja habilitado novamente pelo Gestor do município. 


 


 



h. Upload de Arquivo de Contribuintes do Município 


A funcionalidade permite em um único procedimento incluir as informações de um ou mais 
contribuintes. As regras gerais estão descritas na página da funcionalidade. 

 

1. O upload de arquivos é destinado para cadastramento de novos contribuintes no CNC. 
Caso o contribuinte informado no arquivo já exista na base do CNC ele será descartado; 
2. A extensão do arquivo obrigatoriamente deve ser .CSV; 
3. O arquivo deve conter um contribuinte por linha; 
4. Os campos que compõem cada linha devem ser separados por Pipe ( | ); 
5. O tamanho do arquivo deve ser de até 300 Kb (cerca de 2000 contribuintes); 
6. O resultado do processamento de um arquivo de upload fica disponível para consulta até 
sete dias após sua realização ou até que um novo upload seja realizado; 


 

Obs: O leiaute do arquivo para envio ao sistema está disponível na tela da funcionalidade; 

 

Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


Incluir Arquivo 


Inicia processo de 
validação e inclusão das 
informações dos 
contribuintes no CNC 


Botão 


Incluir 


Validar e incluir as 
informações dos 
contribuintes no CNC 


Selecionar arquivo 


Permite selecionar o 
endereço do arquivo para 
upload no computador do 
usuário 


Texto 


Selecionar 


Selecionar o arquivo para 
upload 


Leiaute 


Descreve todas as 
informações que deverão 
constar do arquivo 


Botão 


Exibir 


- 


Baixar arquivo 
exemplo 


Faz download de planilha 
com exemplo do arquivo 
de upload 


Botão 


Exibir 


- 




 

i. Leiaute do arquivo CSV para upload 


Cada linha do arquivo .csv deve conter exatamente 13 pipes ( | ), que é o caracter reservado 
da funcionalidade para separar os 14 campos possíveis para cada contribuinte (linha do arquivo). 
O primeiro campo possui apenas o pipe de separação com o segundo campo, conforme leiaute; 
O último campo possui apenas o pipe de separação com o décimo terceiro campo, conforme 
leiaute; Ex: CPF ou CNPJ | Inscrição Municipal | Data da Inscrição Municipal | CEP | Número | 
Complemento | Telefone | E-mail | Regime Especial de Tributação | Situação | Motivo da Situação 
| Situação Emissão NFS-e | CPF/CNPJ do Contador | Telefone do Contador Os campos não 
obrigatórios não precisam ser informados, mas o campo deve estar representado na linha com 
o conteúdo vazio; 

 

j. Upload de Arquivo Autorização de Emissão 
13.2.9. Consulta NFS
-
e 





A funcionalidade permite em um único procedimento incluir as informações de um ou mais 
contribuintes. As regras gerais estão descritas na página da funcionalidade. 

 


 

Poderão ser consultadas as NFS-e emitidas pelos contribuintes cadastrados no município em 
questão e aqueles em que o município consta como município de incidência do ISSQN. 


Os parâmetros de filtros da consulta são os demonstrados na tela abaixo. Pode-se usar cada um 
dos filtros individualmente ou associados. 


 


Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


Texto para pesquisa 


Chave de acesso para 
pesquisa da NFS-e 


Texto 


Pesquisar 


Recuperar a NFS-e com a 
chave de pesquisa 
informada 


CPF/CNPJ 


CPF ou CNPJ emissor da 
NFS-e a ser recuperada 


Numérico 


Pesquisar 


Recuperar a NFS-e com o 
NI informado 


Tipo de Emissor 


Selecionar qual o tipo de 
emissor da NFS-e 


Combo 


Selecionar 


Recuperar a NFS-e com o 
tipo de emissor 
selecionado 





Situação NFS-e 


Selecionar o tipo de NFS-
e 


Combo 


Selecionar 


Recuperar a NFS-e com a 
situação da NFS-e 
selecionada 


Inscrição Municipal 


Número da Inscrição 
Municipal 


Numérico 


Pesquisar 


Recuperar a NFS-e para a 
Inscrição Municipal 
informada 


NIF 


Número de Inscrição 
Fiscal 


Alfanumérico 


Pesquisar 


Recuperar a NFS-e com 
NIF informado 


Nome/Razão Social 


Nome ou Razão Social 


Texto 


Pesquisar 


Recuperar a NFS-e com o 
Nome ou Razão Social 
informado 


Valor Mínimo 


Valor mínimo a ser 
considerado 


Valor 


Pesquisar 


Recuperar a NFS-e com o 
valor mínimo informado 


Valor Máximo 


Valor máximo a ser 
considerado 


Valor 


Pesquisar 


Recuperar a NFS-e com o 
valor máximo informado 


Data inicial 


Data inicial a ser 
considerada como 
emissão da NFS-e 


Data 


Pesquisar 


Recuperar a NFS-e com a 
data inicial informada 


Data Final 


Data final a ser 
considerada como 
emissão da NFS-e 


Data 


Pesquisar 


Recuperar a NFS-e com a 
chave de pesquisa 
informada 


Filtrar 


Selecionar NFS-e pelos 
parâmetros informados 


Botão 


Selecionar 


Recuperar a(s) NFS-e(s) 
pelos parâmetros 
selecionados 


Reiniciar 


Reiniciar a tela 


Botão 


Reiniciar 


Retornar a tela a condição 
inicial 


Emissão 


Data da emissão da NFS-
e 


Data 


Exibir 


- 


Emitente 


CPF/CNPJ/Nome/Razão 
Social do emitente 


Texto 


Exibir 


- 


Valor 


Valor da NFS-e 


Valor 


Exibir 


- 


Situação 


Situação da NFS-e 


Texto 


Exibir 


- 


Ações no registro 


Ações sobre a NFSE 


 


Botão 


Selecionar 


Direcionar para efetuar a 
ação selecionada 


• Visualizar NFS-e 
• Cancelar por 
Ofício 
• Download XML 
• Download 
DANFS-e 
13.2.9.1. Visualizar NFS
-
e 
e Eventos Vinculados 







 


 


Permite visualizar as informações da NFS-e além da opção de download da mesma nos formatos 
HTML (Transformação do XML com XSLT), XML e PDF. A visualização retorna, além das 
informações da NFS-e, também dos eventos vinculados à NFS-e. Estes últimos, os eventos, 
estão disponíveis somente no formato HTML (Transformação do XML com XSLT). 


 

Campo 


Descrição 


Tipo 


Funcionalidade 


Ação 


Ícone para pesquisa 


Retorna a tela de 
pesquisa inicial 


Botão 


Pesquisar 


Retorna a página de 
pesquisa inicial 


Download XML 


Gera download do NFS-e 
no formato XML 


Botão 


Download 


Faz o download da NFS-e 
no formato XML 


Download PDF 


Gera download do 
DANFS-e no formato PDF 


Botão 


Download 


Faz o download do 
DANFSe da NFS-e no 
formato PDF 


Chave de Acesso 


Chave de acesso que 
identifica a NFS-e 


Numérico 


Exibir 


- 


Data da Geração 


Data e hora da geração 
da NFS-e 


Data/Hora 


Exibir 


- 


Versão 


Versão da NFS-e 


Numérico 


Exibir 


- 


Número da DPS 


Número da DPS 


Numérico 


Exibir 


- 


Série da DPS 


Série da DPS 


Numérico 


Exibir 


- 


Data da Emissão da 
DPS 


Data da emissão da DPS 


Data/Hora 


Exibir 


- 


Versão da DPS 


Versão da DPS 


Numérico 


Exibir 


- 


Nome/Razão Social 


Nome ou Razão Social do 
emitente 


Texto 


Exibir 


- 





CPF/CNPJ 


CPF/CNPJ do emitente 


Numérico 


Exibir 


- 


Inscrição Municipal 


Inscrição Estadual do 
emitente 


Numérico 


Exibir 


- 


Situação perante o 
Simples Nacional 


Informa se o contribuinte 
emitente é optante pelo 
Simples Nacional 


Texto 


Exibir 


- 


Regime Especial de 
Tributação 


Informa se o contribuinte 
possui Regime Especial de 
Tributação 


Texto 


Exibir 


- 


Município de 
Incidência 


Nome do município de 
incidência do ISSQN 


Texto 


Exibir 


- 


Exigibilidade do ISSQN 


Informa a exigibilidade ou 
não do ISSQN 


Texto 


Exibir 


- 


Competência 


Informa a competência do 
ISSQN 


Data 


Exibir 


- 


Valor do Serviço 


Valor do serviço 


Valor 


Exibir 


- 


Desconto 
incondicionado 


Valor do desconto 
incondicionado 


Valor 


Exibir 


- 


Desconto condicionado 


Valor do desconto 
condicionado 


Valor 


Exibir 


- 


Dedução/Redução 


Valor da dedução/redução 


 


Valor 


Exibir 


- 


 


Base de cálculo 


Valor para base de cálculo 
do ISSQN 


Valor 


Exibir 


- 


Alíquota 


Alíquota definida para o 
serviço 


Numérico 


Exibir 


- 


Valor do ISSQN 


Valor devido de ISSQN 


Valor 


Exibir 


- 


Retenção 


Informa se haverá 
retenção do ISSQN 


Texto 


Exibir 


- 


Valor líquido 


Valor líquido da NFS-e 


Valor 


Exibir 


- 


Versão da aplicação 


Versão da aplicação 


Texto 


Exibir 


- 


Ambiente Gerador 


Ambiente gerador da 
NFS-e 


Texto 


Exibir 


- 


Aba Pessoas – Com Tomador Identificado 


CNPJ 


CNPJ do tomador 


Numérico 


Exibir 


- 


Inscrição Estadual 


Inscrição Estadual do 
tomador 


Numérico 


Exibir 


- 


Nome/Razão Social 


Nome ou Razão Social do 
tomador 


Texto 


Exibir 


- 


Telefone 


Telefone de contato 


Numérico 


Exibir 


- 


E-mail 


Endereço de e-mail do 
tomador 


Texto 


Exibir 


- 


Aba Serviço – Informações do local onde o serviço foi concluído 


País 


Nome do país 


Texto 


Exibir 


- 


Município 


Nome do município 


Texto 


Exibir 


- 


Código de Tributação 
Nacional 


Código e descrição do 
serviço prestado 


Texto 


Exibir 


- 


Item da NBS 


Item da NBS 
correspondente ao serviço 


Texto 


Exibir 


- 


Descrição do Serviço 


Descrição do serviço 
prestado 


Texto 


Exibir 


- 


Número do documento 
de responsabilidade 
técnica 


Número do documento de 
responsabilidade técnica 


Numérico 


Exibir 


- 


Documento de 
referência 


Descrição do documento 
de referência 


Texto 


Exibir 


- 


Informações 
complementares 


Informações 
complementares sobre o 
serviço 


Texto 


Exibir 


- 


Aba Outros Tributos 


Situação tributária do 
PIS/COFINS 


Situação tributária do 
PIS/COFINS 


Texto 


Exibir 


- 


Base de cálculo 
PIS/COFINS 


Valor da base de cálculo 
do tributo 


Valor 


Exibir 


- 


PIS – Alíquota 


Alíquota a ser aplicada 


Numérico 


Exibir 


- 


PIS –Valor do imposto 


Valor do imposto 


Valor 


Exibir 


- 


COFINS – Alíquota 


Alíquota a ser aplicada 


Numérico 


Exibir 


- 


COFINS –Valor do 
imposto 


Valor do imposto 


Valor 


Exibir 


- 


Tipo de retenção 

Tipo de retenção 


Texto 


Exibir 


- 





13.2.9.1. Cancelamento por Ofício 










PIS/COFINS 


Valor retido IRRF 


Valor retido IRRF 


Valor 


Exibir 


- 


Valor retido CSLL 


Valor retido CSLL 


Valor 


Exibir 


- 


Valor retido CP 


Valor retido CP 


Valor 


Exibir 


- 


Total de tributos 
Federal 


Total de tributos Federal 


Valor 


Exibir 


- 


Total de tributos 
Estadual 


Total de tributos Estadual 


Valor 


Exibir 


- 


Total de tributos 
Municipal 


Total de tributos Municipal 


Valor 


Exibir 


- 




 


A Administração Tributária Municipal poderá cancelar por ofício qualquer NFS-e que tenha sido 
emitida pelo município, ou seja, em que o município seja o município emissor daquela nota. Esta 
ação será possível através da funcionalidade disponibilizada nas NFS-e que resultarem (que o 
município seja o município emissor) da consulta de NFS-e do Painel Administrativo Municipal. 


 


 


 


 



14. Gerenciamento Municipal no Sistema Nacional NFS-e – API 
14.1. Visão Geral 
14.2. API Parâmetros Municipais 
14.2.1. Descrição 
14.2.2. Métodos 








 

O gerenciamento municipal via API no Sistema Nacional NFS-e abrange um conjunto de 
funcionalidades básicas para que o município desenvolva clientes para comunicação com o as 
API disponíveis e possa integrar seus sistemas próprios de forma a automatizar o fluxo de 
informações com o sistema nacional. Abaixo seguem as especificações das APIs atualmente 
disponíveis para integração com o Sistema Nacional NFS-e. 


 

 

Através deste serviço um usuário obtém as parametrizações de um município específico. De 
posse das informações dos parâmetros de um município o emitente pode preencher as 
informações necessárias da DPS para emissão e envio à Sefin Nacional NFS-e, que a validará 
para gerar a NFS-e. 


 

 

a. GET – /parametros_municipais/{codigoMunicipio}/convenio 


Consulta os parâmetros do convênio de um município. 


 


b. GET – /parametros_municipais/{ codigoMunicipio }/aliquotas 


Consulta as alíquotas, regimes especiais de tributação e deduções/reduções por subitens da lista 
de serviço. 


 

c. GET – /parametros_municipais/{codigoMunicipio}/regimes_especiais 


Consulta as retenções a que um contribuinte tem o dever de recolher para um município. 


 


d. GET – /parametros_municipais/{codigoMunicipio}/retencoes 


Consulta os benefícios municipais a que um contribuinte tem direito em um município. 


 

e. GET – /parametros_municipais/{codigoMunicipio}/beneficiomunicipal/ 
{nBM} 
14.3. API NFS-e 
14.3.1. Descrição 








Consulta os benefícios municipais a que um contribuinte tem direito em um município. 


 

 

 

Possui um serviço: 


• Consulta de NFS-e pela chave de acesso; 
14.3.2. Métodos 





 

 


a. GET – /nfse/{chaveAcesso} 


Consulta NFS-e pela chave de acesso. Através de um método GET a API obtém uma NFS-e a 
partir de uma chave de acesso como parâmetro na consulta realizada pelo solicitante. 


 


 



14.4. API DPS 
14.4.1. Descrição 
14.4.2. Métodos 








 

Serviço cujo objetivo principal é recuperar a chave de acesso da NFS-e a partir de uma consulta 
pelo identificador da DPS (Código IBGE do Município Emissor (7), Tipo de Inscrição (1), 
Inscrição Federal (14 - CPF completar com 000 à esquerda), Série DPS (5), Núm. DPS (15). 
No entanto, por questões de sigilo fiscal, a chave de acesso somente será informada somente 
se a identificação do usuário do certificado digital da conexão solicitante for um ator (Prestador, 
Tomador ou Intermediário) que consta na NFS-e gerada a partir da DPS consultada. 


 

O processamento se dá em dois métodos distintos com objetivos separados, Get e Head. Realiza 
uma consulta ao banco de dados da Sefin Nacional NFS-e com os parâmetros da DPS informados, 
retornando a chave de acesso da NFS-e correspondente ao DPS consultado ou somente a 
informação de que a NFS-e referente à DPS consultada foi gerada, sem informar a chave de 
acesso. 


 


a. GET – /dps/{id} 


Recupera a chave de acesso da NFS-e a partir do identificador do DPS. O solicitante informa a 
identificação da DPS e a API retorna a chave de acesso da NFS-e correspondente. Somente 
podem ser consultados identificadores de DPS emitidos através Sefin Nacional NFS-e. e desde 
que a identificação do certificado digital da conexão solicitante corresponda a um dos atores 
informados na DPS da NFS-e (Prestador, Tomador ou Intermediário). Caso contrário a solicitação 
será negada. 


 


b. HEAD – /dps/{id} 
14.5. API Eventos 
14.5.1. Descrição 








O método Head é uma consulta para informar se uma NFS-e foi gerada ou não a partir do 
identificador da DPS. Este método atende a qualquer usuário desde que realize a consulta com 
um certificado digital válido. 


 


 

Recepciona os Pedidos de Registros de Eventos de NFS-e gerados e enviados para a API, realiza 
validações de negócio sobre estes pedidos e gera o Evento de NFS-e. O evento gerado é 
vinculado à NFS-e para a qual o pedido de registro de evento foi enviado. 


Os eventos de NFS-e implementados no Sistema Nacional NFS-e são: 


 


i. Evento de Cancelamento de NFS-e; 
ii. Evento de Cancelamento por Substituição de NFS-e; 
iii. Solicitação de Análise Fiscal para Cancelamento de NFS-e; 
iv. Cancelamento de NFS-e Deferido por Análise Fiscal; 
v. Cancelamento de NFS-e Indeferido por Análise Fiscal; 


 


vi. Manifestação de NFS-e: 
• Confirmação do Prestador; 
• Confirmação do Tomador; 
• Confirmação do Intermediário; 
• Confirmação Tácita; 
• Rejeição do Prestador; 
• Rejeição do Tomador; 
• Rejeição do Intermediário; 
• Anulação da Rejeição; 


 


vii. Cancelamento de NFS-e por Ofício; 



viii. Bloqueio de NFS-e por Ofício de: 
• Cancelamento de NFS-e; 
• Cancelamento de NFS-e por Substituição; 
• Cancelamento de NFS-e Deferido por Análise Fiscal; 
• Cancelamento de NFS-e Indeferido por Análise Fiscal; 
• Cancelamento de NFS-e por Ofício; 
• Inclusão de NFS-e em Declaração da Apuração Nacional; 
• Tributos de NFS-e Recolhidos; 


 


ix. Desbloqueio de NFS-e por Ofício de: 
• Cancelamento de NFS-e; 
• Cancelamento de NFS-e por Substituição; 
• Cancelamento de NFS-e Deferido por Análise Fiscal; 
• Cancelamento de NFS-e Indeferido por Análise Fiscal; 
• Cancelamento de NFS-e por Ofício; 
• Inclusão de NFS-e em Declaração da Apuração Nacional; 
• Tributos de NFS-e Recolhidos; 


 


Segue descrição do objetivo de cada um dos Eventos de NFS-e implementados no Sistema 
Nacional NFS-e cujo emitente é o município. 


 


a. Cancelamento de NFS-e Deferido por Análise Fiscal 


Após a análise da solicitação de cancelamento da nota fiscal, a administração municipal poderá 
deferir a solicitação emitindo um Evento de Cancelamento de NFS-e Deferido por Análise Fiscal. 
Este evento tem o mesmo efeito de um cancelamento de NFS-e para o sistema, cancelando a 
NFS-e, conforme a descrição do Evento de Cancelamento de NFS-e. 


 


b. Cancelamento de NFS-e Indeferido por Análise Fiscal 


Após a análise da solicitação de cancelamento da nota fiscal, a administração municipal poderá 
indeferir a solicitação emitindo um Evento de Cancelamento de NFS-e Indeferido por Análise 
Fiscal. Este evento indefere a solicitação de cancelamento de NFS-e para o sistema, não 
cancelando a NFS-e. 


 


c. Manifestação de NFS-e – Anulação da Rejeição 


Evento enviado pela administração tributária emissora da NFS-e que anula os efeitos da 
manifestação de rejeição da NFS-e encaminhada previamente pelo prestador, tomador ou 
intermediário. Quando um tomador encaminha um evento de rejeição da NFS-e, o prestador 
pode fazer prova de que o serviço realmente foi prestado e que a NFS-e é idônea. Caso a 
administração tributária municipal reconheça o pleito do prestador, ela poderá encaminhar o 
evento de anulação da rejeição. 


 


d. Cancelamento de NFS-e por Ofício 


Cancelamento efetuado pela administração tributária mesmo sem a solicitação do contribuinte. 


• O efeito sistêmico desse evento é o mesmo do “Evento de Cancelamento de NFS-e”; 
• Somente o município emissor da NFS-e pode cancelar de ofício; 
• O cancelamento de ofício poderá ser realizado mesmo que a nota tenha evento de 
manifestação de confirmação da NFS-e. 


 


e. Bloqueio de NFS-e por Ofício 


Evento pelo qual a administração tributária do município emissor da NFS-e indica quais outros 
eventos de NFS-e devem ser rejeitados pelo sistema por estar a nota, momentaneamente, 
bloqueada para recepcionar tais eventos. 


Em um evento de bloqueio pode ser bloqueado apenas um evento dentre os da lista abaixo: 


a) Cancelamento de NFS-e; 
b) Cancelamento de NFS-e por Substituição; 
c) Cancelamento de NFS-e Deferido por Análise Fiscal; 



d) Cancelamento de NFS-e Indeferido por Análise Fiscal; 
e) Cancelamento de NFS-e por Ofício; 
f) Inclusão de NFS-e em DAN; 
g) Tributos de NFS-e Recolhidos; 


O Evento de Bloqueio de NFS-e por Ofício não será aceito se a NFS-e já tiver um evento de 
bloqueio com o mesmo tipo de evento já bloqueado, ou seja, pendente de desbloqueio. 


Ex1: A administração tributária envia dois eventos de bloqueio para o “cancelamento de NFS-e” 
para uma NFS-e, ou seja, dois eventos de bloqueio para o mesmo tipo de evento (Evento de 
Cancelamento de NFS-e). O primeiro destes eventos bloqueia a NFS-e para que não seja 
cancelada (pelo Evento de Cancelamento de NFS-e). Se não houver um evento que desbloqueie 
esta nota para o seu cancelamento, o segundo evento de bloqueio enviado será rejeitado pois o 
primeiro está pendente de desbloqueio. A administração tributária deverá enviar o Evento de 
Desbloqueio de NFS-e por Ofício (que será explicado logo a seguir) para o Evento de 
Cancelamento de NFS-e. Assim a nota ficará desbloqueada para seu cancelamento 
(cancelamento este realizado pelo Evento de Cancelamento de NFS-e). Uma vez desbloqueada 
a NFS-e poderá ser bloqueada para cancelamento (para o mesmo Evento de Cancelamento de 
NFS-e). Dessa forma, havendo um desbloqueio para o primeiro evento de bloqueio, o segundo 
evento de bloqueio enviado pela administração tributária não seria rejeitado pelo sistema 
nacional. 


Consequentemente, é permitido o envio de um evento de bloqueio para cada evento da lista 
acime mencionada, que antes não foram bloqueados. 


Ex2: existe um evento de bloqueio para o Evento de Cancelamento de NFS-e. 


Em um momento posterior é enviado um novo evento de bloqueio para o Evento de 
Cancelamento de NFS-e Deferido por Análise Fiscal; em seguida é enviado um outro evento de 
bloqueio para o Evento de Cancelamento de NFS-e Indeferido por Análise Fiscal; posteriormente 
é enviado um outro evento de bloqueio para o Evento de Cancelamento de NFS-e por Ofício; 


Ao final teríamos a NFS-e bloqueada para 4 eventos, bloqueio este realizado em momentos 
distintos, conforme explicitado no Ex2. 


 


f. Desbloqueio de NFS-e por Ofício 


Evento pelo qual a administração tributária do município emissor da NFS-e indica quais eventos 
de NFS-e devem ser desbloqueados pelo sistema, ou seja, para que haja um desbloqueio de 
algum evento é necessário que haja um evento de bloqueio anterior. 


Em um evento de desbloqueio poderão ser desbloqueados os mesmos eventos possíveis de 
bloqueio, conforme lista abaixo: 


a) Cancelamento de NFS-e; 
b) Cancelamento de NFS-e por Substituição; 
c) Cancelamento de NFS-e Deferido por Análise Fiscal; 
d) Cancelamento de NFS-e Indeferido por Análise Fiscal; 
e) Cancelamento de NFS-e por Ofício; 
f) Inclusão de NFS-e em DAN; 
g) Tributos de NFS-e Recolhidos; 


O Evento de Desbloqueio de NFS-e por Ofício deverá indicar qual o Evento de Bloqueio de NFS-
e se refere para realizar o desbloqueio. 


Aproveitando o Ex2 do item que trata do Bloqueio de NFS-e por Ofício, temos: 


Ex2: A NFS-e está bloqueada para 4 Eventos: Cancelamento de NFS-e, Cancelamento de NFS-e 
Deferido por Análise Fiscal, Cancelamento de NFS-e Indeferido por Análise Fiscal e Evento de 
Cancelamento de NFS-e por Ofício. O Evento de Desbloqueio de Ofício desbloqueia um evento 
por vez. Assim, este evento deve informar o identificador do evento de bloqueio que deseja 
desbloquear. No caso deste exemplo, para que a nota fique totalmente desbloqueada a 
administração tributária deve enviar 4 eventos de desbloqueio, um para cada evento de bloqueio 
existente na NFS-e. 



14.5.2. Métodos 





Para o processamento realizado sobre o Pedido de Registro de Evento devem ser compreendidos: 


 


• Esquemas relativos aos eventos reconhecidos pelo Sistema Nacional NFS-e; 
• Leiaute do Pedido de Registro de Evento de NFS-e; 
• Leiaute do Evento de NFS-e; 
• Regras de negócio aplicadas sobre o pedido de registro de evento; 
• Parametrizações que o município emissor da NFS-e realiza previamente para utilização 
nas validações sobre o Pedido de Registro de Evento de NFS-e; 
• Estes itens e todas as regras e observações de negócio para todos os eventos de NFS-e 
do Sistema Nacional NFS-e estão anotadas e disponíveis nas planilhas do arquivo 
AnexoII-LeiautesRN_Eventos-SNNFSe deste manual. 


O processo de transação completa de utilização dos eventos de NFS-e tem a seguinte sequência: 


1. O solicitante envia o pedido de registro de evento; 
2. O sistema valida, registra ou rejeita o pedido de registro de evento; 
3. O sistema, caso aceite o pedido de registro de evento, gera o evento de NFS-e que ficará 
vinculado ao documento da nota, cuja chave de acesso da NFS-e estiver informada no 
pedido; 
4. O sistema envia comunicação de aceite ou rejeição do pedido de registro de evento ao 
solicitante; 


 


a. POST – /nfse/{chaveAcesso}/eventos 


É um modelo genérico que permite o registro de eventos originados a partir de: Emitentes da 
NFS-e; Não Emitentes da NFS-e; Município Emissor; Município de Incidência e do Módulo de 
Apuração Nacional; 


 


Um evento é o registro de um fato relacionado a uma NFS-e. Esse evento pode ou não modificar 
a situação do documento (por exemplo: cancelamento de NFS-e) ou simplesmente dar ciência 
sobre a confirmação da prestação de serviço pelo tomador (por exemplo: Manifestação de NFS-
e - Confirmação). 


 


O serviço para registro de eventos será disponibilizado pelas Sefins geradoras de NFS-e (Sefin 
Nacional e demais Sefins municipais que desejarem seguir o padrão nacional para NFS-e) através 
de um processamento síncrono na API Eventos. Assim como as NFS-e, os eventos são um tipo 
de documento fiscal eletrônico e serão compartilhados pelo ADN NFS-e conforme regras de 
visibilidade de documentos. As mensagens de comunicação com a API utilizarão o padrão JSON, 
já definido para o projeto NFS-e, enquanto o leiaute do DFS-e utiliza o padrão XML contendo a 
assinatura digital do emissor do evento. 


Para o registro do evento é necessário a existência da NFS-e na Sefin geradora de NFS-e, em 
conformidade com as regras de negócio estabelecidas para os eventos de NFS-e. 


 


O modelo de mensagem do evento deverá ter um conjunto mínimo de informações comuns, a 
saber: 


• Identificação do autor da mensagem; 
• Identificação do evento; 
• Identificação do NFS-e vinculado; 
• Informações específicas do evento; 
• Assinatura digital da mensagem; 


 


A API de eventos será única com a funcionalidade de tratar eventos de forma genérica para 
facilitar a criação de novos eventos sem a necessidade de criação de novos serviços e com 
poucas alterações na aplicação de Pedido de Registro de Eventos da Sefin geradora de NFS-e. 


 


O leiaute da mensagem do Pedido de Registro de Evento seguirá o modelo, contendo uma parte 
genérica (comum a todos os tipos de evento) e uma parte específica onde será inserido o XML 
correspondente a cada tipo de evento. 


 



• As regras de validação referentes às partes genérica e específica dos eventos estão 
descritas em tabela específica no AnexoII-LeiautesRN_Eventos-SNNFSe. 


 


b. GET – /nfse/{chaveAcesso}/eventos 


Consulta eventos por chave de acesso. O solicitante informa a chave de acesso de uma NFS-e e 
a API retorna todos os eventos vinculados à chave de acesso de NFS-e informada na consulta. 


 

c. GET – /nfse/{chaveAcesso}/eventos/{tipoEvento} 


Consulta eventos por chave de acesso e tipo. O solicitante informa a chave de acesso e o tipo 
de evento (código identificador do evento). A API retorna o(s) evento(s) do tipo especificado 
vinculado(s) à chave de acesso de NFS-e informada na consulta. 


 


d. GET – /nfse/{chaveAcesso}/eventos/{tipoEvento}/{numSeqEvento} 


Consulta eventos por chave de acesso, tipo e sequencial do evento. O solicitante informa a chave 
de acesso, o tipo de evento (código identificador do evento) e o número sequencial específico 
do tipo de evento desejado (caso o tipo de evento permita mais de um evento do mesmo tipo 
para a mesma nota, caso contrário o número sequencial deve ser igual a 1). A API retorna 
exatamente o evento com o número sequencial solicitado, do tipo especificado, vinculado à chave 
de acesso de NFS-e informada na consulta. 


 


 



15. Ambiente de Dados Nacional NFS-e – Compartilhamento e 
Distribuição de DF-e 
15.1.1. Compartilhamento de DF-e para o ADN NFS-e 
15.1.2. Distribuição de DF-e pelo ADN NFS-e 








O Ambiente de Dados Nacional NFS-e é o módulo do Sistema Nacional NFS-e que funciona 
como um repositório nacional de documentos fiscais eletrônicos – DF-e (NFS-e nacional e 
Eventos de NFS-e, Créditos, Débitos e Apuração). 

O ADN fornece a API DF-e para recepcionar os documentos fiscais eletrônicos compartilhados 
entre os municípios conveniados ao SN NFS-e além de possibilitar a distribuição destes DF-e 
para aqueles municípios que ocupem algum papel de interesse pelo DF-e, conforme regras de 
distribuição que veremos mais adiante. 

O ADN agiliza o compartilhamento de informações e obtenção da confirmação da entrega em 
modo síncrono, com garantia de entrega fim-a-fim entre as aplicações. O uso da Internet, a 
escalabilidade da solução e a centralização dos processos são fatores chaves para este modelo. 


A modelagem do compartilhamento de DF-e através de NSU permite a implementação de um 
controle de sincronismo eficiente, identificando os documentos fiscais faltantes no ADN e 
possibilitando a recuperação de documentos faltantes do repositório local. 


 


A Sefin Municipal, responsável pela autorização do documento fiscal, deve transmitir os 
documentos fiscais para o método de recepção de documentos fiscais da API DF-e existente no 
ADN. O DF-e transmitido ao ADN deve utilizar os leiautes padronizados nacionalmente para os 
diversos DF-e existentes no Sistema Nacional NFS-e (NFS-e e Eventos de NFS-e). Os leiautes 
XML estão disponíveis nos anexos deste manual. 


Caso o município conveniado ao SN NFS-e mantenha seu próprio ambiente informatizado de 
autorização de DF-e (NFS-e e Eventos de NFS-e), poderá transcrever as informações dos 
documentos fiscais, recepcionados e autorizados em seu ambiente, para o padrão nacional, 
assinando-os com o certificado digital do município e transmitir estes documentos fiscais 
assinados para o ADN, que irá recepcioná-los e internalizá-los. 


A recepção de DF-e permite aos municípios conveniados enviarem os documentos fiscais 
autorizados pelos seus próprios sistemas autorizadores, centralizando a comunicação de todos 
os envolvidos em um único ponto central, o ADN NFS-e. 


 


Esta funcionalidade do ADN poderá ser acessada pelo município que deseja receber os 
documentos fiscais em que o município consta na NFS-e como interessado (Município de 
incidência do ISSQN, Local da prestação do serviço e município do endereço dos 
estabelecimentos ou domicílio dos não emitentes da NFS-e). Os eventos relacionados a uma 
NFS-e possuem a mesma regra de distribuição para municípios das NFS-e. 


Esta arquitetura favorece a implantação do modelo ao não exigir que os municípios mantenham 
API de alta disponibilidade para recepcionar os documentos fiscais e traz simplicidade para 
construção de aplicações clientes para consumir serviços oferecidos de forma centralizada. 


Para realizar o controle e distribuição dos DF-e do ADN são criados os NSU (Números 
Sequenciais Únicos) abaixo: 


1. NSU Geral do ADN (por DF-e) - Um número sequencial por documento 
gerado/compartilhado com o ADN pelas Sefins Municipais e Nacional. O enfoque dele 
não é distribuição, somente controle pelo ADN. 
2. NSU de Recepção/Backup (por Código Município) - É único por município emissor, 
retornado para o município no retorno da chamada síncrona; 
3. NSU de Distribuição (por Código Município) - Utilizado para cada município poder 
recuperar os documentos nos quais ele NÃO seja o gerador do documento (não é o 



município emissor do DF-e), mas conste como interessado (Município de incidência do 
ISSQN, Local da prestação do serviço e município do endereço dos estabelecimentos ou 
domicílio dos não emitentes da NFS-e); 
4. NSU de Distribuição para os atores da NFS-e (por CPF/CNPJ) - Utilizado para distribuir 
os documentos para cada CPF/CNPJ interessado nos DF-e (Prestador, Tomador e 
Intermediário). 
15.2. API DF-e para Municípios 
15.2.1. Descrição 








 


 

Possui quatro métodos, um que recepciona os DF-e transmitidos pelas Sefin Autorizadoras (dos 
municípios que mantém seu próprio ambiente autorizador de NFS-e e a Sefin Nacional NFS-e), 
e outros três que realizam a distribuição dos DF-e para os atores da NFS-e: Emitente e Não 
Emitente (podem estar configurados como Prestador, Tomador e Intermediário do serviço da 
NFS-e). 


Para obter os DF-e, a inscrição federal (CPF ou CNPJ) dos atores deve constar na NFS-e nos 
campos apropriados que identificam o Prestador, Tomador e Intermediário do serviço da NFS-
e. Os eventos de NFS-e que referenciam esta NFS-e poderão ser distribuídos para estes atores. 
Os atores devem possuir um certificado digital de PF com seu CPF ou de PJ com seu CNPJ. 


O Ambiente de Dados Nacional gera um número sequencial único (NSU) para cada interessado 
nos documentos fiscais. Os documentos recuperados deverão conter uma sequência de 
numeração sem intervalos em sua base de dados. 


 


a. Recepção de um Lote de DF-e dos sistemas municipais 


A aplicação cliente da API deve forma os lotes de DF-e em sequência cronológica dos documentos 
pois os mesmos, ao serem recepcionados pela API, serão processados em ordem para que 
possamos garantir que o ADN não esteja inconsistente em relação ao ciclo de vida dos DF-e. 


 


Para entendermos a necessidade desse modelo vejamos, no Sistema Nacional NFS-e uma NFS-
e substituída foi cancelada pelo processo de substituição. Então temos, uma primeira NFS-e que 
agora está cancelada por um Evento de Cancelamento por Substituição que foi gerado no 
momento da geração da segunda NFS-e, que é a nota substituta e é a NFS-e válida em relação 
ao mesmo fato gerador. 


 


Se não realizarmos uma validação básica de sequenciamento da recepção destes documentos 
que estão relacionados poderíamos ter uma NFS-e substituta que foi compartilhada com o ADN 
sem que a nota substituída e o evento que a cancelou possam ter sido compartilhados com o 
ADN. Outra situação ainda pior poderia ser o compartilhamento da nota substituta e o evento 
que cancela a nota substituída sem que a própria nota substituída tenha sido compartilhada com 
o ADN, ou seja, o ADN teria um evento de compartilhamento que referencia uma nota que não 
existiria no ADN por falta de compartilhamento pelo município. E não haveria possibilidade de 
exigirmos do município este compartilhamento. Isso na modelagem padronizada nacionalmente 
configura uma inconsistência que não pode acontecer. Para evitarmos esses problemas 
facilmente e mantermos o ADN consistente, realizamos a validação por ordem cronológica dos 
documentos relacionados. Neste exemplo a primeira NFS-e entraria no ADN pois se trata de uma 
NFS-e emitida “originalmente”, ou seja, escriturando-o primeiramente o fato gerador ocorrido. 
Pelo leiaute conseguimos diferenciá-la de uma NFS-e substituta pelo campo do leiaute 
chSubstda. Quando se trata desta primeira nota, emitida “originalmente” este campo não existe, 
pois, esta nota não referencia a chave de acesso de uma outra nota. Quando este campo está 
preenchido significa que estramos tratando de uma NFS-e substituta, ou seja, ela está 
substituindo uma outra nota existente, então a chave de acesso que preenche este campo 
referencia uma nota que já foi emitida e agora está cancelada, pois esta segunda nota passa a 
substituí-la. 


 



No compartilhamento com o ADN pelo município, o sistema realiza uma validação para verificar 
se a primeira nota já foi compartilhada, bem como o Evento de Cancelamento por Substituição 
que cancela a primeira nota. Caso o ADN verifique que estes dois documentos já foram 
compartilhados então a nota substituta é aceita no ADN, caso contrário é rejeitada. Nesta última 
situação o município deve compartilhar anteriormente à nota substituta, a NFS-e “original 


(nota substituída) e seu Evento de Cancelamento por Substituição, que por sua vez, também 
deve ser compartilhado somente após o compartilhamento da primeira nota, pois o evento de 
cancelamento por substituição está cancelando uma NFS-e, então esta nota deve primeiramente 
existir. 


 


Ainda assim o ADN não tem como garantir que o município deixe de compartilhar algum 
documento, por exemplo, o município pode compartilhar a primeira nota, depois o evento de 
cancelamento por substituição e não compartilhar a nota substituta. Entretanto, neste último 
caso, fica evidente que o município está seguindo a sequência de negócio estabelecida 
nacionalmente. Todos os participantes do Sistema Nacional NFS-e são responsáveis por manter 
a consistência do ADN que, além de ser o repositório nacional de NFS-e, também é o ambiente 
de compartilhamento de documentos fiscais entre os entes, contribuintes e partes interessadas. 


 


b. Distribuição de Conjunto de DF-e a Partir do NSU Informado 


A aplicação cliente da API deve informar o último número sequencial único (ultNSU) que possui. 


Caso o NSU informado seja menor que o primeiro NSU disponível para distribuição, a aplicação 
do ADN deverá fornecer os documentos a partir do primeiro disponível para consulta. 


c. Consulta DF-e Vinculado ao NSU Informado 


A consulta DF-e a partir de um NSU permite que o interessado nos documentos fiscais consulte 
de maneira pontual um NSU que foi identificado como faltante em sua base de dados. 


A aplicação cliente da API deve informar o número sequencial único (NSU) identificado como 
faltante em sua base de dados. 


d. Consulta de NFS-e por Chave de Acesso Informada 
15.2.2. Métodos 





A consulta a partir de uma chave de acesso permite que o interessado na NFS-e consulte de 
maneira pontual uma chave de acesso e obtenha o documento relativo à esta chave. 


A aplicação cliente da API deve informar uma chave de acesso válida para recuperar a NFS-e. 


 


 


a. POST /DFe/ 


Os lotes devem ser gerados para serem compartilhados pelos sistemas municipais de forma que 
seja respeitada a ordem cronológica do processo de geração das transações (o cancelamento de 
NFS-e é sempre posterior à NFS-e a ser cancelada, sendo importante que o compartilhamento 
da NFS-e com o ADN seja realizado antes do compartilhamento do Evento de Cancelamento de 
NFS-e). 


 


A criação do lote de documentos fiscais deve observar as seguintes premissas: 


 


• Ordem crescente de número de documentos; 
• O lote pode conter qualquer tipo de DF-e; 
• Quantidade máxima de documentos fiscais do lote: 50 DF-e; 
• Tamanho máximo do lote: 1 MB; 


 


O retorno da recepção de lotes irá conter o NSU (Número sequencial único) vinculado ao 
respectivo documento pelo Ambiente Nacional da NFS-e. 


 


A rejeição por falha de esquema XML será realizada documento a documento e não por lote. 


 


Este modelo possibilita a montagem de lote com qualquer tipo de DF-e; o DF-e existente no lote 
será identificado pelo conteúdo do atributo que define o tipo de evento. 



 

b. GET /DFe/{UltimoNSU} 


 

Obtém até 50 DFe a partir do último NSU informado. O solicitante utiliza como parâmetro para 
realizar a consulta o último NSU que é de seu conhecimento. O sistema nacional pesquisa até 
50 DF-e que corresponderem aos próximos 50 NSU em sequência, a partir do último NSU 
repassado como parâmetro da consulta. O sistema nacional distribui estes DF-e encontrados e 
informa o último NSU da sequência encontrada para que o solicitante possa realizar nova 
consulta e repassar como parâmetro este último NSU informado pelo sistema nacional. 


 


A criação do lote de documentos deverá observar as seguintes regras: 


 


• Ordem crescente de NSU; 
• O lote poderá conter qualquer tipo de documento válido e seu respectivo NSU; 
• Quantidade máxima de documentos no lote: 50 documentos; 


 


Documentos compartilhados pelo próprio município não estarão disponíveis para consulta. 


 


Importante ressaltar que o processo de recepção e sincronização não será realizado em ordem 
cronológica de emissão ou geração pelo sistema gerador de NFS-e (municipal ou Sefin 
Nacional), uma vez que a geração do NSU dos documentos será organizada por ordem 
cronológica de recepção pelo ADN NFS-e. 


 


Obs: Não confundir com a necessidade de envio dos DF-e, pelos municípios, em ordem 
cronológica dos documentos correlacionados. Com este serviço, o município conseguirá 
recuperar todos os documentos de seu interesse tão logo estes sejam recebidos pelo ADN NFS-
e. 


 


É conveniente manter um controle do primeiro NSU válido para consulta. A resposta da API 
poderá ser: 


 


• Rejeição - com a devolução da mensagem com o motivo da falha informado; 
• Nenhum documento localizado – não existe documentos fiscais para o CNPJ/CPF 
informado; 
• Documento localizado – com a devolução dos documentos fiscais encontrados; 


 


O interessado nos DF-e deverá aguardar um tempo mínimo de uma hora para efetuar uma nova 
solicitação de distribuição caso receba a indicação que não existem mais documentos a serem 
pesquisados na base de dados do ADN. Se o NSU informado (ultNSU) for igual ao maior NSU do 
Ambiente Nacional (maxNSU), então não existem mais documentos a serem pesquisados no 
momento. 


 


c. GET /DFe/{NSU} 


O solicitante informa um NSU e o sistema nacional retorna o DF-e associado. 


 


Para a distribuição dos DF-e realizados pelo ADN devem ser compreendidos: 


 


• Leiautes DPS e NFS-e; 
• Leiautes Pedido de Registro de Evento e Evento de NFS-e; 


 


Estes itens estão disponíveis no AnexoI-LeiautesRN_DPS_NFSe-SNNFSe. 


 


São também necessárias a compreensão das regras para o processamento da recepção do lote 
de DF-e. 


 


Estas regras estão disponíveis no AnexoIV-LeiautesRN_ADN-SNNFSe 


 


 



15.3. API DANFSe 
15.3.1. Descrição 
15.3.2. Métodos 








 

Serviço que gera o arquivo PDF da NFS-e (DANFSe – Documento Auxiliar de Nota Fiscal de 
Serviço eletrônica) a partir de uma consulta pela chave de acesso da NFS-e. 


 


Consulta ao banco de dados do ADN NFS-e para recuperar o XML da NFS-e solicitada e, a partir 
das informações contidas no documento NFS-e, gerar o PDF em leiaute específico. Será possível 
gerar o DANFSe de qualquer nota que conste no ADN independentemente se foram geradas 
pela Sefin Nacional ou pelo sistema próprio do município, desde que o documento XML gerado 
pelo sistema municipal tenha sido compartilhado com o ADN NFS-e. 


 


a. GET – /danfse/{chaveAcesso} 


Recupera o DANFSe de uma NFS-e a partir de sua chave de acesso. O solicitante informa a chave 
de acesso e a API retorna o PDF da NFS-e correspondente à chave de acesso informada na 
consulta. Podem ser consultados identificadores de NFS-e geradas através da Sefin Nacional 
NFS-e ou qualquer Sefin geradora de NFS-e (desde que as NFS-e tenham sido transcritas para 
o leiaute nacional e compartilhadas com o Ambiente de Dados Nacional NFS-e.). 


 








 


 


 


 


 


 


 


 


 


 


 


PARTE III - MANUAL DE ORIENTAÇÕES 
AOS CONTRIBUINTES DO ISSQN PARA O 
SISTEMA NACIONAL NFS-e 


 


 


 


 


 


 


 


 


 


 


 


 



99 
Manual de Orientação 
aos Contribuintes do ISSQN 
para o Sistema Nacional NFS-e 
16. Controle de Acesso ao Sistema Nacional NFS-e – Contribuintes 
16.1. Gerenciamento de Perfis e Níveis de Acesso 
16.1.1. Gerenciar Níveis e Perfis de Acesso do Usuário (Emitentes / Não 
Emitentes de NFS-e) 
a. Níveis de Acesso ao Sistema Nacional NFS-e 
Existem três níveis de acesso definidos para o Sistema Nacional NFS-e: 
• Nível 1 - acesso por usuário/senha; 
• Nível 2 - acesso por usuário/senha com validação e cadastro prévio presencial pelo 
município do emitente; 
• Nível 3 - acesso por certificado digital; 
b. Níveis de Acesso ao Sistema Nacional NFS-e por Tipo de Emitente (PJ ou PF) 
16.2. Controle de Primeiro Acesso (Emitentes / Não Emitentes de NFS-e) 
O controle de primeiro acesso dos perfis Emitentes e Não Emitentes de NFS-e é composto por 
processos que são descritos abaixo, desde a funcionalidade para primeiro acesso ao sistema 
até o controle de níveis de acesso a funcionalidades disponíveis. Segue abaixo a descrição 
deste gerenciamento que verifica o cadastramento do emitente de DF-e pelo município no 
Sistema Nacional NFS-e 
16.2.1. Realizar primeiro acesso ao Sistema Nacional NFS-e 
O Cadastramento de Login/Senha no Sistema Nacional da NFS-e será realizada pelo próprio 
usuário no Portal Nacional NFS-e. 
Para utilizar esta funcionalidade o usuário deve possuir os números de recibos das Declarações 
do Imposto de renda Pessoa Física (DIRPF) dos últimos 2 anos. Durante o processo de 
cadastramento será solicitado os números dos recibos de entrega das Declarações do Imposto 
de renda Pessoa Física (DIRPF) dos exercícios referentes às declarações ativas (últimas 
entregues) das quais o CPF do contribuinte seja titular. 
Se a geração de senha for para um CNPJ, os números de recibo das DIRPF que devem ser 
informados são os do CPF que seja responsável legal pelo CNPJ. Em caso de existência de 
registro de declaração de somente um dos últimos exercícios, será obrigatório que o contribuinte 
informe o número do recibo referente à declaração ativa (última entrega) deste ano. 
e demais empresas 

Caso o usuário não tenha nenhum recibo da DIRPF será utilizado o título de eleitor para o 
cadastramento do Login/Senha, obtido do cadastro CPF da RFB. 

 

Caso não possua título de eleitor, não será possível criação de usuário/senha e o usuário será 
instruído a comparecer presencialmente ao município em que seja emitente para ser cadastrado 
no sistema. Outra opção sem a necessidade de comparecimento presencial poderá ser o acesso 
ao sistema por certificado digital. 

 

Ao final, o processo de primeiro acesso realizado é registrado na tabela de log do sistema. 

 

 

 


 


 


 





 


 


 





 


 


 


 



16.2.2. Recuperar senha do usuário 








O processo para recuperação de senha, caso o usuário já tenha se cadastrado, segue 
praticamente o mesmo fluxo realizado no primeiro acesso, exceto pelo início do processo em 
que o usuário já poderá acionar a recuperação de senha desde o início, sem realizar o primeiro 
acesso pois este fluxo já foi realizado. Segue abaixo as telas para melhor entendimento. 

 

 

 

 

 


 

 

Caso o CPF ou CNPJ digitados não sejam encontrados no Sistema Nacional NFS-e, o sistema 
apresenta a tela a seguir para que o usuário opte por realizar o login com um CPF/CNPJ 
reconhecido pelo sistema ou que possa realizar todo o processo de primeiro acesso, conforme 
telas do item Realizar primeiro acesso ao Sistema Nacional NFS-e deste documento. 

 

Durante os processos de primeiro acesso e recuperação de senha de usuário, a existência dos 
CNPJ ou CPF informados pelo usuário, os números da última ou das duas últimas declarações de 
imposto de renda pessoa física e o título de eleitor do CPF informado ou do CPF responsável pelo 
CNPJ são verificados nos respectivos cadastros da RFB. 

 

Caso o CPF ou CNPJ sejam encontrados, ou seja, o usuário já tenha realizado o primeiro acesso 
ao sistema, o Sistema Nacional NFS-e exibe os e-mails cadastrados vinculados ao CPF ou CNPJ 
para que o usuário possa escolher qual e-mail deseja que o sistema envie o link para redefinição 
de senha. 

 

 


 

Ao final, o processo de recuperação de senha realizada é registrado na tabela de log do sistema. 

 

Todas estas informações seguem o fluxo abaixo. 

 

 

 



16.2.3. Confirmação do 
Cadastramento Presencial ao Usuário 



16.3. Controle de Acesso ao Sistema Nacional NFS-e para o Emissor Web 
16.3.1. Control
e de Acesso por Usuário/Senha 








A realização do cadastro inicial de autorização para emissão de NFS-e, bem como a 
regularização da situação cadastral de emitentes de NFS-e serão realizadas no serviço de 
atendimento presencial do município do emitente 

 

Mediante a apresentação e conferência da documentação necessária exigida pelo município, o 
Gestor Atendente Municipal realiza acesso à funcionalidade disponível no Painel Administrativo 
Municipal e realiza o cadastramento inicial ou a regularização do emitente diretamente no CNC 
NFS-e. 

 

O emitente deverá cadastrar uma senha. No primeiro acesso, o Sistema Nacional NFS-e 
identificará o usuário e solicitará que sua senha seja alterada. 

 

 


 

O acesso pelo usuário CNPJ ou CPF e pela senha gerada no Sistema Nacional da NFS-e, 
disponibiliza as funcionalidades conforme definição dos níveis de acesso para o tipo de acesso 
realizado do Sistema Nacional da NFS-e, sem a necessidade de certificado digital. 

 

Se o emitente estiver apenas cadastrado, mas não estiver habilitado, ou seja, estiver bloqueado 
para emissão, o sistema permitirá acesso à funcionalidade para emissão de NFS-e, mas indicará 
por mensagem ao emitente a sua situação de bloqueio no CNC. 

 


Ao final, o controle de acesso por usuário/senha realizado é registrado na tabela de log do 
sistema. 

 


 


 



16.3.2. Controle de Acesso por Certificado Digital 








O acesso por certificado digital disponibiliza as funcionalidades de consultas e emissão de NFS-
e do Sistema Nacional da NFS-e. 

 

Ao final, o controle de acesso por certificado digital realizado é registrado na tabela de log do 
sistema. 

 

 





16.4. Controle de Acesso ao Sistema Nacional NFS-e para API 
16.4.1. Verificar Certificado Digital da Assinatura do DF
-
e 
16.4.2. Verificar Cadastro do Emitente do DF
-
e (CNC NFS
-
e / RFB) 



16.5. Controle de Acesso ao Sistema Nacional NFS-e para o Emissor Móvel 
16.5.1. API para Emitir Token para controle de acesso do Emissor Móvel 
16.5.2. Gerenciamento 
dos Contribuinte Municipais 








 

O emitente do DF-e enviado a qualquer API do Sistema Nacional NFS-e deve ser o mesmo do 
certificado digital da assinatura do documento enviado, ou seja, a inscrição federal (CPF ou 
CNPJ) do emitente do documento enviado deve ser a mesma inscrição federal do certificado 
digital da assinatura. 

 


O emitente do DF-e enviado a qualquer API do Sistema Nacional NFS-e deve estar cadastrado 
no CNC e habilitado (não bloqueado) para a emissão de documentos fiscais no sistema. 

 

Caso a inscrição federal do emitente não seja encontrada no CNC, o município do 
estabelecimento do emitente, conforme os cadastros RFB, deve possuir convênio utilizando os 
cadastros da RFB. 

 

Caso o município do estabelecimento do emitente não esteja conveniado, este emitente não 
pode emitir DF-e pelo Sistema Nacional NFS-e. 

 


 

O sistema emite token com prazo de validade de 24 hrs, considerando o horário da data em 
que foi gerado até o mesmo horário do dia seguinte, para ser utilizado por cada dispositivo 
móvel que se conectar ao sistema utilizando o identificador CPF autorizado à emissão de NFS-
e. O token é verificado para cada uso de cada funcionalidade do Emissor Móvel no sistema. 
Caso o token tenha expirado um novo token é gerado e repassado para o aplicativo. 

 

A emissão do token de controle de acesso para o emissor móvel é registrada na tabela de log 
do sistema. 

 

O controle de acesso dos Contribuintes Municipais contempla as demais funcionalidades de 
controle de acesso do Sistema Nacional da NFS-e, conforme descrito abaixo. 

 

a. Manutenção do Cadastro de Contribuintes do Sistema Nacional da NFS-e 


 


A manutenção pontual e a habilitação cadastral de novos contribuintes ocorrem via Web, 
realizada pelos Gestores Municipais, através de funcionalidade específica disponível no Painel 
Administrativo Municipal. É através deste cadastro que o Sistema Nacional da NFS-e verifica a 
situação cadastral do contribuinte e, conforme esta situação, permitirá acesso ou não às 
funcionalidades de consultas e emissão de NFS-e ao usuário contribuinte; 

 

b. Sincronismo do Cadastro de Contribuintes Municipal com o Cadastro Nacional de 
Contribuintes 


 


Os municípios que já possuem um sistema próprio para emissão de NFS-e, consequentemente 
possuem um cadastro de contribuintes autorizados a emitir NFS-e. Para os casos será 
disponibilizado um serviço para o sincronismo entre o Cadastro de Contribuintes Municipal e o 
Cadastro de Contribuintes do Sistema Nacional da NFS-e. O sincronismo ocorre via Web Services 
disponíveis no Sistema Nacional (WS NFSeManutCad / WS NFSeDistCad). 

 

 



c. Mudança de Contexto Municipal 
16.6. Controle de Acesso ao Sistema Nacional NFS-e via OAuth 2 





 

Um Contribuinte Municipal pode ser contribuinte de um ou mais municípios. Um contribuinte 
que esteja acessando e executando as funcionalidades do Sistema Nacional da NFS-e pode 
realizar uma mudança de contexto municipal, a fim de executar as funcionalidades como 
contribuinte de outro município em que esteja prestando serviços. 

 

Caso o contribuinte selecione a mudança de contexto municipal o sistema verifica sua situação 
cadastral para o município que ele estiver selecionando. O acesso às funcionalidades de 
consultas e emissão de NFS-e dependem dessa situação cadastral do contribuinte para o 
município que se está realizando a mudança de contexto. 

 

Caso para um determinado município exista o registro, mas não esteja habilitado como 
contribuinte Prestador de serviços, não haverá acesso às funcionalidades de consultas e emissão 
de NFS-e para o contribuinte naquele município, somente acesso como Tomador/Intermediário 
de serviços. 

 

O Sistema Nacional NFS-e concederá acesso aos contribuintes através do protocolo de 
autorização OAuth 2, que é um protocolo de autorização que permite que uma aplicação se 
autentique em outra. Para que isso aconteça, uma aplicação pede permissão de acesso para 
um usuário, sem que para isso ela tenha acesso a alguma senha dele. O usuário pode conceder 
ou não o acesso à aplicação. Depois da permissão ser aceita, caso o usuário precise alterar a 
senha de acesso, a permissão continuará válida para a aplicação e, caso necessário, a 
permissão dada à aplicação pode ser revogada a qualquer momento também. 

 

Isso permitirá ao contribuinte ser autenticado ao Sistema Nacional NFS-e com sua conta do 
Google ou Facebook, por exemplo, quando se está em alguma outra aplicação, para evitar de 
ter que fazer na mão algum cadastro, é dada a autorização de uma aplicação terceira a usar os 
recursos da sua aplicação, neste caso o Google ou o Facebook. Essas aplicações têm acesso 
limitado às informações de usuários através do protocolo HTTP
. 

 

Embora o Sistema Nacional permita o acesso através do protocolo OAuth 2, uma vez logado os 
perfis de acesso serão seguidos conforme especificação nos itens acima neste manual. Um 
usuário que tenha efetuado o acesso utilizando esta opção que utiliza o OAuth 2, se assemelha 
a um usuário que tenha acessado o sistema via usuário e senha, dessa forma este usuário teria 
o Nível 1 - acesso por usuário/senha. 

 


111 
Manual de Orientações 
aos Contribuintes do ISSQN 
para o Sistema Nacional NFS-e 
17. Ambiente de Dados Nacional NFS-e – Distribuição de DF-e 
Módulo do Sistema Nacional NFS-e que funciona como um repositório nacional de documentos 
fiscais eletrônicos – DF-e (NFS-e nacional e Eventos de NFS-e, Créditos, Débitos e Apuração). 
O ADN fornece a API DF-e para a distribuição dos documentos fiscais eletrônicos para os 
“atores” municípios conveniados ao SN NFS-e. Entende-se por “atores” as partes interessadas 
que não sejam as ATM, ou seja, os Emitentes e Não Emitente da NFS-e, que podem ser o 
Prestador, o Tomador ou o Intermediário. 
O ADN agiliza o compartilhamento de informações e obtenção da confirmação da entrega em 
modo síncrono, com garantia de entrega fim-a-fim entre as aplicações. O uso da Internet, a 
escalabilidade da solução e a centralização dos processos são fatores chaves para este modelo. 
A modelagem do compartilhamento de DF-e através de NSU permite a implementação de um 
controle de sincronismo eficiente, identificando os documentos fiscais faltantes no ADN e 
possibilitando a recuperação de documentos faltantes do repositório local. 
17.1. Distribuição de DF-e pelo ADN NFS-e 
Esta funcionalidade do ADN poderá ser acessada pelo contribuinte que deseja receber os 
documentos fiscais em que seja parte interessada. Para isso seu identificador (CPF/CNPJ) deve 
constar na NFS-e como interessado (Prestador, Tomador e Intermediário do serviço da NFS-e). 
Os eventos relacionados a uma NFS-e possuem as mesmas regras de distribuição da NFS-e. 
Para realizar o controle e distribuição dos DF-e do ADN foi criado o NSU (Número Sequencial 
Único) abaixo: 
5. NSU de Distribuição para os atores da NFS-e (por CPF/CNPJ) - Utilizado para distribuir 
os documentos para cada CPF/CNPJ interessado nos DF-e (Prestador, Tomador e 
Intermediário). 
17.2. API Distribuição DF-e 
17.2.1. Descrição 
Possui três métodos que realizam a distribuição dos DF-e para os atores da NFS-e: Emitente e 
Não Emitente (podem estar configurados como Prestador, Tomador e Intermediário do serviço 
da NFS-e). 
Para obter os DF-e, a inscrição federal (CPF ou CNPJ) dos atores deve constar na NFS-e nos 
campos apropriados que identificam o Prestador, Tomador e Intermediário do serviço da NFSe. 
Os eventos de NFS-e que referenciam esta NFS-e poderão ser distribuídos para estes atores. 
Os atores devem possuir um certificado digital de PF com seu CPF ou PJ com seu CNPJ. 
O Ambiente de Dados Nacional gera um número sequencial único (NSU) para cada interessado 
nos documentos fiscais, conforme manual que trata do Modelo Conceitual, Definições Técnicas 
e Integrações do Sistema Nacional NFS-e. Os documentos recuperados deverão conter uma 
sequência de numeração sem intervalos em sua base de dados. 
a) Distribuição de Conjunto de DF-e a Partir do NSU Informado 
A aplicação cliente da API deve informar o último número sequencial único (ultNSU) que possui. 
Caso o NSU informado seja menor que o primeiro NSU disponível para distribuição, a aplicação 
do Ambiente de Dados Nacional deverá fornecer os documentos a partir do primeiro disponível 
para consulta. 

b) Consulta DF-e Vinculado ao NSU Informado 


A consulta a um DF-e a partir de um NSU permite que o interessado nos documentos fiscais 
consulte de maneira pontual um NSU que foi identificado como faltante, ou seja, não seja, não 
corresponde a nenhum DF-e em sua base de dados. 


A aplicação cliente da API deve informar o número sequencial único (NSU) identificado como 
faltante em sua base de dados para que a API possa retornar o DF-e correspondente ou se o 
NSU é faltante, ou seja, por algum motivo no processamento o NSU foi gerado, mas não 
corresponde a um DF-e e deve ser desconsiderado pelo usuário. 


 


c) Consulta de NFS-e por Chave de Acesso Informada 
17.2.2. Processamento 





A consulta a partir de uma chave de acesso permite que o interessado na NFS-e consulte de 
maneira pontual uma chave de acesso e obtenha o documento relativo à esta chave. 


A aplicação cliente da API deve informar uma chave de acesso válida para recuperar a NFS-e. 


 


 


a) GET – /DFe/{UltimoNSU} 


Obtém até 50 DF-e a partir do último NSU informado. O solicitante utiliza como parâmetro para 
realizar a consulta o último NSU que é de seu conhecimento. O sistema nacional pesquisa até 
50 DF-e que corresponderem aos próximos 50 NSU em sequência, a partir do último NSU 
repassado como parâmetro da consulta. O sistema nacional distribui estes DF-e encontrados e 
informa o último NSU da sequência encontrada para que o solicitante possa realizar nova 
consulta e repassar como parâmetro este último NSU informado pelo sistema nacional. 


A criação do lote de documentos deverá observar as seguintes regras: 


• Ordem crescente de NSU; 
• O lote poderá conter qualquer tipo de documento válido e seu respectivo NSU; 
• Quantidade máxima de documentos no lote: 50 documentos; 


Documentos emitidos pela própria empresa não estarão disponíveis para consulta. 


Importante ressaltar que o processo de recepção e sincronização não será realizado em ordem 
cronológica de emissão ou geração pelo sistema gerador de NFS-e (municipal ou Sefin 
Nacional), uma vez que a geração do NSU dos documentos será organizada por ordem 
cronológica de recepção pelo ADN NFS-e. 


Com este serviço, a empresa ou pessoa física conseguirá recuperar todos os documentos de 
seu interesse tão logo estes sejam recebidos pelo ADN NFS-e. 


É conveniente manter um controle do primeiro NSU válido para consulta. A resposta da API 
poderá ser: 


• Rejeição - com a devolução da mensagem com o motivo da falha informado; 
• Nenhum documento localizado – não existe documentos fiscais para o CNPJ/CPF 
informado; 
• Documento localizado – com a devolução dos documentos fiscais encontrados; 


O interessado nos DF-e deverá aguardar um tempo mínimo de uma hora para efetuar uma 
nova solicitação de distribuição caso receba a indicação que não existem mais documentos a 
serem pesquisados na base de dados do ADN. Se o NSU informado (ultNSU) for igual ao maior 
NSU do Ambiente Nacional (maxNSU), então não existem mais documentos a serem 
pesquisados no momento. 


 



Segue abaixo uma tabela indicando quais atores devem ser distribuídos os DF-e: 


 


Documentos Fiscais Eletrônicos – DF-e 


Emitente 


da NFS-e 


Não Emitente 


da NFS-e 


NFS-e 


Não 


Sim 


Evento de Cancelamento de NFS-e 


Não 


Sim 


Evento de Cancelamento por Substituição de NFS-e 


Sim 


Sim 


Evento de Solicitação de Análise Fiscal para Cancelamento de NFS-e 


Não 


Sim 


Evento de Cancelamento de NFS-e Deferido por Análise Fiscal 


Sim 


Sim 


Evento de Cancelamento de NFS-e Indeferido por Análise Fiscal 


Sim 


Sim 


Evento de Manifestação de NFS-e – Confirmação do Prestador 


Sim 


*Sim 


Evento de Manifestação de NFS-e – Confirmação do Tomador 


Sim 


*Sim 


Evento de Manifestação de NFS-e – Confirmação do Intermediário 


Sim 


*Sim 


Evento de Manifestação de NFS-e – Confirmação Tácita 


Sim 


Sim 


Evento de Manifestação de NFS-e – Rejeição do Prestador 


Sim 


*Sim 


Evento de Manifestação de NFS-e – Rejeição do Tomador 


Sim 


*Sim 


Evento de Manifestação de NFS-e – Rejeição do Intermediário 


Sim 


*Sim 


Evento de Manifestação de NFS-e – Anulação da Rejeição 


Sim 


Sim 


Evento de Cancelamento de NFS-e por Ofício 


Sim 


Sim 


Evento de Bloqueio de NFS-e por Ofício do Cancelamento de NFS-e 


Sim 


Não 


Evento de Bloqueio de NFS-e por Ofício do Cancelamento de NFS-e por Substituição 


Sim 


Não 


Evento de Bloqueio de NFS-e por Ofício do Cancelamento de NFS-e Deferido por Análise Fiscal 


Sim 


Não 


Evento de Bloqueio de NFS-e por Ofício do Cancelamento de NFS-e Indeferido por Análise Fiscal 


Sim 


Não 


Evento de Bloqueio de NFS-e por Ofício do Cancelamento de NFS-e por Ofício 


Sim 


Não 


Evento de Desbloqueio de NFS-e por Ofício do Cancelamento de NFS-e 


Sim 


Não 


Evento de Desbloqueio de NFS-e por Ofício do Cancelamento de NFS-e por Substituição 


Sim 


Não 


Evento de Desbloqueio de NFS-e por Ofício do Cancelamento de NFS-e Deferido por Análise Fiscal 


Sim 


Não 


Evento de Desbloqueio de NFS-e por Ofício do Cancelamento de NFS-e Indeferido por Análise Fiscal 


Sim 


Não 


Evento de Desbloqueio de NFS-e por Ofício do Cancelamento de NFS-e por Ofício 


Sim 


Não 




* Em toda NFS-e temos um emitente e até dois não emitentes que podem constar na nota dentre os atores possíveis, 
Prestador, Tomador e Intermediário, sendo emitentes e não emitentes excludentes uns aos outros. O Sistema Nacional 
NFS-e não fará a distribuição de um documento para o próprio emitente do documento. Dessa forma é necessário 
entender a natureza de cada documento e quem é o emitente do DF-e. Os Eventos de Manifestações de NFS-e 
(Confirmação e Rejeição) são eventos que são emitidos pelos não emitentes da NFS-e. Assim, quando indicamos “Sim” 
na coluna “Não Emitente da NFS-e” da tabela acima, estamos dizendo que o outro possível não emitente é para quem 
deve ser distribuído o DF-e. Como exemplo, se uma NFS-e foi emitida por um Prestador e contém a identificação do 
Tomador e do Intermediário, então um Evento de Manifestação de NFS-e – Confirmação do Tomador deve ser distribuído 
para o outro não emitente da NFS-e, que no caso é o Intermediário identificado na NFS-e. 


 


b) GET – /DFe/{NSU} 


O solicitante informa um NSU e o sistema nacional retorna o DF-e associado. 


 


c) GET – /NFSe/{ChaveAcesso}/Eventos/ 


O solicitante informa a chave de acesso de uma NFS-e e recebe os eventos vinculados à NFS-e 
informada na consulta. 


 


Para a distribuição dos DF-e realizados pelo ADN devem ser compreendidos: 


 


• Leiautes DPS e NFS-e; 
• Leiautes Pedido de Registro de Evento e Evento de NFS-e; 


 


Estes itens estão disponíveis no AnexoI-LeiautesRN_DPS_NFSe-SNNFSe. 


 


 



17.3. API DANFSe 
17.3.1. Descrição 
17.3.2. Processamento 








 

Serviço que gera o arquivo PDF da NFS-e (DANFSe – Documento Auxiliar de Nota Fiscal de 
Serviço eletrônica) a partir de uma consulta pela chave de acesso da NFS-e. 


 


Consulta ao banco de dados do ADN NFS-e para recuperar o XML da NFS-e solicitada e, a partir 
das informações contidas no documento NFS-e, gerar o PDF em leiaute específico. Será possível 
gerar o DANFSe de qualquer nota que conste no ADN independentemente se foram geradas 
pela Sefin Nacional ou pelo sistema próprio do município, desde que o documento XML gerado 
pelo sistema municipal tenha sido compartilhado com o ADN NFS-e. 


 


a) GET – /danfse/{chaveAcesso} 


Recupera o DANFSe de uma NFS-e a partir de sua chave de acesso. O solicitante informa a chave 
de acesso e a API retorna o PDF da NFS-e correspondente à chave de acesso informada na 
consulta. Podem ser consultados identificadores de NFS-e geradas através da Sefin Nacional 
NFS-e ou qualquer Sefin geradora de NFS-e (desde que as NFS-e tenham sido transcritas para 
o leiaute nacional e compartilhadas com o Ambiente de Dados Nacional NFS-e.). 


 



